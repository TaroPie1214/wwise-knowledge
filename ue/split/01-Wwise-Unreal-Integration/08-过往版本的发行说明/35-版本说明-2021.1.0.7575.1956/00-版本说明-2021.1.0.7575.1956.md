# 版本说明 2021.1.0.7575.1956

|  |
| --- |
| Wwise Unreal Integration Documentation |

版本说明 2021.1.0.7575.1956

此 Integration 的各个版本分别与特定的 Unreal Engine 4 版本对应。以下是 Integration 2021.1.0.7575.1956 版本中所作的改进（除升级到新的 Unreal 版本外）。 [重要迁移说明 2021.1.0.7575.1956](pg_important_migration_notes_2021_1_0.html)

|  |  |
| --- | --- |
|  | **注記：** 此 Integration 版本不支持实验性的 Unreal Engine 4 功能。 |

|  |  |
| --- | --- |
|  | **注記：** 此 Integration 针对 Unreal Engine 4.23 及更高版本编译，但只针对 Unreal Engine 4.26 进行了测试。 |

有关早期版本的信息，请参阅 [过往版本的发行说明](previousreleases.html) 章节。

- [新增功能](releasenotes_2021_1_0_1956.html#generic_feature_changes_2021_1)
- [API 改进](releasenotes_2021_1_0_1956.html#generic_api_changes_2021_1)
- [行为改进](releasenotes_2021_1_0_1956.html#generic_behavior_changes_2021_1)
- [其他改进](releasenotes_2021_1_0_1956.html#generic_misc_2021_1)
- [漏洞修复](releasenotes_2021_1_0_1956.html#generic_bugs_2021_1)
- [社区报告的漏洞修复](releasenotes_2021_1_0_1956.html#generic_community_bugs_2021_1)

# 新增功能

- **WG-35740** Blueprint 中的 Spatial Audio：添加了 UAkPortalComponent，可与 UPrimitiveParent 组件绑定。统一了 UAkRoomComponent、UAkLateReverbComponent 和 UAkGeometryComponent，使其可与任何 UPrimitiveComponent 绑定。在 Integration Settings 中添加了 Visualize Rooms and Portals 选项，以此为 Room 和 Portal 放置提供辅助。
- **WG-46375** 现在可将 Ak Portal 组件添加到 Blueprint 类。
- **WG-48244** System Audio Device 现在支持通过 Microsoft Spatial Sound 来应用 3D Audio。
- **WG-48270** 向 AkLateReverbComponent 添加了 Auto Assign Aux Bus 和 Reverb Parameter Estimation 功能。
- **WG-48507** 添加了 Volumetric Emitter Component。
- **WG-48703** 在 Unreal Editor 视口中添加了 Visualize Rooms and Portals 选项，可通过 Unreal Project Settings 菜单中的 Wwise Integration Settings 启用/禁用。
- **WG-50210** 现在可使用游戏发送的新设置来调节用户针对 Game Object 3D Viewer 定义的各项大小。
- **WG-51976** 现在可在 Wwise 工程和 Unreal 工程之间同步 Acoustic Texture 的颜色。
- **WG-52051** 更新了 Ak Surface Reflector Set 组件和 Spatial Audio Volume 上 Acoustic Surfaces 属性的 UI。现在可在 Unreal Editor 中使用 Brush Editing 模式将 Acoustic Texture 指派给一个或多个表面。
- **WG-52685** 现在可直接通过工程文件解析 Physical Folder 层级结构。

# API 改进

- **WG-47085** 为便于重新分配内存，针对 `AK::IAkPluginMemAlloc` 添加了新的方法：`AK::IAkPluginMemAlloc::Realloc` 和 `AK::IAkPluginMemAlloc::ReallocAligned`。
- **WG-50742** 重新命名了 Spatial Audio 中的参数，由原来的“声笼”改为使用“透射损失”。

# 行为改进

- **WG-47039** 现在可在 Wwise 和 Unreal Content Browser 之间自动同步 Virtual Folder。
- **WG-48155** 现在可将 Ak Room 和 Ak Late Reverb 组件添加到 AVolume 以外的 Actor。现在可通过 Actor Blueprint 调用 Ak Room 和 Ak Late Reverb 组件 Blueprint 函数。
- **WG-49551** AkAssetDatabase 不再在 Editor 打开时或素材同步期间加载素材。这样可以缩短总体加载时间。
- **WG-52785** 现在在运行 Commandlet 时会禁用 WAAPI。

# 其他改进

- **WG-47980** 为插件添加了新的可选 XML 属性以便指定其静态库的名称。
- **WG-49988** Portal 现在使用 X 轴作为前轴以确保与 Unreal 坐标系保持一致。
- **WG-53093** 针对素材移动和素材同步操作减少了不必要的对话框消息。

# 漏洞修复

- **WG-48689** 已修复：在实例化 Blueprint 类中的 AkGeometry 组件时发生 nullptr 异常。
- **WG-50804** 已修复：MaxSimultaneousReverbVolumes 的名称和工具提示没有将组件涵盖在内。
- **WG-50861** 已修复：因针对所有 UAkRoomComponent 和 UAkLateReverbComponent 执行线性搜索而导致无法恰当更新 AkComponent 的位置。为此，我们将这种线性搜索替换为了对空间索引数据结构的查询，以便依据组件数量实施对数缩放。
- **WG-52242** 已修复：Unreal Editor 无法通过发送相应的 WAAPI 命令来移动名称中包含特殊字符的文件夹。
- **WG-52305** 已修复：素材同步操作存在多种问题。
- **WG-52824** 已修复：在删除大批素材时发生崩溃。
- **WG-53335** 已修复：AkExternalSourceInfo 的 Codec ID 下拉菜单中未列入 WEM Opus 格式。

# 社区报告的漏洞修复

- **WG-52245** 已修复：有时无法将 Unreal Editor 中对 Wwise 对象所作的更改应用到 Wwise 设计工具中。
- **WG-52893** 已修复：没有将对嵌套 Work Unit 所作的修改应用到 Wwise Picker 中。
- **WG-53195** 已修复：AkGeometry 的 `ConvertConvexMeshToGeometryData()` 无法获取 Convex Mesh，反而总是使用 Bounding Box。
- **WG-53444** 已修复：`AkLowLevelMemory::Alloc` 有时无法返回按页面对齐的内存。