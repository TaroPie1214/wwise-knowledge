# 版本说明 2019.2.10.7490.1917

|  |
| --- |
| Wwise Unreal Integration Documentation |

版本说明 2019.2.10.7490.1917

此 Integration 的各个版本分别与特定的 Unreal Engine 4 版本对应。以下是 Integration 2019.2.10.7490.1917 版本中所作的更改（除升级到新的 Unreal 版本外）。

|  |  |
| --- | --- |
|  | **警告：** 鉴于引用设置中所作的改进，在将工程迁移到 Wwise 2019.2.10 后必须更新所有 Wwise 素材。建议用户先执行 Clear Sound Data 再执行 Generate Sound Data 操作。否则，打包好的游戏中可能会触发 Unreal 断言并显示以下错误消息： `Error: Assertion failed: Offset + BytesToRead <= UncompressedFileSize && Offset >= 0` |

|  |  |
| --- | --- |
|  | **注記：** 此 Integration 版本不支持实验性的 Unreal Engine 4 功能。 |

|  |  |
| --- | --- |
|  | **注記：** 此 Integration 针对 Unreal Engine 4.23 及更高版本编译，但只针对 Unreal Engine 4.26 进行了测试。 |

有关早期版本的信息，请参阅 [过往版本的发行说明](previousreleases.html) 章节。

- [新增功能](releasenotes_2019_2_10_1917.html#generic_feature_changes_2019_2_10)
- [行为改进](releasenotes_2019_2_10_1917.html#generic_behavior_changes_2019_2_10)
- [其他改进](releasenotes_2019_2_10_1917.html#generic_misc_2019_2_10)
- [漏洞修复](releasenotes_2019_2_10_1917.html#generic_bugs_2019_2_10)
- [社区报告的漏洞修复](releasenotes_2019_2_10_1917.html#generic_community_bugs_2019_2_10)

# 新增功能

- **WG-52685** 现在可直接通过工程文件解析 Physical Folder 层级结构。

# 行为改进

- **WG-47039** 现在可在 Wwise 和 Unreal Content Browser 之间自动同步 Virtual Folder。
- **WG-49551** AkAssetDatabase 不再在 Editor 打开时或素材同步期间加载素材。这样可以缩短总体加载时间。
- **WG-50863** Event 中的媒体引用改成了硬引用，现在使用 Bulk Data Async IO API 加载媒体数据。在大多数情况下，在要使用 Audio Event 时，只需加载素材便可使用所有相关媒体。
- **WG-52785** 现在在运行 Commandlet 时会禁用 WAAPI。

# 其他改进

- **WG-53093** 针对素材移动和素材同步操作减少了不必要的对话框消息。

# 漏洞修复

- **WG-50934** 已修复：在 AkBankManager 中卸载 SoundBank 时可能会发生崩溃。
- **WG-52242** 已修复：Unreal Editor 无法通过发送相应的 WAAPI 命令来移动名称中包含特殊字符的文件夹。
- **WG-52305** 已修复：素材同步操作存在多种问题。
- **WG-52824** 已修复：在删除大批素材时发生崩溃。
- **WG-53335** 已修复：AkExternalSourceInfo 的 Codec ID 下拉菜单中未列入 WEM Opus 格式。

# 社区报告的漏洞修复

- **WG-50334** 已修复：若在 `GIsInitialLoad` 为 True 时加载 Event，则在打包好的构建版本中启动时将触发断言。
- **WG-51258** 已修复：因过早释放媒体内存而导致 SoundEngine 发生崩溃。
- **WG-52893** 已修复：没有将对嵌套 Work Unit 所作的修改应用到 Wwise Picker 中。
- **WG-52991** 已修复：每次直接调用 `Load()` 函数，分组值中存储的数据包路径都会变长。
- **WG-53031** 已修复：在 Convolution Reverb 生成尾音时卸载关卡可能会导致 Event-Based Packaging 发生崩溃。
- **WG-53195** 已修复：AkGeometry 的 `ConvertConvexMeshToGeometryData()` 无法获取 Convex Mesh，反而总是使用 Bounding Box。
- **WG-53444** 已修复：`AkLowLevelMemory::Alloc` 有时无法返回按页面对齐的内存。
- **WG-53585** 已修复：在 SoundBank 生成过程中，没有等到完成所有解析任务便开始构建媒体。
- **WG-53707** 已修复：在删除 Event 素材时，规定 SoundBank 中的 Linked Ak Events 列表没有清除对应条目。