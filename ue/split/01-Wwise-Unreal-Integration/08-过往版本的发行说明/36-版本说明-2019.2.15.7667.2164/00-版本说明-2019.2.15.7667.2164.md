# 版本说明 2019.2.15.7667.2164

|  |
| --- |
| Wwise Unreal Integration Documentation |

版本说明 2019.2.15.7667.2164

此 Integration 的各个版本分别与特定的 Unreal Engine 4 版本对应。以下是 Integration 2019.2.15.7667.2164 版本中所作的更改（此外还升级到了新的 Unreal 版本）。

- [重要迁移说明 2019.2.15.7667.2164](pg_important_migration_notes_2019_2_15.html)

|  |  |
| --- | --- |
|  | **注記：** 此 Integration 版本不支持实验性的 Unreal Engine 4 功能。 |

|  |  |
| --- | --- |
|  | **注記：** 此 Integration 针对 Unreal Engine 4.26 和 4.27 编译，并且针对 Unreal Engine 4.27.2 进行了测试。暂不支持比上述更高的 Unreal Engine 大版本。Wwise 2019.2 不提供对 Unreal Engine 5 的支持。要支持 Unreal Engine 5，请更新到 Wwise 2021.1。 |

有关早期版本的信息，请参阅 [过往版本的发行说明](previousreleases.html) 章节。

- [新增功能](releasenotes_2019_2_15_2164.html#generic_feature_changes_2019_2_15)
- [行为改进](releasenotes_2019_2_15_2164.html#generic_behavior_changes_2019_2_15)
- [其他改进](releasenotes_2019_2_15_2164.html#generic_misc_2019_2_15)
- [漏洞修复](releasenotes_2019_2_15_2164.html#generic_bugs_2019_2_15)
- [社区报告的漏洞修复](releasenotes_2019_2_15_2164.html#generic_community_bugs_2019_2_15)

# 新增功能

- **WG-54828** 现在可在 Unreal Content Browser 中使用新的选项来清除各个 Wwise 素材的 Sound Data。这样方便在将 Sound Voice 改为 Sound SFX（反之亦然）后执行必要的 Sound Data 清除操作。
- **WG-55555** 向 `GenerateSoundBanks` Commandlet 添加了两个新的参数：`autosubmit`（将生成的素材自动提交到版本控制系统）和 `clnum`（指定提交编号）。

# 行为改进

- **WG-57995** 提升了 Sound Data 生成期间的素材加载性能。
- **WG-58889** 现在会在结束 Play in Editor 会话时停止播放所有声音。
- **WG-59966** Integration 不再在加载时自动更正素材中的 ShortID。若在 Output log 中看到 Invalid ShortID 警告，请重新生成 Sound Data 并保存修改的所有素材。

# 其他改进

- **WG-56843** 现在默认对 `UPROPERTY` 进行初始化。

# 漏洞修复

- **WG-54251** 已修复："Clear Sound Data" 工具没有移除本地化 Unreal 素材数据。
- **WG-55387** 已修复：在 Unreal Asset Registry 完成素材发现前打开 Level Sequence 时，Sequencer 发生崩溃。
- **WG-59502** 已修复：同一媒体可能多次调用 SetMedia，导致发生内存泄漏。
- **WG-59600** 已修复：在非编辑器构建中，FAkAudioModule 加载图标并尝试初始化 WAAPI。
- **WG-60059** 已修复：在针对不包含目标语言的素材数据的 AkAudioBank 素材切换语言时发生崩溃。将 AkAudiobank "Could not find localized data" 日志由错误降级为了警告。
- **WG-60163** 已修复：在 Wwise 中重新导入音频源并重新生成 Sound Data 后没有在Unreal Editor 中更新内存中的媒体。
- **WG-60218** 已修复：在未使用 Event-Based Packaging 时发生打包错误。
- **WG-60252** 已修复：在 Sound Voice 上添加 Convolution Reverb 时显示“无法设置自动加载”错误。
- **WG-60254** 已修复：本地化媒体发生 `AkMediaMemoryManager::ReleaseMediaMemory`: Negative RefCount 错误。
- **WG-60263** 已修复：在游戏启动时触发 RecursionNotAllowed 断言。
- **WG-60394** 已修复：在关闭 Unity build 时构建失败。

# 社区报告的漏洞修复

- **WG-50111** 已修复：在将本地化 Event 分组存放到 SoundBank 中时更改语言会导致错误。
- **WG-50220** 已修复：在通过 "Set Current Audio Culture" Blueprint 更改 Audio Culture 时发生崩溃。
- **WG-51577** 已修复：在加载关卡后马上更改本地化可能会引发崩溃。
- **WG-53110** 已修复：在退出 Play In Editor (PIE) 模式后，通过 Content Browser 上下文菜单播放的 Event 没有声音。
- **WG-53151** 已修复：对于加载关卡（比如从 Level Sequence 时间线）后立即发送的 Event，本地化媒体数据加载得太晚了。
- **WG-55967** 已修复：在从 Content Browser 预览时无法播放本地化 Event。
- **WG-56793** 已修复：对 Switch Container 中的本地化语音进行流播放有时会导致其无法播放。
- **WG-56935** 已修复：在地图过渡过程中若在播放 Event 会发生崩溃。
- **WG-57271** 已修复：在旧模式下，AkBankManager 不允许卸载 SoundBank。
- **WG-57378** 已修复：向 Unreal DirectoryWatcher API 传递了错误的标记。
- **WG-57751** 已修复：无法正常加载启用了 Split Switch Container Media 的 Switch Container 中的本地化媒体。报告在 Sound Data 生成期间媒体被同时解析为流播放和非流播放，导致出现播放问题。
- **WG-57789** 已修复：在使用 Blueprint 回调时发生崩溃并出现内存泄漏。
- **WG-57791** 已修复：`AkLateReverbComponent` 中的布尔逻辑运算符拼写有误。
- **WG-57812** 已修复：在 Blueprint 节点中使用 PostAndWaitEndOfEvent 时发生崩溃。
- **WG-57933** 已修复：在使用 Unreal 原有 I/O 挂钩时将设计工具连接到游戏会话导致崩溃或挂起。
- **WG-57987** 已修复：在 Legacy（非 EBP）模式下生成 Sound Data 时，不在游戏线程上加载素材会引发崩溃。
- **WG-58133** 已修复：在 AkAudio 模块之前加载 Wwise 素材时发生崩溃。
- **WG-58518** 已修复：在运行 "GenerateSoundBanks" Commandlet 时没有创建最近使用的媒体素材。使用新的 `forceAssetSync` Switch 强制创建新的素材。
- **WG-58616** 已修复：缺少本地化媒体，导致无法切换到新的区域设置。
- **WG-59294** 已修复：在后续加载的两个关卡中发送时无法播放流播放的声音。
- **WG-60035** 已修复：在加载本地化媒体和 SoundBank 数据时出现各种问题。
- **WG-60111** 已修复：在工程中存在 Wwise Convolution Reverb 效果器的情况下通过 WAAPI 生成 Sound Data 会发生崩溃。
- **WG-60162** 已修复：在 Media Asset Data 检查其是否需要在开始加载父级媒体素材前卸载时死机。
- **WG-60165** 已修复：在 Commandlet 中构建 Sound Data 时死机。
- **WG-60233** 已修复：无法在 Linux Server build 上进行构建。