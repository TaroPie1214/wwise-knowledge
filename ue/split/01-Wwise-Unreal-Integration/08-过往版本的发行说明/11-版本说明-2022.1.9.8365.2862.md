# 版本说明 2022.1.9.8365.2862

|  |
| --- |
| Wwise Unreal Integration Documentation |

版本说明 2022.1.9.8365.2862

此 Integration 的各个版本分别与特定的 Unreal Engine 版本对应。以下是 Integration 2022.1.9.8365.2862 版本中所作的更改（除升级到新的 Unreal 版本外）。

|  |  |
| --- | --- |
|  | **注記：** 此 Integration 版本不支持实验性的 Unreal Engine 功能。 |

|  |  |
| --- | --- |
|  | **注記：** 此 Integration 针对 Unreal Engine 4.27、5.1、5.2 和 5.3 编译，并且针对 Unreal Engine 5.3 进行了测试。暂不支持比上述更高的 Unreal Engine 大版本，但后续补丁版本中会提供相应支持。 |

有关早期版本的信息，请参阅 [过往版本的发行说明](previousreleases.html) 章节。

- [新增功能](releasenotes_2022_1_9_2862.html#generic_feature_changes_2022_1_9)
- [性能改进](releasenotes_2022_1_9_2862.html#generic_perf_changes_2022_1_9)
- [漏洞修复](releasenotes_2022_1_9_2862.html#generic_bugs_2022_1_9)
- [社区报告的漏洞修复](releasenotes_2022_1_9_2862.html#generic_community_bugs_2022_1_9)
- [文档改进](releasenotes_2022_1_9_2862.html#generic_documentation_improvements_2022_1_9)

# 新增功能

- **WG-68016** 添加了 WwiseResourceLoader 单元测试。
- **WG-68061** 现在支持在 UE4.27 上通过 Session Frontend 的 Automation 执行单元测试。
- **WG-68279** 添加了相应函数以确认正在特定 ExecutionQueue 中执行代码。

# 性能改进

- **WG-67286** 在 Unreal 5.1 及更高版本上，Integration 现在使用 TTask 和基础 Unreal 线程处理大多数的任务。

# 漏洞修复

- **WG-63322** 已修复：缺少关于未指派 Late Reverb Aux Bus 的警告。
- **WG-63515** 已修复：在更改 AkGeometry 组件的 Acoustic Texture 后没有更新混响估值属性。
- **WG-63820** 已修复：在关卡流播放期间调用打开/关闭的 Portal 时，UpdateConnectedRooms 当中 Unreal 发生崩溃。
- **WG-64664** 已修复：在修改 AkSpatialAudioVolume 的 Late Reverb 树视图组件时没有刷新其余的 UI。
- **WG-67343** 已修复：Wwise Browser 和 Reconcile 对话框一次仅列出一个落单素材。
- **WG-67386** 已修复：在地图包含不带 UPrimitiveComponent 父对象的 AkRoomComponent 时 PIE 发生崩溃。
- **WG-67418** 已修复：在将某一关卡添加到另一关卡后执行“撤消”操作时，Unreal 发生崩溃。
- **WG-67848** 已修复：Fit To Geometry 没有根据所撞表面的 Physical Material 来修改 Spatial Audio Volume 的几何构造属性。
- **WG-68315** 已修复：无法在 Server 模式下构建 Wwise Unreal 插件。
- **WG-68361** 已修复：在运行 Reconcile 后，Wwise Browser 中没有更新落单素材。
- **WG-68496** 已修复：移除了 Unreal Server 启动当中的 "No Resource Loader" 错误。
- **WG-68516** 已修复：Wwise Browser 中重复显示重命名的条目。
- **WG-68616** 已修复：为 Communication 使用了错误的预处理器。
- **WG-68620** 已修复：在生成 SoundBank 后，Assert Registry 触发断言。
- **WG-68702** 已修复：报告媒体和 SoundBank 加载情况的 Verbose LogWwiseFileHandler 日志条目很难解释，且其没有包含正确的内存位置。
- **WG-68991** 已修复：Wwise 插件的 `ThirdParty` 文件夹中存在重复的 Wwise SDK 文件。

# 社区报告的漏洞修复

- **WG-63321** 已修复：构建 Unreal 服务器会导致日志错误并阻止打包。
- **WG-64326** 已修复：销毁后还能调用 AkComponentCallback。
- **WG-66623** 已修复：AkComponent 代码中的发声体-听者关系使用了原始指针而非弱指针。
- **WG-66785** 已修复：无法在打包好的 Unreal 游戏中更新动态 Room 和 Portal 变换。
- **WG-67444** 已修复：Test 配置下可能会出现内存不足的情况。
- **WG-67518** 已修复：在使用 UE 5.3 时，Test 配置加载通信库。
- **WG-67619** 已修复：由于 Resource Loader 出现争用问题导致发生崩溃。
- **WG-67704** 已修复：`AkGameplayStatics.cpp` 中存在枚举操作问题。
- **WG-67950** 已修复：由于在 Portal 组件中使用了原始指针导致发生崩溃。
- **WG-68029** 已修复：在有些情况下，在 `FWwiseExecutionQueue` 中使用 `std::atomic` 会导致发生死锁。
- **WG-68089** 已修复：在 Blueprint 中将 AkSpatialAudioVolume 用作 ChildActor 时发生崩溃。
- **WG-68102** 已修复：UE 4.27 因资源加载和卸载而发生崩溃。
- **WG-68115** 已修复：在快速重新打开流播放文件时发生 "Could not open file for asset loading" 错误。
- **WG-68123** 已修复：在 UE 5.3 中构建特定平台或构建多个目标时，UBT 报告 LNK1181 错误。
- **WG-68216** 已修复：由于 Switch Container Leaf 重新加载和卸载情况导致发生崩溃。
- **WG-68365** 已修复：在启用 Multi-Core Rendering 的情况下针对 iOS 进行构建时，UE4.27 Integration 发生崩溃。
- **WG-68377** 已修复：Wwise Browser 没有使用用户指定的 Root Output Path。
- **WG-68380** 已修复：在特定单元测试当中，VisualCPP 生成错误的警告。
- **WG-68536** 已修复：延迟卸载仍在使用的素材可能会导致死机。
- **WG-68832** 已修复：在切换零延迟流播放 PCM 媒体时发生崩溃。
- **WG-68846** 已修复：User-defined SoundBank 流媒体预取数据被加载了两次。
- **WG-68964** 已修复： `.uplugin` 中缺少 Module。

# 文档改进

- **WG-66140** 向 [Testing with Multiple Play In Editor and Wwise Instances](features_editor_multiplayer.html) 添加了性能分析相关信息。
- **WG-67709** 向 [Combining Unreal and Wwise Audio with AudioLink](using_audio_link.html) 添加了有关如何设置默认 AudioLink 属性并覆盖各个 Unreal 音频素材上的属性的信息。