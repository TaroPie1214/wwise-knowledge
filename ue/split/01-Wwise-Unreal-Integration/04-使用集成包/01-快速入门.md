# 快速入门

|  |
| --- |
| Wwise Unreal Integration Documentation |

快速入门

您可以参照本指南中的说明来将 Wwise 快速集成到 Unreal 工程中。其中介绍了构建一个正常运行的工程都要执行哪些基本步骤。在完成后，可查阅 Wwise Unreal 集成文档的其余部分，来详细了解集成包的用法及特定方面的信息。

# 创建集成的工程

首先，创建 Wwise 和 Unreal 工程并通过 Launcher 予以集成：

1. 创建 Wwise 工程（如 Wwise Help 中的[创建新的工程](https://www.audiokinetic.com/library/edge/?source=Help&id=managing_projects#creating_new_project)章节所述）。
2. 创建 Unreal **C++** 工程（如 Unreal Engine 5 文档中的[创建新的工程](https://dev.epicgames.com/documentation/unreal-engine/creating-a-new-project-in-unreal-engine)章节所述）。
3. 通过 Audiokinetic Launcher 将 Wwise 集成到 Unreal 工程中（参见 Audiokinetic Launcher 文档中的[将 Wwise 集成到 Unreal 工程中](https://www.audiokinetic.com/library/wwise_launcher/?source=InstallGuide&id=integrating_wwise_into_an_unreal_project)章节）。

参见
:   - [对 Wwise 工程的更改](install_changes_wproj.html)

# 在 Wwise 中创建环境声

要播放关卡中的声音 Event，最简单的方法是使用 "AkAmbient" Actor。藉此，可按照规则（通常是关卡的实例化）播放声音。在 Unreal 中设置环境声之前，集成的 Wwise 工程必须包含相应的声音以及用来播放声音的 Event。为此，请确保有支持的音频文件类型（参见[支持哪些媒体文件？](https://www.audiokinetic.com/library/edge/?source=Help&id=what_media_files_are_supported)）。

对此，建议使用 Auto-defined SoundBank 而非 User-defined SoundBank。有关详细信息，请参阅 [Understanding Auto-Defined and User-Defined SoundBanks](unreal_using_soundbanks_concepts.html) 章节。

**在 Wwise 中准备环境声：**

1. 将音频文件导入为 SFX 对象（如[导入用于 SFX 的媒体文件](https://www.audiokinetic.com/library/edge/?source=Help&id=importing_media_files_for_sfx)中所述）。
2. 创建 Event 并为其添加 Play 动作（如[创建 Event](https://www.audiokinetic.com/library/edge/?source=Help&id=creating_events) 中所述）。
3. 启用 Auto-defined SoundBank（如 [Auto-defined SoundBank](https://www.audiokinetic.com/library/edge/?source=Help&id=auto_defining_soundbank) 中所述）。
4. 生成 SoundBank（如[为工程生成 SoundBank](https://www.audiokinetic.com/en/library/edge/?source=Help&id=generating_soundbanks_for_project) 中所述）。

# 配置 Unreal 的 Project Settings

您必须设置 Unreal 中 Project Settings 下的多项设置才能在 Unreal 中访问 Wwise SoundBank 并使用 Wwise Browser 查看 Wwise 对象。另外，还要选择 Unreal 音频通路选项以便通过 Wwise 声音引擎输出音频。

**配置所需的 Unreal 设置：**

1. 在 Unreal Editor 中，依次单击 **File > Project Settings**。
2. 在 Wwise - Integration Settings 分区，将 **Root Output Path** 设为 Wwise 工程中指定的 Root Output Path（通常为工程的 `GeneratedSoundBanks` 文件夹）。有关 Wwise 设置的详细信息，请参阅 [SoundBanks 选项卡](https://www.audiokinetic.com/library/edge/?source=Help&id=project_settings_soundbanks_tab)。

   ![](../../../images/wis_installation.png)
3. 将 Unreal Audio Routing 选项设为 **Route through AudioLink** 或 **Enable Wwise SoundEngine only**。有关音频通路选项的详细信息，请参阅 [Combining Unreal and Wwise Audio with AudioLink](using_audio_link.html) 章节。
4. 关闭 Project Settings 窗口，然后依次单击 **Window > Wwise Browser**。
5. Wwise Browser 中会显示来自 Wwise 工程的对象：

   ![](../../../images/qs_browser.png)

   Wwise Browser 右上角设有 **Generate SoundBanks** 按钮。此按钮等同于 Wwise 设计工具中的 **Generate All**。您可以单击该按钮来通过 Unreal Editor 生成 Wwise SoundBank。有关 Wwise Browser 的详细信息，请参阅 [Managing Assets with the Wwise Browser](features_editor_wwise_browser.html) 章节。

# 从 Wwise Browser 添加素材

在生成 SoundBank 后，会在 Wwise Browser 中的 Events 文件夹下显示在 Wwise 中创建的 Event。

**将 Wwise Event 添加到 Unreal 关卡：**

- 执行以下操作之一：
  - 将 Event 从 Wwise Browser 拖到 Content Browser 中，然后再拖到关卡中。
  - 将 Event 从 Wwise Browser 拖到关卡中。若直接将 Event 添加到关卡中，则会在 Default Asset Creation Path 下创建对应的 Unreal 素材（参见 [Integration Settings](using_initialsetup.html#initialsetup_gamesettings) 章节）。

在将 Wwise 对象添加到 Unreal 时，会自动创建对应的 `AkComponent`。`AkComponent` 用作 Wwise 游戏对象的代理。有关详细信息，请参阅 [AkComponent](pg_features_objects_components.html#features_akcomponent) 章节。

# 通过 Level Blueprint 播放

在 Unreal 中，所添加的 Wwise Event 将作为 AkAmbientSound 显示在关卡中。要确保在整个关卡中播放声音，必须更新 Level Blueprint。有关 Blueprint 的详细信息，请参阅 [Blueprint 可视化脚本](https://dev.epicgames.com/documentation/unreal-engine/blueprints-visual-scripting-in-unreal-engine)。

**通过 Level Blueprint 播放环境声：**

1. 打开 Level Blueprint。
2. 添加 Event BeginPlay 节点并与 Post Event 节点相连。
3. 将 "AkAmbientSound" Actor 从 Outliner 拖到 Blueprint 中并与 Post Even 节点相连。下图展示了要做的配置：

   ![](../../../images/bp_playing.png)

# 播放声音

工程有可能已经包含声音（取决于所用 Unreal 工程的类型）。要确认是否成功添加了环境声，请从关卡中移除所有其他声音。

在 Editor 中，单击 **Play**。这时会发送 Event 并可听到自己添加的声音。