# 互动音乐工程结构

[Wwise 帮助文档](../../00-Wwise-帮助文档.md) > [创建互动音乐](../00-创建互动音乐.md) > [理解互动音乐](00-理解互动音乐.md) > 互动音乐工程结构

## 互动音乐工程结构

构建互动音乐工程时，Wwise 具有很强的灵活性，有无数种方法可以将互动音乐对象编排组合成游戏配乐。However, adopting a coherent strategy at the beginning of a project can save you time and effort later on. 互动音乐工程的两种基本结构如下：

- **纵向结构**：改变 Music Segment（音乐段落）中包含的音轨序列，对游戏配乐重新编排。这类似于在音乐制作中使用的音轨混音，可以帮您利用多轨的长段落让配乐多样化。
- **横向工程结构**：通过随时改变播放的音乐段落，让游戏配乐富于变化。To do this, you can arrange short discrete segments in your music hierarchies, much like you would arrange other objects in the Containers hierarchy. In this way, you can make a compelling score from a selection of short Music Segments while minimizing console requirements.

一般来说，可以同时使用这两种结构来高效地利用工程资源。良好的结构可以让您充分展示音乐，并将游戏机资源运用到极致。

The following sections provide details on implementing either of these structures or a combination of the two.

### Implementing a vertical project structure

纵向结构的基础是少量重复和变化的 Music Segment（音乐段落），每个段落含有多条 Music Track（音乐轨）。基本的纵向结构可能如下图所示：

|  |
| --- |
|  |

此例中的互动音乐基于一条四轨的 Music Segment。上半部分中，段落正在播放，但没有指定状态。贝斯和鼓的片段位于 Normal（正常）音轨中，每次重复时会播放相同的片段。而吉它则使用序列步进 Sequence Step（序列步进）音轨，其中的片段将按照指定的序列播放。钢琴则是 Random Step（随机步进）音轨，其中的片段将随机播放。对于 Sequence Step 和 Random Step 音轨，制造多样性的关键在于创建 Sub-track（子音轨），让其中的片段替代原始音轨中的片段。

下半部分中，音轨开始响应状态切换。当游戏处于相对平静的探索状态时，鼓是听不到的，只会播放钢琴音轨（由多个子音轨构成）。一旦过渡到激烈的格斗状态，钢琴轨的音量将被拉到底，而鼓的音量将增大，吉它音量也会增大。总体效果是音乐将随着游戏情节而改变。

在纵向结构中，可以使用以下方式来改变将被播放的音轨：

- State 变换
- Random step 子音轨
- Sequence step 子音轨。

如果工程只有少量复杂音乐片段，并且状态切换频率较低，就非常适合纵向法。

### Implementing a horizontal project structure

横向工程结构的基础是多个简短段落的层级编排。基本的横向工程结构可能如下图所示：

|  |
| --- |
|  |

此例中，两个 Music Playlist Container（音乐播放列表容器）中包含对应于两种游戏状态的 Music Segment：Exploration（探索）和 Fight（格斗）。第一个容器中，段落随机组合排列，因此将随机播放。第二个容器中，段落按序列组合排列，因此将按预定序列播放。游戏从 Exploration 状态过渡到 Fight 状态时，Exploration 容器中播放的最后一个段落将过渡到 Fight 容器中的第一个段落。得到的效果是从一种音乐整体切换到了另一种音乐。

横向工程结构中，可以使用以下方式改变将要播放的段落：

- State 变换
- Random Container（随机容器）
- Sequence Container（序列容器）

A horizontal approach is suggested for projects involving many short, relatively simple pieces of music, and is especially good for projects with frequent state changes.

### Implementing a combination project structure

通过 Wwise 创建的工程大多同时使用横向和纵向元素，您可以决定每种结构占多大比例最适合您的工程。例如，可以为每种状态创建不同的段落（横向结构），同时用随机子音轨改变各个段落中的音轨播放（纵向结构）。

---