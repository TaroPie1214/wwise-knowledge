# 指定网络端口

[Wwise 帮助文档](../../../00-Wwise-帮助文档.md) > [设置工程](../../00-设置工程.md) > [处理工程](../00-处理工程.md) > [定义工程设置](00-定义工程设置.md) > 指定网络端口

### 指定网络端口

将 Wwise 设计工具连接到游戏进行性能分析和实时编辑时，Wwise 与游戏之间的通信将通过您为其打开的网络端口进行处理。您可以在 Wwise Project Settings 对话框的 Network 选项卡中自定义 Wwise 设计工具所用的端口。在游戏初始化 Wwise 通信模块时，可以对游戏开放和使用的端口进行定制。

您可以定义特定的端口号（固定），也可以让操作系统自动选择一个端口号（动态）。具体选择取决于端口是由Wwise 设计工具开启还是由游戏开启：

|  |  |
| --- | --- |
| [注意] | 注意 |
| 在 Project Settings 中更改此端口时，请务必确保使用的值和代码中初始化 Wwise 通信模块时相同 (特别是传递给  [`AK::Comm::Init()`](https://www.audiokinetic.com/library/edge/?source=SDK&id=namespace_a_k_1_1_comm_a596691b552b507c26b4df958ee1c6de8.html) 的 ports.uDiscoveryBroadcast 结构成员）。 |

#### Game Discovery Broadcast 端口

此端口由集成到游戏中的 Wwise 通信模块开启，Wwise 设计工具为了发现网络上可以连接的游戏，会发送消息广播，游戏需要通过这个端口侦听网络中的消息广播。Wwise 设计工具将 Game Discovery（游戏探查）消息广播至该端口，因此游戏中和 Wwise 工程中应使用相同的端口，这点十分重要。由于游戏和Wwise 设计工具需要确定该端口，因此该端口不得为动态（不得设置为 0）。

|  |  |
| --- | --- |
| [注意] | 注意 |
| 您可以选择使用 1 到 65535 之间的任意端口号；但是请验证您定义的端口号不会与同一计算机或游戏机上运行的其它应用程序存在冲突。 |

#### Game Discovery Response 端口

此端口由 Wwise 设计工具开启。在此，游戏对 Game Discovery 消息做出响应。在定义此端口的端口号时，记住以下重要注意事项：

- 如果将此端口设置为 0 ，则等于告诉Wwise 设计工具自行请求动态的端口号，又称为临时端口号。这意味着操作系统不会使用特定端口号，而是自动选择一个端口号。自动选择端口号是默认行为，建议使用动态端口号以避免与其它应用程序发生冲突。
- 如果需要使用固定端口号（即不是动态/临时端口号），则要避免使用 Game Discovery Broadcast Port 的同一端口号，除非您不打算连接到与创作应用同机运行的游戏。
- 您可以选择使用 0 到 65535 之间的任意端口号；但是请验证您定义的端口号不会与同一计算机或游戏机上运行的其它应用程序存在冲突。

#### 自定义游戏中的通信端口

如前所述，Game Discovery Broadcast Port 由通信模块在游戏中开启。游戏中，通信模块还开启了三个其它端口，它们在初始化期间进行自定义。设计工具中并没有暴露这些端口。有关详细信息，请参阅 [Wwise SDK 文档](https://www.audiokinetic.com/library/?source=SDK&id=workingwithsdks__initialization.html#initialization_comm)的“通信初始化”章节。

自定义通信端口的方法是：

1. 通过执行以下任一操作来打开 Project Settings 对话框：

   - 在菜单栏中，点击 **Project > Project Settings**。
   - 按 **Shift+K**。
2. 切换到 Network 选项卡。
3. 根据需要编辑端口号。
4. 单击 **OK**（确定）。

这时会关闭 Project Settings 对话框。从现在起将使用新端口与游戏进行通信。

---