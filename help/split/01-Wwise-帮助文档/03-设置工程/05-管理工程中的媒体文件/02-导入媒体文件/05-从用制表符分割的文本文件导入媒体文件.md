# 从用制表符分割的文本文件导入媒体文件

[Wwise 帮助文档](../../../00-Wwise-帮助文档.md) > [设置工程](../../00-设置工程.md) > [管理工程中的媒体文件](../00-管理工程中的媒体文件.md) > [导入媒体文件](00-导入媒体文件.md) > 从用制表符分割的文本文件导入媒体文件

### 从用制表符分割的文本文件导入媒体文件

您可以通过制表符分割（也叫制表符分隔）的文本文件大批量地导入媒体文件。用制表符分割的文本文件（TXT 或 TSV 扩展名）可通过 Microsoft Excel 或其它电子表格应用程序进行生成。导入的文件必须采用 UTF-8 编码格式。

|  |  |
| --- | --- |
| [注意] | 注意 |
| 请注意，导入数以万计的媒体文件可能需要花费大量的时间。在配有 SSD 硬盘的机器上进行大文件的导入，可以减少导入时间。请注意，导入时请确保已退出密集使用磁盘的应用程序，如版本控制同步、云同步，甚至是病毒保护服务（如有可能）。 |

用制表符分割的文件可定义以下元素：

- 要导入的 WAV、AMB 或 MIDI 文件
- 用于包含文件的对象结构
- 任何属性值或引用，例如声部音量或输出总线
- 要创建的事件

用制表符分割的文件的第一行为后续行定义了列的内容。列的顺序对导入过程不会有任何影响。

对于制表符分割的文本文件，下表列出了所有可能出现的列标题，并对其进行了说明。

|  |  |
| --- | --- |
| [技巧] | 技巧 |
| 在制表符分割的文件中，可以用 Absolute path 和 GUID 明确指定对象。要获得对象的绝对路径或 GUID，请按住 Shift 键并右键点击对象以显示快捷菜单。选择 **Copy path(s) to clipboard**（将路径复制到剪贴板）或 **Copy GUID(s) to clipboard**（将 GUID 复制到剪贴板）。 |

| 列标题 | 内容 |
| --- | --- |
| Audio File | 音频文件。指定要导入的 WAV 或 MIDI 文件的路径。文件将被复制到 **Originals** 文件夹或子文件夹中（前提是所述文件夹中不存在该文件）。路径可是绝对路径或相对路径。  - **绝对路径**：包含音频文件名本身的完整路径。  例如：  `C:\MyWaves\MyFolder\Originals\MySound.wav` - **相对路径**：相对于制符表分割文件目录的路径。  Example:   `..\..\MyWaves\MyFolder\Originals\MySound.wav`  如果创建容器，则此列可以留空。 |
| Audio File | 定义要导入的 base64 编码 WAV 音频文件。需要指定目标文件路径并使用竖线（|）将其与 base64 编码数据分隔。指定的目标文件路径可以在 **Originals** 下的导入类型文件夹中获取。  Example: `MySounds/MySound.wav|UklGRuRcAABXQVZFZm10IBAA...` |
| Object Path | 对象路径。定义要创建的对象的路径和名称。路径使用反斜杠，可以是绝对路径或相对路径。  - **绝对路径**：完整路径，以反斜杠和对象类别开头。  Example: `\Containers\MyWorkUnit\MyVirtualFolder\MySound`  |  |  |   | --- | --- |   | [注意] | 注意 |   | 若绝对路径中的顶层 Work Unit 不存在，则导入会失败。 | - **相对路径**：相对于导入目标的路径，在 Audio File Importer 对话框中进行指定。  Example: `MyVirtualFolder\MySound`  若指向对象的路径不存在，Wwise 会自动创建所有缺失的父对象和相应对象。It is possible to specify the type of different objects in the path by writing it between `<>` before the object's name. 如果未指定类型，导入流程将默认选择 Virtual Folder 。支持的对象类型列表与以下描述的 Object Type 列的类型相同。  如果此列留空，则对象的名字将从导入音频文件中获取，并且将会导入到 Audio File Importer 对话框中指定的目标。   **物体路径示例:**`\<Property Container>Barrel\<Sound SFX>Minigun_Barrel_Stop` |
| Object Type | 用于指定对象类型，有下列选项可用：  - Virtual Folder (for the Containers hierarchy) - **Containers hierarchy objects:**  - Property Container   - Random Container （随机容器）   - Sequence Container （序列容器）   - Switch Container（切换容器）   - Blend Container（混合容器）   - Sound SFX（音效声）   - Sound Voice（语音声）   - Music Switch Container（音乐切换容器）   - Music Playlist Container （音乐播放列表容器）   - Music Segment （音乐段落）   - Music Track （音乐轨）  如果此列留空，则会假定 Object Type 为 Virtual Folder，除非在 Object Path 中另行指定。  |  |  | | --- | --- | | [备注] | 备注 | | It is not possible to create Containers hierarchy objects during the same import when using the Audio File Importer. Nor is it possible, among the Containers hierarchy objects, to create Sound SFX objects and Sound Voice objects during the same import. It is however possible to import Containers hierarchy objects using the Wwise Authoring API and using the -TabDelimitedImport command line option. | |
| OriginalsSubFolder | Originals 子文件夹。指定要将导入的音频文件放在哪个 **Originals** 子文件夹。此文件夹与通常要导入文件的 **Originals** 文件夹相对。比如，若导入 SFX，则将音频文件导入到 Originals\SFX\<OriginalsSubFolder> 文件夹。 |
| Property[**属性名**]  或  @**属性名**  **示例：**   - `Property[Voice Volume]` - `Property[Volume]` - `@Voice Volume` - `@Volume` | 列标题指定要设置哪个属性。属性名称为显示名称，如 RTPC（实时参数控制）选项卡、Multi Editor 或 List View 中所示。  如果没有文件或缓存版本与 Wwise 的版本不同，则在 Wwise 中再次播放媒体文件之前，该缓存将会被删除而您将不得不重新对平台版本文件做转码。<https://www.audiokinetic.com/library/edge/?source=SDK&id=wobjects__index.html>  **常见属性名称：**   - Volume - Pitch - Lowpass - Highpass  **通用属性显示名称：**   - Voice Volume（声部音量）。 - Voice Pitch（声部音高） - Voice Low-pass Filter（声部低通滤波器） - Voice High-pass Filter（声部高通滤波器）。  各个后续行指定要在创建对象上设置的属性值。  枚举值必须指定与枚举名称有关的整数值，它可从 WWU 文件或 WObjects.xml 中找到。  如果此列留空，则未设置任何值。 |
| Reference[**引用名称**]  或  @**ReferenceName**  或  ~**ReferenceName** （不建议使用）  **示例：**   - `Reference[Output Bus]` - `Reference[OutputBus]` - `@Output Bus` - `@OutputBus` | 列标题指定要设置哪个引用。Reference name 可以是引用名称或者显示名称, 如 List View 和 Multi-Editor 中所示。  请参阅 [Wwise Objects Reference](https://www.audiokinetic.com/library/edge/?source=SDK&id=wobjects__index.html) 来获取更多关于引用名称的信息。  **通用引用显示名称：**   - Output Bus（输出总线） - User Auxiliary Send 0（用户辅助发送 0） - User Auxiliary Send 1（用户辅助发送 1） - User Auxiliary Send 2（用户辅助发送 2） - User Auxiliary Send 3（用户辅助发送 3） - Conversion Settings（转码设置） - Effect 0（效果器 0） - Effect 1（效果器 1） - Effetct 2（效果器 2） - Effect 3（效果器 3） - Attenuation（衰减） - MIDI Target  各个后续行指定以下内容之一：  - **绝对路径**：工程中对象的绝对路径。  Example: `\Busses\Default Work Unit\Main Audio Bus\Sub Bus` - **GUID**：对象的 GUID，可以在 WWU 文件中找到；在Wwise 设计工具中，打开对象快捷菜单的同时按住 Shift 键也可以直接看到。  Example:   `{10EC26E3-03EB-4470-8B30-4344B6F90438}`  如果此列留空，则未设置任何引用。 |
| Notes | 为要创建的对象定义说明或备注。 |
| Audio Source 说明或备注 | 为新建对象中的音频源文件进行说明或备注。 |
| Event | 为导入的对象定义要创建的 Event 路径和名称。  路径可是绝对路径或相对路径：  - **Absolute path**: An absolute path to an Event, which starts with `\Events\`, followed by the Work Unit name.  Example: `\Events\MyWorkUnit\PlayEvent` - **相对路径**：Event 相对于 Default Work Unit 的路径。  Example: `MyVirtualFolder\PlayEvent`  If a path element is preceded by `<Work Unit>` and the name that follows doesn't match an existing Work Unit, a Work Unit is created.  Example using an absolute path: `\Events\<Work Unit>NewWorkUnit\PlayEvent`  对于尚不存在的所有其他路径元素，都会创建 Virtual Folder。  To specify the Action type, append `@ActionName` to the end of the Event name. If not specified, the **Play** Action will be used.  Action Type 示例：  - `MyEvent@Play` - `MyEvent@Stop` - `MyEvent@Pause` - `MyEvent@Resume` - `MyEvent@Break` - `MyEvent@Seek`  若目标位置已存在指定 Event，则会将新的 Event Action 添加到现有 Event（如尚未添加完全一样的 Event Action）。  |  |  | | --- | --- | | [技巧] | 技巧 | | 要为单个对象创建多个事件，您可以多次添加 **Event**（事件）列。 | |
| Dialogue Event（对白事件） | 为导入的对象定义要创建的 Dialogue Event 路径和名称。路径可是绝对路径或相对路径：  - **Absolute path**: An absolute path to a Dialogue Event, which starts with `\Dynamic Dialogues\`, followed by the Work Unit name.  Example: `\Dynamic Dialogues\MyWorkUnit\DialogueEvent` - **相对路径**：对白事件相对于 Default Work Unit 的相对路径。  Example: `\MyVirtualFolder\DialogueEvent`  If a path element is preceded by `<Work Unit>` and the name that follows doesn't match an existing Work Unit, a Work Unit is created.  Example using an absolute path:`\Dynamic Dialogues\<Work Unit>NewWorkUnit\DialogueEvent`  对于尚不存在的所有其他路径元素，都会创建 Virtual Folder。  Dialogue Event 列的主要用于创建或修改 Dialogue Event 中的 Path，等同于在 Dialogue Event Editor 中进行操作。To specify a path, append  `@Path:`  to the end of the Dialogue Event name, followed by the Switch/State structures concatenated with a period.  还可以指定 Path 的 Probability 和 Weight 值（范围从 0 到 100）。To do so, simply add a  `|`  then enter  `Probability:###`  or  `Weight:###` . See more in [“为路径设置概率和权重”一节](../../../04-与游戏互动/02-管理动态对话/01-创建-Dialogue-Event/06-为路径设置概率和权重.md "为路径设置概率和权重"). 如果未指定 Path，Probability 或 Weight 参数将不起作用。  |  |  | | --- | --- | | [技巧] | 技巧 | | 要为单个对象创建多个对白事件，您可以多次添加 **Event**（对白事件）列。 |   **Dialogue Event 示例：.**`VirtualFolder\Unit_Under_Attack@Path:<Switch Group:MyVirtFolder\FS_Type>Running.<State Group:Hostile>Gang.<Switch Group:VirtualFolder\Location>Alley|Probability:80|Weight:20` |
| Switch Assignation | Defines a Switch Group or State Group that will be associated with a Switch Container within the Containers hierarchy only. 同时定义 Switch Container 的子对象与关联分组中的 Switch 或 State 的指派关系。  A Switch Group or State Group is declared between  `<>`  by giving the group type and its name separated by a colon. To perform the assignation, you can specify its child after the  `>` . 参见以下示例，了解更多详情。  除此之外，还可在 Switch Group、State Group 或 Switch Container 的子对象的名称前指定路径。  路径可是绝对路径或相对路径：  - **Absolute path**: An absolute path to a Switch Group or State Group, which starts with `\Switches\` or `\States\`, followed by the Work Unit name.  Example: `\Switches\MyWorkUnit` - **相对路径**：Switch 或 State 相对于 Default Work Unit 的路径。  Example: `\MyVirtualFolder`  If a path element is preceded by `<Work Unit>` and the name that follows doesn't match an existing Work Unit, a Work Unit is created.  Example using an absolute path: `\Switches\<Work Unit>NewWorkUnit`  对于尚不存在的所有其他路径元素，都会创建 Virtual Folder。  |  |  | | --- | --- | | [技巧] | 技巧 | | 要为单个对象创建多个 Switch Assignation，您可以添加多个 **Switch Assignation** 列。<segment 0594> |   **Switch Assignation 示例：.**`<Switch Group:YourSwitchGroupName>YourSwitchName`, `<Switch Group:SS_FS_Type>Jump` |

**导入用制表符分割的文件的方法如下：**

1. 执行以下操作之一：

   - From the Wwise menu bar, click **Project** >
     **Import Audio Files**.
   - From the Wwise menu bar, click **Views** >
     **Audio File Importer**.
   - Right-click the import destination object in the Project Explorer and select
     the **Import Audio Files** option.
   - Click **Shift**+**I**.

   此时将会打开 Audio File Importer。
2. 单击 **Import Tab Delimited**（导入制表符分割的文件）按钮。
3. 浏览找到该用制表符分割的文件，然后点击 **OK**（确定）。
4. 验证 Audio File Importer 列表中的导入内容。
5. 点击 **Import**（导入）

#### 用制表符分割的文件示例

以下表格（使用了 Sample Project 中的细节，但有差别 ）即使用制表符分割的电子表格示例。尽管这些表格不能包罗万象，但却展示了使用不同方式导入相似项的多种可能性，例如 Object Type 列与 Object Path 中的对象类型的使用，以及绝对路径与相对路径的使用。

**一次创建路径中的多个对象**：演示如何使用一行表格创建整个路径结构中的多个容器。Each of the 对象 Types specified in the 对象 Path could have been entered in separate lines with entries in the 对象 Type column.

| Audio File | Object Path | Property [Voice Pitch] | Reference [Output Bus] | Event |
| --- | --- | --- | --- | --- |
| C:\My Audio Files\ Minigun\ MnGn\_Barrel\_Down.wav | \Containers\ Default Work Unit\ <Property Container>Minigun\ <Blend Container>Barrel\ <Sound SFX> Minigun\_Barrel\_Stop | 50 | \Busses\Default Work Unit\Main Audio Bus\Environmental\SFX\Guns | \Events\Minigun\Pay\_Minigun@Play |

**创建 Switch Container，并设置 Switch Group 和 Switch 分配**：演示如何添加 Switch ，然后为其分配 Switch Group 和 Switch。

| Object Path | Object Type | Switch Assignation |
| --- | --- | --- |
| \Containers\My Default Work Unit\<Property Container>Minigun\<Switch Container>Shells\A | Sound SFX（音效声） | <Switch Group:\Switches\SS\_Impact\SS\_Surface>Dirt |
| \Containers\My Default Work Unit\<Property Container>Minigun\<Switch Container>Shells\B | Sound SFX（音效声） | <Switch Group:SS\_Surface>Wood\_Solid |

**通过 Dialogue Event 添加 Sound Voice**：演示如何通过 Dialogue Event 和 Path 添加关联的 Sound Voice。

| Audio File | Object Path | Object Type | Dialogue Event（对白事件） |
| --- | --- | --- | --- |
| ..\..\My Voice Recordings\English(US)\UNA-GG-AL\_01.wav | \Containers\Dialogues\Captain\_A\UNA-GG-AL\_01 | Sound Voice（语音声） | \Dynamic Dialogue\Default Work Unit\Unit\_Under\_Attack@Path:<State Group:Unit>Unit\_A.<Switch Group:FS\_Type>Running.<State Group:Hostile>Gang.<State Group:Location>\*|Probability:80|Weight:20 |
| ..\..\My Voice Recordings\English(US)\UNA-HS-AL\_01.wav | \Containers\Dialogues\Captain\_A\UNA-HS-AL\_01 | Sound Voice（语音声） | Unit\_Under\_Attack@Path:<State Group:Unit>Unit\_A.<Switch Group:FS\_Type>Running.<State Group:Hostile>DefuseBomb.<State Group:Location>Alley|Probability:20|Weight:20 |
| ..\..\My Voice Recordings\English(US)\UNA-GG-HG\_01.wav | {D2F87A0D-7D5C-429D-B13D-03478450C2A2} | Sound Voice（语音声） | Unit\_Under\_Attack@Path:<State Group:Unit>Unit\_A.<Switch Group:FS\_Type>Running.<State Group:Hostile>Gang.<State Group:Location>Hangar |

---