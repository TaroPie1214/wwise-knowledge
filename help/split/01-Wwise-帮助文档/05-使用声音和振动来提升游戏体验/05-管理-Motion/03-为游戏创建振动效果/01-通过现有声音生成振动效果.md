# 通过现有声音生成振动效果

[Wwise 帮助文档](../../../00-Wwise-帮助文档.md) > [使用声音和振动来提升游戏体验](../../00-使用声音和振动来提升游戏体验.md) > [管理 Motion](../00-管理-Motion.md) > [为游戏创建振动效果](00-为游戏创建振动效果.md) > 通过现有声音生成振动效果

### 通过现有声音生成振动效果

由于很多振动效果将关联至音频事件，如枪声、路面振动、爆炸等，因此您可以直接通过工程中的现有声音和音乐对象生成振动数据。在本例中，Wwise 只需取得音频信号，提取出低频成分，然后对这部分信号进行重采样，就能创建令人信服振动效果。虽然该方法给音频设计师和程序员带来的工作量很少，并且完全适用于与音频同步的振动，但该方法有以下劣势：

- 对创建的振动类型不能进行更多控制。
- 更多的 CPU 资源消耗，因为音频信号必须在运行时进行滤波和重采样，以创建振动数据。
- 无法处理与音频没有关联的振动。

尽管有上述劣势，但在某些情形下该方法也十分实用。例如，该方法极适用于创建游戏中振动的原型。当原型完成且效果得到认可后，您可以决定是否继续创建专用振动对象来实现进一步控制。

通过现有声音生成振动前，您应该留意以下几点：

- 从原始音频源中移除直流偏置将会改变振动输出。
- 由于电机功率、最高速度与重量的物理差异，每个平台控制器的振动输出都会有所不同。

#### 指定振动效果的输出通路

If you plan to generate motion data from an existing audio source or a motion source, you need to first decide through which Motion Bus it will be routed. 振动数据与音频数据不同，要求单独的振动总线层级结构，可通过其中的总线将数据进行输出。You can create this separate hierarchy in the Busses hierarchy by creating a new main bus and assigning the Wwise Motion device to it.

**为振动专用源指定输出总线的方法如下：**

1. Double-click a Container or motion-specific object to open its Property Editor.
2. In the **Output Bus** group, click the **Set Output Bus** button.

   此时将会打开 Project Explorer —— Browser。
3. Select a Bus that is under your motion device's Bus hierarchy.
4. 单击 **OK**（确定）。

   当前对象及其子对象生成的振动数据即可通过所选的总线进行输出。

**为音频源生成的振动指定输出总线的方法如下：**

1. Double-click a Container or Sound object to open its Property Editor.
2. In the **User-defined Auxiliary Sends** group, select the
   **Override Parent** check box.
3. In the desired **Send** option, select
   the **Set User-Defined Auxiliary Send for
   Send<#>**.

   此时将会打开 Project Explorer —— Browser。
4. Select a Bus that is under your motion device's Bus hierarchy.
5. 单击 **OK**（确定）。

   当前对象及其子对象生成的振动数据即可通过所选的总线进行输出。

When setting up your routing, make sure to also take note of the bus configuration of the Main Audio Bus, and any Busses you create. For example, most Wwise Motion Audio Devices will use an Anonymous 2-channel Main Audio Bus, such that each channel of the audio is associated with a physical motor, as opposed to a Stereo 2-channel Main Audio Bus. 为了控制将音频输出到哪个声道，即便只有一个声道包含非零数据，可能也要提供 2 声道 Wave 文件作为音频源。倘若这种方法不实用，可将输出路径中的总线设为使用 Stereo 2-channel 输出配置，并借助总线的扬声器声像摆位来将音频重定向到所需声道。

|  |  |
| --- | --- |
| [备注] | 备注 |
| 有些 Wwise Motion Audio Device 可能会使用别的总线配置（如 Stereo 2-channel、Anonymous 4-channel 等）并需要对声道通路进行不同的设置。如需了解支持的设备及各自的声道配置，请参阅[集成 Wwise Motion](https://www.audiokinetic.com/library/?source=SDK&id=integrating_elements_motion.html) 章节。 |

#### 调节由音频生成的振动信号

振动设备仅可生成低频信号，因此可能需要减少或过滤音频源中的高频信号。得到的信号也可能需要放大才能达到合适的强度。Given that the audio signal is transmitted to a Motion Bus through a Send to an Auxiliary Bus, you can use the regular tools provided by the Send feature.

|  |  |
| --- | --- |
| [注意] | 注意 |
| 请不要将高通滤波器应用于振动对象。因为振动设备只会生成低频信号，所以所有高通滤波器都会抑制振动效果。 |

**滤除高频的方法如下：**

1. Double-click a motion related Auxiliary Bus to open its Property Editor.
2. In the **Output Bus** group, modify the **LPF** value to set the cutoff frequency that
   will be used to generate the motion signal.

**增强或减弱生成振动信号的方法如下：**

1. Double-click a Container to open its Property Editor.
2. 在 **User-defined Auxiliary Sends**（用户定义的辅助发送）分组中，修改 **Volume**（音量）值以增强或减弱振动信号。

此外，您也可以在 Auxiliary Bus 上使用效果器，例如 EQ，来提升或减弱某些频段。

|  |  |
| --- | --- |
| [备注] | 备注 |
| 要在 Wwise 中测试振动效果的强度，须将振动设备连接至电脑，然后播放 Wwise 对象。 |

---