# 为游戏控制器生成振动效果

[Wwise 帮助文档](../../../../00-Wwise-帮助文档.md) > [使用声音和振动来提升游戏体验](../../../00-使用声音和振动来提升游戏体验.md) > [管理 Motion](../../00-管理-Motion.md) > [为游戏创建振动效果](../00-为游戏创建振动效果.md) > [创建专用对象来生成振动效果](00-创建专用对象来生成振动效果.md) > 为游戏控制器生成振动效果

#### 为游戏控制器生成振动效果

由于受电机速度限制，游戏控制器只能重现有限的振动效果。为此，我们专门设计了 Motion 源插件，以便为这些类型的设备生成振动效果。

在结合此插件使用 [RTPC](../../../../04-与游戏互动/05-使用-RTPC/00-使用-RTPC.md "使用 RTPC") 时，最多可利用八个不同的 Driver（驱动器）来指定振动强度和时长。然后，可以将这些 Driver 应用于不同的促动器（电机），从而实现不同的配置。利用标准的 Wwise [平台链接](../../../../07-完善工程/02-管理平台和语言版本/01-Authoring-across-platforms.md#customizing_object_properties_per_platform "Customizing object properties per platform")功能，可根据平台分别设置 Driver、Actuator Configuration（促动器配置）和 Actuator（促动器）。

![](../../../../../../images/motion_source_editor.png)

|  |  |
| --- | --- |
|  | The Settings tab lists the Drivers and Driver Assignments. |
|  | List of driver assignments and their selected Actuator Configuration. |
|  | Opens a list of predefined Actuator Configurations. Indicates the selected Actuator Configuration is Generic 4-Channel. Applies to only the selected platform. |
|  | Click the expander arrow on the left of this pane to select a drive for which to apply an RTPC curve for the Y axis.  Click the expander for the X axis to select a list of game parameters, MIDI, and modulator sublists. Wwise delivers Factory Motion Assets that you can use to define your Motion curves. |
|  | The RTPC curve(s) for the pinned drivers. Right-click the curve to select a type of curve. |

To view the properties for basis of your RTPC curve, click the Driver row.

![](../../../../../../images/motion_driver_settings.png)

##### Motion 插件的基本设置

为了确保振动设备（游戏控制器）的促动器与 Wwise 配合良好，您可以快速选择 Actuator Configuration，并将偏置 Value（值）应用于适用的 Driver。虽然从技术上来说在游戏中直接使用偏置 Value 也未尝不可，但实际应用时最好还是[使用 RTPC](01-为游戏控制器生成振动效果.md#using_rtpcs_with_wwise_motion_source "结合 Motion 插件使用 RTPC") 及关联参数（如时间）来创建和控制振动曲线。

**利用 Motion 插件的 Value 偏置来创建振动效果：**

1. 将[振动专用对象](00-创建专用对象来生成振动效果.md#create_motionspecific_objects_list "创建振动专用对象的方法如下：")加载到 Property Editor（属性编辑器）中。
2. 在 Contents Editor（内容编辑器）中，双击所列 Motion 将其加载到 Source Editor（源编辑器）中。
3. 在 Internal Driver Channels（内部驱动器声道）分组中，向右移动 Driver 对应的 Value 滑杆，使其值大于 0。

   若使用此 Driver，则将在对象播放期间持续生成恒定强度的振动效果，直至 Event（事件）停止播放对象。
4. 在 Driver Assignment（驱动器指派）分组中，从 Actuator Configuration 列表选择 **1 Channel**（1 声道）。

   这时声道 1 将成为唯一激活的促动器。
5. 在 Channel 1（声道 1）列表中，选择刚刚调整的 Driver。

   If the object plays to a properly set up motion output, there will be a
   constant motion intensity emanating from a single channel of the
   controller for the full duration of the object.

   这表示设备和 Wwise Motion 配合良好。

##### 尝试不同的 Actuator Configuration

在确认设备配合良好的情况下，可按照类似方式尝试使用不同的 Actuator Configuration，并确定适合不同[选定平台](../../../../07-完善工程/02-管理平台和语言版本/01-Authoring-across-platforms.md#switching_to_different_platform "Switching to a different platform")的配置。比如，可将某一 Driver 的偏置 Value 设为 0.1，并将另一 Driver 的偏置 Value 设为 1.0。这样方便测试并辨别哪个控制器电机对应于默认 Sink 的哪个 Actuator。

Actuator Configuration 的给定平台名称指示了已知与 Wwise 默认 Sink 配合良好的设备。不过，这并不意味着这些配置仅适用于所述平台。事实上，有时需要为特定平台选择不同的配置。比如，有些 Android 平板电脑配有两个促动器。这时 2 Channel（2 声道）配置要比默认 Sink 的匿名单声道 Android 配置效果更好。在声道数不匹配时，并不会阻止设备产生振动效果。若声道数量太少，则多个促动器将使用相同的 Driver 声道；若声道数量太多，则将忽略部分声道。

##### 结合 Motion 插件使用 RTPC

大部分情况下，仅仅使用偏置 Value 是不够的。您需要根据游戏参数或预定义 MIDI 事件的时长来定义具体的曲线。[RTPC](../../../../04-与游戏互动/05-使用-RTPC/00-使用-RTPC.md "使用 RTPC") 刚好可以帮您实现这一操作。

**结合使用 RTPC 和 Motion 插件来调整振动效果：**

1. 将[振动专用对象](00-创建专用对象来生成振动效果.md#create_motionspecific_objects_list "创建振动专用对象的方法如下：")加载到 Property Editor（属性编辑器）中。
2. 在 Contents Editor（内容编辑器）中，双击所列 Motion 将其加载到 Source Editor（源编辑器）中。
3. 在 RTPC 选项卡中，单击选择器按钮。

   这时将列出所有 Driver。
4. 选择 Driver。

   这时将在 Y Axis（Y 轴）列下显示该 Driver，并在其右侧列中显示新的选择器按钮。
5. 点击选择器按钮。

   这时将显示 Game Parameter（游戏参数）、MIDI 和调制器列表。
6. 选择选项。为简单起见，假定选择 **Time**（时间）。

   这时将显示子列表，以供选择现有 Time Modulator（时间调制器）或创建新的 Time Modulator。
7. 选择 **New...**。

   这时将显示 New Modulator Time（新建调制器时间）对话框。
8. 输入新的 Time Modulator 的名称。然后，单击 **OK**（确定）。

   这时将在 X Axis（X 轴）下显示新创建的 Time Modulator，且坐标图中显示平直曲线。
9. 在 Time Modulator (X) 轴上约 0.2 s 处，双击坐标图曲线。

   这时将新建一个控制点。
10. 将新控制点向上拖至 Driver (Y) 轴上 1.00 处。

    If the object plays to a properly set up motion output, there will be a quick
    rise to full motion intensity emanating from any controller set up
    to use the Driver you specified; and, much more gradually, it will
    completely dissipate.

##### 结合 Motion 插件使用 State

通常，在[使用 RTPC](01-为游戏控制器生成振动效果.md#using_rtpcs_with_wwise_motion_source "结合 Motion 插件使用 RTPC") 的同时，可定义 State（状态）专用偏置 Value，以便根据当前激活的 [State](../../../../04-与游戏互动/03-使用-State/00-使用-State.md "使用 State") 来增强或减弱振动效果。

**结合使用 Motion 插件和 State 来创建振动效果：**

1. 将[振动专用对象](00-创建专用对象来生成振动效果.md#create_motionspecific_objects_list "创建振动专用对象的方法如下：")加载到 Property Editor（属性编辑器）中。
2. 在 Contents Editor（内容编辑器）中，双击所列 Motion 将其加载到 Source Editor（源编辑器）中。
3. 选择 States（状态）选项卡。
4. 单击 **Add State Group**（添加状态组）选择器按钮，以便选择所需 State Group（状态组）。

   这时将在选项卡的表格中一并显示 Driver 列以及 State Group 和所含 State。

   |  |  |
   | --- | --- |
   | [技巧] | 技巧 |
   | 若未显示 Driver 列，请右键单击表格标题区，并选择 **Configure Columns...**（配置列...）。这时会显示 State Properties（状态属性）对话框。在此，可选择要显示的 Driver 列。 |
5. 向右或向左移动 State 对应的 Driver Value 滑杆，使其值不为 0。

   If the object plays to a properly set up motion output, the Driver in
   question is used in the called Actuator, and the State in question
   is in effect, then the defined motion rumble will be offset by that
   amount.

|  |  |
| --- | --- |
| [备注] | 备注 |
| 只有安装了 Motion 并将 Motion Factory Presets 添加到工程才会显示这些 Preset。若尚未添加这些 Preset，则可通过 [“Import Factory Assets”一节](../../../../09-参考主题/01-工程/06-Import-Factory-Assets.md "Import Factory Assets") 对话框进行添加。These presets consist of a variety of Sound SFX objects with a Motion plug-in, predefined to output to a Motion Factory Bus, within the Containers hierarchy. |

---