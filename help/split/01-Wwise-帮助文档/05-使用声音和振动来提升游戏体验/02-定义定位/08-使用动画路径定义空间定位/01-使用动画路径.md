# 使用动画路径

[Wwise 帮助文档](../../../00-Wwise-帮助文档.md) > [使用声音和振动来提升游戏体验](../../00-使用声音和振动来提升游戏体验.md) > [定义定位](../00-定义定位.md) > [使用动画路径定义空间定位](00-使用动画路径定义空间定位.md) > 使用动画路径

### 使用动画路径

您可以定义对象的定位，方法是使用一个声源点或多个控制点来创建路径。如果创建了路径，则对象将在指定的一段时间上沿路径进行动画显示。为增加功能和提高灵活性，您可以为同一对象创建多条路径，修改各条路径的时长，然后根据指定的顺序或完全随机的顺序来播放它们。

使用坐标图视图和时间线创建动画路径。有关如何移动/删除控制点，以及如何在坐标图和时间线中进行缩放/平移，具体信息请参阅“[*了解坐标图视图*](../../../08-使用-Wwise/07-了解坐标图视图/00-了解坐标图视图.md "了解坐标图视图")”。

#### Creating animation paths

在定义对象的定位前，必须创建动画路径。动画路径由若干个控制点构成。如果使用多个点，则这些点会形成一条动画路径，对象会在指定时间内沿着这条路径运动。

这些路径在坐标图视图中创建。坐标图视图以最大距离值的比例显示各个控制点的位置。这意味着各个控制点的值将位于 0 和 +/- 100 之间，具体取决于点在坐标图的哪个象限。

|  |  |
| --- | --- |
| [备注] | 备注 |
| 在创建第一条路径时，Wwise 会自动将它命名为“ObjectName\_01\_Path”。您可以随时重命名此路径，为它取一个更加有意义的名称。然而各条路径不得重名。 |

**创建动画路径的方法是：**

1. 在 Position Editor (3D Automation) 中，单击 **New**（新建）。

   列表中新增一条动画路径，则坐标图视图中和时间线上也增加一个控制点。
2. 在 Path Name（路径名称）文本框中，输入描述性的名称。
3. 将路径的第一个点拖到坐标图视图中的任何位置，对其进行定位。
4. 要添加更多的点，则双击坐标图视图。

   坐标图视图中的这些点将自动相连，形成一条动画路径。

|  |  |
| --- | --- |
| [技巧] | 技巧 |
| 您可以微调任意控制点的位置，方法是在坐标图视图中拖动任意点或直接在 X 和 Y 坐标文本框中输入该点的坐标值。另外，您还可以更改点之间的间隔时间，方法是在时间线中移动点。 |

#### Randomizing the position of each point along a path

为提高游戏的逼真度和避免重复，您可以轻松地沿各条路径随机设置各个点的位置。为此，您只需要在水平和垂直平面中为各个点定义一个可能值区间即可。在运行时，Wwise 从这些区间中提取随机值来指定控制点的实际位置。

|  |  |
| --- | --- |
| [备注] | 备注 |
| 坐标图视图中各个控制点的位置以最大距离值的比例来衡量。由于 Random Range（随机区间）值用于更改这些点的 X、Y 和 Z 坐标，因此它们采用相同的衡量单位。 |

**沿路径随机设置各个点的位置的方法是：**

1. 在 Position Editor (3D Automation) 中，从路径列表选择路径。
2. In the **Random Range** group, specify a value for the following two properties:

   - **Horizontal** -- 横向。代表各个点 X 和 Y 坐标值的 +/- 偏移量，用于创建可能值区间。在运行时，Wwise 从此区间选择值来定义控制点的横向位置。
   - **Vertical** -- 纵向。代表各个点 Z 坐标值的 +/- 偏移量，用于创建可能值区间。在运行时，Wwise 从此区间选择值来定义控制点的纵向位置。

     |  |  |
     | --- | --- |
     | [备注] | 备注 |
     | 各个点的默认纵向位置（Z 值）是 0。 |

#### Displaying the attenuation radius and cone in the graph view

如果使用衰减来模拟信号远离听者时的自然衰减，则可能需要使用最大距离半径和声锥作为参考，以便您在坐标图视图中创建路径时能够查看不同的衰减区域。

![](../../../../../images/Position_Radius_Cone_online.png)

**更改坐标图视图显示的方法是：**

1. In the Display Option group, select either of the following options:

   - **Show Radius**（显示半径），以在坐标图视图中显示衰减最大距离半径。
   - **Show Cone**（显示声锥），以在坐标图视图中显示声锥角度（内角和外角）。

|  |  |
| --- | --- |
| [备注] | 备注 |
| 只有在衰减已应用于当前对象时，Show Radius 和 Show Cone 选项才可用。 |

#### Changing the path duration

您创建的每条路径可具有不同的时长。要更改路径的时长，必须更改时间线的长度。如果时间线上沿线的现有点间隔不均匀（非线性模式），则必须指定是在时间线上按比例分布这些点还是将它们保留在现有位置上。

**更改动画路径时长的方法是：**

1. 在 Path（路径）列表中，点击您要更改其时长的路径。
2. 点击 **Configure Timeline**（配置时间线）按钮。

   The Configure Timeline dialog opens.
3. 在 Length（长度）文本框中，为选定路径指定新的时长。
4. 如果时间线中已经包含控制点，并呈非线性模式，则必须选择以下其中一项：

   - **Stretch proportionally**（按比例拉伸），以重新定位现有控制点，并保持它们之间在时间线上的相对位置。
   - **Preserve key values**（保留关键值），以将控制点保持在它们在时间线上的现有位置上。超出新时间线长度的控制点将被删除。
5. 单击 **OK**（确定）。

   动画路径的长度于是更新了。时间线也发生改变，以反映新的时长。

#### Reordering the animation path list

对于动画路径列表中的路径，如果您想要它们以特定顺序显示或播放，则可以对它们重新排序。

**重新排序路径列表的方法是：**

1. 在路径列表中，点击您要移动的路径。
2. 将选定路径拖到新位置。

|  |  |
| --- | --- |
| [技巧] | 技巧 |
| 在路径列表中移动路径时，将显示一条红线，帮助您了解路径将会放到哪里。 |

#### Deleting animation paths

如果您不再需要路径，则可从列表中移除它。

**删除动画路径的方法是：**

1. 在 Path 列表中，点击您要删除的路径。
2. 点击 **Delete**。

   确认消息框出现。
3. 单击 **OK**（确定）。

   路径于是从列表中移除了。

#### Determining how animation paths are played back

在创建路径后，必须决定如何播放它们。与容器一样，您可以决定是随机播放还是按照路径列表中的指定顺序播放创建的路径。您还可以决定当播放对象时是逐一播放所有路径还是每次只播放一条路径。

**确定播放动画路径方式的方法是：**

1. 在 Position Editor (3D Automation) 中，将播放类型设为以下选项之一：

   - **Sequence**（序列），从头到尾按序列播放列表中的路径。
   - **Random**（随机），随机播放路径，直至播完所有路径。
2. In the Play Mode group, select one of the following options:

   - **Continuous** —— 逐一播放路径，直至播完所有路径。
   - **Step** —— 在每次播放对象时从列表中选择一条路径。
3. 如果选择了 Continuous，则 Loop（循环）和 Transition time（过渡时间）将变为可用。

   要无限期地播放整个动画路径列表，选择 **Loop** 选项。

   要在一条路径末端和另一条路径开端之间添加一个线性过渡，则选择 **Transition Time** 选项，并在相应的文本框中指定过渡时间量。
4. 如果选择了 Step，则 Pick new path when sound starts 选项将变为可用。

   选择 **Pick new path when sound starts** 选项将强制 Wwise 在每次播放新声音使用新路径，无论声音是否由播放事件触发。当您希望对连续容器中的各个声音使用不同的路径时，此选项特别有用。

---