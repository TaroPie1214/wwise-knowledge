# 版本说明 2025.1.2 Beta 3

|  |
| --- |
| Wwise SDK 2025.1.4 - Windows |

版本说明 2025.1.2 Beta 3

以下各节列举并阐述了 2025.1.1 和 2025.1.2 版本之间针对 Wwise 所作的改进。   
此处提供了有关平台的特定信息：

[Windows 2025.1.2 Beta 3](windows_releasenotes_2025_1_2.html)

有关早期版本的信息，请参阅 [过往版本的发行说明](previousreleases.html) 章节。

- [新增功能](whatsnew_2025_1_2.html#generic_feature_changes_2025_1_2)
- [API 改进](whatsnew_2025_1_2.html#generic_api_changes_2025_1_2)
- [行为改进](whatsnew_2025_1_2.html#generic_behavior_changes_2025_1_2)
- [性能改进](whatsnew_2025_1_2.html#generic_perf_changes_2025_1_2)
- [其他改进](whatsnew_2025_1_2.html#generic_misc_2025_1_2)
- [漏洞修复](whatsnew_2025_1_2.html#generic_bugs_2025_1_2)
- [社区报告的漏洞修复](whatsnew_2025_1_2.html#generic_community_bugs_2025_1_2)
- [文档改进](whatsnew_2025_1_2.html#generic_documentation_improvements_2025_1_2)

# 新增功能

- **WG-59168** 现在会保留 Audio File Importer 视图中的 **Audio file destination**。
- **WG-69312** 为 Parametric EQ 效果器添加了新的参数和控件以便将其用作动态 EQ。该效果器现在支持在使用 Low Shelf、High Shelf 或 Peaking 滤波器时对音频的各个频段进行测量，并据此对当前所应用滤波器的增益施加互补性的偏置。所述测量可由 EQ 当前在处理的直通音频信号或单独的 Sidechain Mix 来驱动。
- **WG-75446** 在对声音引擎实施性能分析时为 Parametric EQ 效果器的滤波曲线图增添了额外的可视化信息，方便基于内置参数、运行时 RTPC 和动态处理结果显示驱动 Parametric EQ 的滤波器的频率响应。另外，现在既可试听受某个 EQ Band 影响的音频部分，也可试听驱动某个 EQ Band 动态的音频部分。

（供版本说明审阅：参见“备注”了解编辑相关信息）

- **WG-75640** Command Buffer：添加了相应命令以控制流播放缓存、将背景音乐静音、向插件发送自定义数据、控制声音引擎 Suspended 状态。
- **WG-76070** 添加了新的实验性插件 Recorder (ADM)，可将基于对象的丰富混音录到 ADM 文件中。
- **WG-77697** 现在允许对 Media Pool Results 分区中的列重新进行排序。
- **WG-77953** 现在右键单击 Sound SFX 会提供用于在 Media Pool 中搜索相近声音的选项。
- **WG-77955** 针对 Sound 和 Audio Source 对象新增了 Show in Media Pool 菜单。
- **WG-78560** 现在可通过 Profiler 菜单、Capture Log 中的按钮和 Wwise 快捷菜单命令来加载 Profiler Session。
- **WG-78690** 在 Media Pool Results 分区中添加了新的菜单选项，以便导入从选定音频文件检测到的区域。
- **WG-78807** 现在右键单击 Media Pool 数据库会提供用于添加文件夹和重新扫描数据库的选项。
- **WG-78893** 新增了用于查询 Media Pool 的 WAAPI 函数。
- **WG-79079** 为 Parametric EQ 效果器添加了新的属性以限制其最多可执行多少个频段的处理。即便禁用较高的频段，也可通过将此设为较低的值来稍稍降低效果器的 CPU 和内存成本。
- **WG-79102** (Acoustics) 现在可在发声体或听者在障碍物周围移动时更精确地计算衍射系数，同时减少了对更新路径本身之内节点的依赖。这样便可使用更高的移动阈值、更高的负荷均衡分摊值或更大的编组距离并将对品质的影响降到最低。
- **WG-79331** 为插件添加了新的 API 以查询关于与之对应的输出设备的详细信息。
- **WG-79564** 为 Parametric EQ 添加了相应控件以便试听或 Solo 受特定 EQ 处理频段影响的音频部分。另外，还添加了控件来试听用于驱动 EQ 效果器动态的特定输入信号频段。
- **WG-79841** 为插件 XML 描述中定义的属性添加了新的布尔值参数：Temporary。在设置时，可避免插件属性一直留存在 Wwise 工程中。这对有些只打算在 Wwise 与声音引擎相连时使用的属性来说非常有用。

# API 改进

- **WG-69594**新增的 "AK::SoundEngine::ResetGlobalValues()" API 可用于重置作用域为 Global 的 State 和 RTPC、由 "Set Volume"、"Set Pitch"、"Set LPF" 和 "Set HPF" Event Action 做出的所有更改、效果器的 Bypass 标记以及通过 AK::SoundEngine::SetEffect 更改的效果器。
- **WG-75457** 新增了 `AK::SoundEngine::SetSidechainMixConfig` API 以在运行时为 Sidechain Mix 提供自定义声道配置。

# 行为改进

- **WG-78137** Generated Sound Bank Content TXT Files 中的 Audio Source File 路径现在是相对的而不是绝对的。
- **WG-79323** 现在会在导入 Factory Motion 时将 Motion Bus 和 Motion Device 放在其各自的 Work Unit 中。
- **WG-79488** 现在若将连续容器用作 MIDI Target 会在生成 SoundBank 时报告错误。

# 性能改进

- **WG-47170** 提升了 Metering 函数在启用 AVX2 指令集时的吞吐性能。
- **WG-78551** 性能改进：(Spatial Audio) 将对间接路径和混响发送的计算移到了同一任务中。这样此代码便可并行运行，必要时还可实施负荷均衡。藉此，可在使用 Spatial Audio 时大幅降低更新游戏对象位置的成本。

# 其他改进

- **WG-79365** Sidechain Mix 现在移到了 Project Explorer 中与之对应的类别而不再与效果器归为一组。注意，Wwise 2025.1 Beta 之前版本中创建的 Sidechain Mix 对象会被删除并需重新创建。
- **WG-79455** 在 States Values 选项卡中暴露了 "None" State。
- **WG-79501** 提升了 Capture Log 中 "SetPosition" API 调用的日志记录性能。
- **WG-79514** Wwise Console 现在会在工程无法打开时记录更多详细信息。

# 漏洞修复

- **WG-45038** 已修复：框选球体有时比图标还小。
- **WG-77920** 已修复：(Acoustics) 在 Game Object 3D Viewer 中在射线和路径之间切换会导致路径闪烁不定。
- **WG-78529** 已修复：在使用不受支持的版本反复加载 SoundBank 时发生崩溃。
- **WG-78614** 已修复：(Acoustics) 在按 TriggerRate 播放短促声音时有时无法正确更新 Spatial Audio 属性。
- **WG-78920** 已修复：Media Pool 中未对 CamelCase 格式的单词正确地设置搜索索引。
- **WG-78977** 已修复：(WAAPI) 在 Project Explorer 中创建 Event 时，不同用户界面操作当中 nameChanged 和 childAdded 主题相关通知的顺序不一致。
- **WG-79023** 已修复：有些标题的工具提示文本不一致。
- **WG-79072** 已修复：Game Object 3D Viewer 中虚声源位置的选定属性应当包含其对应路径的属性。
- **WG-79169** 已修复：(Acoustics) 在离开空间层级时无法通过 Portal 正确地对 Room 透射损失做插值处理。
- **WG-79232** 已修复：在 Media Pool 中使用 Auto-play 和 Loop 时，有时会同时播放多个区域。
- **WG-79244** 已修复：(Acoustics) 有些边缘附近会不断添加、移除从听者投射的射线。这可能会导致不必要地更新路径。
- **WG-79306** 已修复：无法在连接/断开时保持 3D Game Object List 眼睛图标状态。
- **WG-79320** 已修复：对于有些游戏对象，Capture Log 中显示的 Game Object Name 列可能不正确。
- **WG-79363** 已修复：多点定位发声体各个位置的选定属性不一致。
- **WG-79392** 已修复：Sidechain Send 和 Sidechain Receive 插件不显示上下文帮助。
- **WG-79393** 已修复：无法链接/取消链接 Sidechain Mix。
- **WG-79493** 已修复：3D Game Object List 的行高低于眼睛按钮的高度。
- **WG-79495** 已修复：3D Viewer 工具栏显示选项显示为 Text 而非 Labels。
- **WG-79505** 已修复：Windows 有时会为 Wwise 设计工具自动开启效率模式。
- **WG-79507** 已修复：反射选择信息结构存在悬空的 Room ID。
- **WG-79508** 已修复：在 Game Object 3D Viewer 中单击 Display Options 按钮时无论结果如何都会切换显示为蓝色。 已修复：Game Object 3D Viewer Follow 按钮没有键盘快捷方式。
- **WG-79525** 已修复：Selection Properties 窗格中缺少某些 Spatial Audio 属性。
- **WG-79526** 已修复：3D Selection Property 窗格中的 Reflection Path 数据不正确或缺失。
- **WG-79528** 已修复：3D Toolbar 工具提示跟下拉列表工具提示不一致。
- **WG-79530** 已修复：(Acoustics) Game Object 3D Viewer 中的衍射节点属性显示的 Room 信息不正确。
- **WG-79537** 已修复：搜索结果中不会一并显示同一数据库内所有文件名相同的 Media Pool 文件。
- **WG-79547** 已修复：在 Media Pool 中通过文件夹添加新的数据库时没有更新结果。
- **WG-79586** 已修复：在内存不足的情况下，SoundEngine `Term()` 无限循环。
- **WG-79589** 已修复：无法对 Game 3D Viewer Selection Pane 的列进行调整。
- **WG-79590** 已修复：3D Game Object List 的默认列及尺寸有误。
- **WG-79601** 已修复：在实时编辑音频源时发生崩溃。
- **WG-79639** 已修复：在为 Media Pool 数据库和文件夹使用 Include/Exclude 选项时结果更新得很慢。
- **WG-79725** 已修复：在加载包含 Sidechain Mix ShareSet 的 SoundBank 之后终止声音引擎而没有手动卸载 SoundBank 会引发崩溃。
- **WG-79755** 已修复：SoundBank 在 Wwise Browser 中的组织形式跟 Wwise 设计工具的层级结构不一致。
- **WG-79782** 已修复：在使用 Debug AkSoundEngine 库运行未优化的可执行文件时会从非 AVX 代码段调用 AVX 指令。
- **WG-79821** 已修复：在 Project Explorer 中，在别的布局中重命名对象后其名称有时会被截断。

# 社区报告的漏洞修复

- **WG-76564** 已修复：在决定播放的初始状态时，Switch Container 会将 Playing-ID 作用域下的 RTPC 值考虑在内。
- **WG-77065** 已修复：在 Project Explorer 中重命名对象并使用鼠标确认时发生崩溃。
- **WG-77998** 已修复：只要在效果器链中通过 RTPC 绑定 Effect Bypass，就不会再旁通效果器链中的其他效果器。
- **WG-78438** 已修复：无法使用 `audioFileBase64` 参数来通过 `ak.wwise.core.audio.import` 导入 800 MB 以上的文件。
- **WG-78541** 已修复：**Jump to Specific Playlist Item** 工具提示在有些情况下出现显示问题。
- **WG-78643** 已修复：在拖动 Music Segment 时间线中的控制点时没有显示工具提示。
- **WG-79135** 已修复：在与 Music Playlist Container 的 Transitions 选项卡交互时可能会发生崩溃。
- **WG-79322** 已修复：在某些大量使用 Spatial Audio 的情况下，`CAkListener::ComputeSpeakerMatrixWithRays` 出现堆栈溢出。
- **WG-79428** 已修复：在工程的有些原始 WAV 文件包含很多引用时，SoundBank 的生成时间比预期的要长。
- **WG-79463** 已修复：对于输出到 Audio Objects 总线且包含高度声道的多声道声音，`SetMultiplePosition` 有违发声体声道掩码规则。
- **WG-79573** 已修复：对于 **Play Mode** 设为 **Continuous** 的 Blend Container，有时报告的 DurationType 不是无限的。
- **WG-79614** 已修复：(Acoustics) 在从场景中移除 Portal 时，`AkKeyArray` 发生崩溃。
- **WG-79635** 已修复：在连接到游戏时音乐停止播放，且 `Originals` 文件夹中缺少某些文件。
- **WG-79638** 已修复：在加载大的 Dynamic Dialogue Work Unit 时工程加载得很慢。
- **WG-79658** 已修复：(Acoustics) 即便禁用了 **Game-Defined Auxiliary Sends**，也会将 Game-Defined Auxiliary Send 的 -6 dB 归一化增益应用于 Room 总线的输出。
- **WG-79661** 已修复： AkParamTarget 触发断言。
- **WG-79705** 已修复：在 `AkMemoryArenaSettings::fnMemAllocSpan` 返回 nullptr 时，`AkMemoryArena::HugeHeap::Malloc` 发生崩溃。

# 文档改进

- **WG-68404** 移除了 Fit to Geometry 关于 Phys Material Override 的备注，因为相关描述对 Unreal Engine 5 来说已经不再准确。
- **WG-79484** 现在已将 Game Units To Meters 改称为 Game Units Per Meter。