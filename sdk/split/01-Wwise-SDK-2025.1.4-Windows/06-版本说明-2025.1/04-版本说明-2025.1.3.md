# 版本说明 2025.1.3

|  |
| --- |
| Wwise SDK 2025.1.4 - Windows |

版本说明 2025.1.3

以下各节列举并阐述了 2025.1.2 和 2025.1.3 版本之间针对 Wwise 所作的改进。   
此处提供了有关平台的特定信息：

[Windows 2025.1.3](windows_releasenotes_2025_1_3.html)

有关早期版本的信息，请参阅 [过往版本的发行说明](previousreleases.html) 章节。

- [新增功能](whatsnew_2025_1_3.html#generic_feature_changes_2025_1_3)
- [API 改进](whatsnew_2025_1_3.html#generic_api_changes_2025_1_3)
- [行为改进](whatsnew_2025_1_3.html#generic_behavior_changes_2025_1_3)
- [性能改进](whatsnew_2025_1_3.html#generic_perf_changes_2025_1_3)
- [其他改进](whatsnew_2025_1_3.html#generic_misc_2025_1_3)
- [漏洞修复](whatsnew_2025_1_3.html#generic_bugs_2025_1_3)
- [社区报告的漏洞修复](whatsnew_2025_1_3.html#generic_community_bugs_2025_1_3)
- [文档改进](whatsnew_2025_1_3.html#generic_documentation_improvements_2025_1_3)

# 新增功能

- **WG-72208** 新增了 `AK::SoundEngine::SetAssertHook` 函数，以便在 Sound Engine 初始化之前以编程方式设置断言处理程序。
- **WG-72915** 添加了 Command Buffer API 以便以较低的开销和较高的吞吐量向 Sound Engine 传输数据。请参阅 [Increasing simulation data throughput with the Command Buffer API](goingfurther_commandbufferapi.html) 了解更多详情。
- **WG-78483** 现在可使用鼠标滚轮调节 Parametric EQ Effect Editor 以及 Mastering Suite 的 Parametric EQ 和 Multiband Compressor 模块中的坐标图的垂直缩放。
- **WG-79332** (Acoustics) Emitter Clustering 现在可以用在 Portal 路径上。
- **WG-79612** 在 Parametric EQ Effect Editor 中，属性列表现在可以滚动。这样视图就不必占用那么多纵向空间了。另外，我们还将 **Listen** 属性替换为了 **Solo Band** 和 **Solo Band Dynamics Input** 按钮，以便轻松 Solo 正在处理或用于动态输入的音频频段。
- **WG-79630** 现在可使用快捷菜单在 Media Pool 中启用或弃用筛选器。
- **WG-79645** 为了方便在右键单击时导入选定区域，在 Media Pool 中添加了相应的菜单。
- **WG-79708** Property Editor 现在包含用来调节 Volume 的纵向推子。当然，您也可以选用横向滑杆。
- **WG-80059** 在 Media Pool 中添加了新的按钮以便停止执行搜索操作。
- **WG-80060** 在 User Preferences 中添加了相应选项以便在 Media Pool 中启用或禁用 Similar Sound Search。
- **WG-80259** 在 Meter 视图中添加了对 Sidechain Mix ShareSet 的支持。
- **WG-80260** 在 Mixing Session 中添加了对 Sidechain Mix ShareSet 的支持。
- **WG-80277** 在 Media Pool 中添加了对 Command Add-on 和 External Editor 的支持。

# API 改进

- **WG-74336** (WAAPI) 针对部分对象列表对 WAAPI 数据模型做了改进。有关详细信息，请参阅 [重要的迁移说明2025.1](whatsnew_2025_1_migration.html) 章节。
- **WG-80340** 向插件 API 添加了相应函数以获取匿名配置的扬声器连接。
- **WG-80420** 为了解决声音引擎插件中发现的可靠性和设计方面的多重复杂问题，取消了对 `IAkPluginServiceTempAlloc::GetTempAllocAudioRenderdouble` API 的支持。 `IAkPluginServiceTempAlloc` 接口上的其他函数保持不变。另外，现在会在 `IAkOutOfPlaceObjectPlugin::Execute` 以外调用 `IAkEffectPluginContext::CreateOutputObjects` 时（比如在 `IAkEffectPlugin::Init` 或 `IAkPlugin::Reset` 过程中）创建新的 AkAudioObject，但关联 [AkAudioBuffer](class_ak_audio_buffer.html) 将不再为音频数据预先分配任何内存。

# 行为改进

- **WG-76843** 对峰值格式进行了更新以减少在工程和 Media Pool 缓存中所占的空间。
- **WG-78426** 相较于 Beta 版本调整了使用非零 Emphasis 值时 Dual Shelf Filter 的响度。
- **WG-78428** 现在会将只在大小写上存在差异的 Media Pool 字段名称归并在一起。
- **WG-78777** 提升了 Media Pool 区域检测的性能和灵敏度。
- **WG-79394** (声学) `AkSpatialAudioInitSettings::uMaxSoundPropagationDepth` 现在是声音可以传播的房间数量，其中第一个房间是听者所在的房间。现在将 `AkSpatialAudioInitSettings::uMaxSoundPropagationDepth` 设为小于 2 的值时不会再将路径传播到听者所在 Room 之外。
- **WG-79862** **Find Similar in Media Pool** 不可用时不会再在 Project Explorer 对象的快捷菜单中进行显示。
- **WG-79965** 现在 Profile SDK 构建中也允许触发断言，但只有在提供断言挂钩时才会予以启用。鉴于这一改进，移除了 Profile\_EnableAsserts 构建配置。
- **WG-80033** 现在在 Game Object 3D Viewer 中只单击而不按任何按键会循环浏览对象。CTRL+单击现在会选中多个对象。废除了 SHIFT+单击行为。
- **WG-80304** Media Pool Similarity Search 结果不再列出评分低于 0.05 的条目。
- **WG-80618** 现在将连续容器用作 MIDI Target 不会再在生成 SoundBank 时报告错误。WG-79488 说的是会报告错误。这里跟它是反过来的。注意，若 MIDI Target 层级结构包含连续容器，现在还是无法正确停止 MIDI 播放。参见 [已知问题和限制](whatsnew_known_issues.html) 章节中对 WG-81030 问题的描述。

# 性能改进

- **WG-72322** 对 LPF、HPF 和 DSF 处理进行了优化，减少了执行所花的时间。
- **WG-80024** 现在在监控声音引擎的同时打开多个 Parametric EQ 坐标图不会再导致 Wwise 设计工具的用户界面出现明显卡顿。
- **WG-80322** 提升了远程连接的性能，尤其是在 macOS 上。

# 其他改进

- **WG-78365** 在 Property Editor 中，现在会将 Loop 和 Transition 做为分组直接显示在 Random Container 和 Sequence Container 类别下，而不是作为子组嵌套在 Mode 分组下。
- **WG-78947** 将工程加载进度对话框的 Finalizing... 操作拆分成了多个步骤。
- **WG-79646** 在 Motion Factory Preset 中添加了有关 Advanced Haptics 的示例。注意，新的 Preset 不会添加到现有 Wwise 工程，其只会出现在新创建的 Wwise 工程中。
- **WG-79850** 将 **Find Similar in Media Pool** 菜单项在 Project Explorer 快捷菜单中的位置又往下移动了一点。
- **WG-80144** 从 Sidechain Send 和 Sidechain Receive 效果器中移除了未被使用的 LPF 和 HPF 属性。
- **WG-80233** Lua Runtime 现在使用 C++ 异常而非 setjmp 和 longjmp 执行错误处理。

# 漏洞修复

- **WG-62600** 已修复：性能分析视图在自动滚动时出现显示残影。
- **WG-67504** 已修复：(Acoustics) Room 输出归一化在 Voice Graph 中显示为音量，但并未在 Voice Inspector 中显示为影响因素。
- **WG-69934** 已修复：在启用 Auto-defined SoundBank 的情况下，被一个或多个 User-defined SoundBank 引用的 Aux Bus 同时对应有 Auto-defined SoundBank。
- **WG-73871** 已修复：打开很多 Object Tab 可能会导致 Wwise 设计工具卡死。
- **WG-74243** 已修复：在将鼠标悬停在远程平台连接状态之上时不显示工具提示。
- **WG-74536** 已修复：未关闭关于已在多个 Wwise 实例中打开工程的警告即将其打开会导致 Wwise 设计工具被锁定。
- **WG-76692** 已修复：在远程连接时，Advanced Profiler 的 Voices 选项卡中的条目缺少 Event ID。
- **WG-77038** 已修复：(WAQL) 有些 WAQL 查询会产生不稳定的结果。
- **WG-77566** 已修复：Game Object 3D Viewer 摄像机工具栏的部分内容显示到了相邻的 Selection Property 窗格中。
- **WG-78139** 已修复：在移除文件后执行 Media Pool 搜索索引维护有时会删除其他条目。
- **WG-78166** 已修复：在添加或移除筛选器时，Media Pool 的 Filters 列表总是完全展开。
- **WG-78201** 已修复：在声音引擎终止时调用 `AK::StreamMgr::Term` 会触发 "CanDestroy" 断言。
- **WG-78345** 已修复：在重新加载包含 Blend Track 的 Work Unit 时触发断言。
- **WG-78429** 已修复：在 Media Pool 中选中多个元数据字段并单击 **Add Field as Filter** 时只创建了一个筛选器。
- **WG-78614** 已修复：(Acoustics) 在按 TriggerRate 播放短促声音时有时无法正确更新 Spatial Audio 属性。
- **WG-78769** 已修复：在播放声音的同时切换 Media Pool 中的 **Loop** 复选框时播放光标会跳转。
- **WG-78773** 已修复：在 Media Pool 的 Audio Preview/Region Selector 窗格中，无法播放相邻的第二个区域。
- **WG-78781** 已修复：在 Media Pool 的 Audio Preview/Region Selector 快捷菜单中，明明选择了 **Select All File Markers Regions** 却没有选中所有区域。
- **WG-78791** 已修复：在“搜索”字段中键入 .wav 扩展名时，Media Pool 检索不到文件。
- **WG-78846** 已修复：在使用小于预取值的流播放文件时触发不必要的 Live Media Transfer。
- **WG-78922** 已修复：在单击 **Find All References** 时更新了被锁定的 Reference View。
- **WG-78970** 已修复：在 Media Pool 中，播放的时候 Play 按钮没有显示为蓝色。
- **WG-79257** 已修复：在放大 Media Pool 的 Audio Preview/Region Selector 波形时，区域图标和图柄显示到了区域以外。
- **WG-79263** 已修复：(Mac Authoring) 在导入时没有将导入的文件加入分析队列。
- **WG-79377** 已修复：在 Media Pool 中，视图底部的按钮与 WAV 信息重叠。
- **WG-79378** 已修复：对 Ambisonics 文件下混后无法在 Media Pool 中进行区域检测。
- **WG-79380** 已修复：在选中多个 WAV 文件时，Media Pool 中的 Audio Similarity 筛选器选项不可用。
- **WG-79515** 已修复：双击 3D Game Object List 中的隐藏对象会清除之前的选择状态。
- **WG-79837** 已修复：在对大的媒体素材执行 Live Media Transfer 时，Wwise 设计工具没有响应。
- **WG-79848** 已修复：在 Property Editor 中选中多个效果器并按下 Delete 键时没有将其删除。
- **WG-79861** 已修复：在 Project Explorer 中选中多个对象时，快捷菜单中的 **Find Similar in Media Pool** 不可用。
- **WG-79871** 已修复：在更改音频设备配置后，Motion 插件反复输出监控消息。
- **WG-79874** 已修复：Transitions 选项卡的 **Find in List** 按钮显示 TION 而非 X。
- **WG-79906** 已修复：(Acoustics) 在 Game Object 3D Viewer 中，Room 直达路径会显示出来。
- **WG-79912** 已修复：(Acoustics) Capture Log 缺少关于 `SetListeners` 、`SetDefaultListeners` 和 `SetGameObjectAuxSendValues` 的信息。
- **WG-79922** 已修复：Similar Sound Search 结果会受搜索字符串中的逗号和空格影响。
- **WG-79943** 已修复：有些按钮在鼠标悬停的时候没有反馈。
- **WG-79945** 已修复：在 Media Pool 中单击 **Files** 或 **Regions** 时会覆盖 Audio File Importer 中的目标对象。
- **WG-79964** 已修复：(Acoustics) 在 Room 有多个 Portal 而其中有些被禁用时，Game Object 3D Viewer 中有时会缺失源自 Room 的衍射路径。
- **WG-79971** 已修复：在 Game Object 3D Viewer 中，在取消选中 **Diffraction %** 的情况下仍显示反射路径的衍射百分比。
- **WG-79973** 已修复：(Acoustics) 当节点设在两个 Portal 之间的几何构造上时，有时会为衍射路径节点指派 0% 的衍射值。
- **WG-79974** 已修复：(Acoustics) 无法为存在重合衍射点的路径正确计算衍射系数。
- **WG-79999** 已修复：在 3D Viewer 工具栏中，Labels (Text) 类别不像其他类别那么一目了然。
- **WG-80000** 已修复：在 3D Game Object List 中难以显示或隐藏所有对象。
- **WG-80040** 已修复：(Acoustics) 在 Game Object 3D Viewer 中，镜像声源的显示会受 **Show Reflection Paths** 选项影响。
- **WG-80063** 已修复：在接连检视多个调制器时无法正确更新 Object Tab。
- **WG-80081** 已修复：Capture Log 筛选对 API 调用不起作用。
- **WG-80083** 已修复：在不应该有散布的时候，Game Object 3D Viewer 中显示了散布声锥。
- **WG-80105** 已修复：在更改 UI 字体或字体大小并重新加载工程后会卸载活跃的 Mixing Session。
- **WG-80114** 已修复：在 Sample Project 中，有些音乐过渡存在中断问题。
- **WG-80131** 已修复：在快速来回拖动推子时按下 Ctrl+F4 会出现稳定性问题。
- **WG-80143** 已修复：在首次实施音频渲染时，Sidechain Send 和 Sidechain Receive 效果器的增益由 0 dB 逐渐变为目标音量。
- **WG-80165** 已修复：在切换效果器的 Inclusion 复选框时没有反应。
- **WG-80167** 已修复：(Acoustics) 对于涉及多个 Portal 的路径，声学参数出现错误。
- **WG-80170** 已修复：(Acoustics) 在启用 Load Balancing 的情况下在 Room 之间移动有时会出现衍射路径丢失的情况。
- **WG-80192** 已修复：在终止源插件时尝试发送错误消息可能会引发崩溃。
- **WG-80193** 已修复：对于采用自定义颜色的对象，Mixing Desk 控件闪烁不定。
- **WG-80200** 已修复：在单击 3D Viewer 的右侧边缘时发生崩溃。
- **WG-80244** 已修复：在打开视图后，Media Pool 的 **Create new 'Media Pool Database'** 按钮不可用。
- **WG-80284** 已修复：在删除 Media Pool 数据库时没有取消针对该数据库中的文件执行并已加入队列的分析任务。
- **WG-80285** 已修复：有时会将 MIDI 文件导入到非音乐对象中。
- **WG-80292** 已修复：在发送大的数据缓冲区时， `AK::SoundEngine::SendPluginCustomGameData` 发生崩溃。
- **WG-80310** 已修复：为 macOS 资源分支文件创建了不必要的媒体分析任务。例如： `._XXXX.wav` 。
- **WG-80315** 已修复：无法通过按住 Ctrl 拖拽来将 WAV 文件导入为 Music Segment。
- **WG-80325** 已修复：在 Audio File Importer 中， **Music Segment** 在 Object Type/Action 列表中显示了两次。
- **WG-80410** 已修复：源自多点定位发声体的声学路径被视为相同的选定对象。
- **WG-80438** 已修复：AK Convolution Reverb 坐标图中无法正确显示波形。
- **WG-80489** 已修复：在迁移到 Wwise 2025.1 后，包含 Reflect 插件的 Work Unit 有时会变为无效状态。
- **WG-80517** 已修复：在针对 ADM 文件启用 Similar Sound Search 时可能会发生崩溃。
- **WG-80545** 已修复：(Acoustics) 有时即便直达路径穿过了墙壁也会以 0% 的透射损失实施渲染。
- **WG-80596** 已修复：在 Audio File Importer 打开的情况下重新加载工程可能会引发崩溃。
- **WG-80599** 已修复：在 Project Explorer 中选中只是命名为 Default Work Unit 但实际上并不是 Default Work Unit 的对象时，Media Pool 重复显示 **Import Selected Region(s)** 快捷菜单项。
- **WG-80607** 已修复：在重新加载 Wwise 工程时更加稳定。
- **WG-80613** 已修复：(Acoustics) 在 Portal 与衍射边缘重叠时，衍射路径变得不稳定。
- **WG-80648** 已修复： AkSAEmitterToListenerTask 触发断言。
- **WG-80652** 已修复： `AkSAListenerToPortalTask::Execute` 发生崩溃。
- **WG-80680** 已修复：(Acoustics) 在停止并重新开始播放启用了 Diffraction and Transmission 的声音时，有时实施渲染不会加入衍射和透射。
- **WG-80758** 已修复：在检视已从 Sequence Container 中的播放列表移除的 Sound SFX 或 Sound Voice 时发生崩溃。
- **WG-80761** 已修复：(Acoustics) 倘若超出最大节点数 8 的限制，有时会在对穿过 Portal 的路径实施渲染时应用 0% 的衍射。
- **WG-80861** 已修复：在加载性能分析会话时发生崩溃。
- **WG-80898** 已修复：(Acoustics) 在使用路径选择（uMaxGlobalReflectionPaths 大于 0）时，在注销游戏对象后执行已取消的任务会导致崩溃。
- **WG-80954** 已修复：在修改 Media Pool Similarity Search 的音频描述时，设计工具发生罕见崩溃。
- **WG-81060** 已修复：在由两个活跃滤波器切换为一个时，活跃滤波器的行为出现异常。
- **WG-81073** 已修复：Music Segment 中找不到在 Bar and Beats 和 Seconds 之间切换的菜单。
- **WG-81142** 已修复：迁移搁架滤波器可能会破坏某些采用非标格式的 Work Unit 中的 Attenuation ShareSet。
- **WG-81202** 已修复：更新已导入的原始媒体内容会引发 ID 冲突，进而将错误的转码媒体打包到 SoundBank 中。

# 社区报告的漏洞修复

- **WG-73399** 已修复：在将鼠标悬停在 Wwise 设计工具的 Maximize 或 Restore 按钮之上时，Windows 11 的 Snap Layout 功能无法正常工作。
- **WG-76634** 已修复：AkMemoryMgr 中使用的预编译头文件不一致。移除了原有的 `stdafx.h` 文件。
- **WG-77446** 已修复：在 Project Explorer 中选中带 Attenuation 的对象时可能会发生崩溃。
- **WG-77548** 已修复：在从 Event Editor 调用时， **Find in Project Explorer** 快捷方式不显示所选 Event Action 的目标。
- **WG-77594** 已修复：在 Auxiliary Bus 电平表的快捷菜单中单击 **Show in Meter - Instance A** 时会打开空的 Meter 视图。
- **WG-79350** 已修复：在内存不足的情况下实时编辑 Flanger 插件的参数后其发生崩溃。
- **WG-79529** 已修复：在 Music Switch Container 中选中 Music Switch Container 时可能会发生崩溃。
- **WG-79606** 已修复：(声学) 当 `AkSpatialAudioInitSettings::uMaxGlobalReflectionPaths` 大于 0 时断言和崩溃。
- **WG-79860** 已修复：在将 Source 或 Destination 由 **Any** 改为特定对象时无法正确更新 Music Transition。
- **WG-79873** 已修复：之前在将 Music Transition 的 Source 或 Destination 设为空的 Virtual Folder 时会判定为 "Any"。现在会判定为 "None"。
- **WG-79952** 已修复：在 Property Editor 中选中 **Override Parent** 复选框时发生崩溃。
- **WG-80066** 已修复：在将非原地效果器插件用在 Voice 上而效果器为输出信号使用与输入信号不同的声道配置时发生崩溃并出现内存溢出。
- **WG-80094** 已修复：在 PS5 上对有些 WEM Opus 文件进行解码时断言失败。
- **WG-80123** 已修复：在 Transitions 选项卡中右键单击空的 Source 或 Destination 列时 Wwise 发生崩溃。
- **WG-80133** 已修复：(WAAPI) 在调用 `ak.wwise.core.profiler.getPerformanceMonitor` 时，WAAPI 有时会发送无效的 JSON，进而导致 WAAPI 客户端连接中断。
- **WG-80246** 已修复：在大规模使用 RTPC 时， `AkNotificationSafeArray::DispatchCallbacks` 出现堆栈溢出。
- **WG-80308** 已修复：在 Filter 模式下为使用多声道冲激响应的 7.1.4 声源应用 AK Convolution Reverb 效果器时发生崩溃。
- **WG-80425** 已修复：相对于 `WwiseConsole.exe` 而言，有些使用 `Wwise.exe` 生成的 `.bnk` 和 `.wem` 文件存在二进制差异。 `Wwise.exe` 生成的文件保持不变， `WwiseConsole.exe` 生成的文件则略有不同。
- **WG-80455** 已修复：在 Property Container 中创建 Music Segment 或在 Music Switch Container 中创建 Sound 会导致 Wwise 发生崩溃。
- **WG-80458** 已修复：在 Project Explorer 中按住 CTRL 键并展开对象时发生崩溃。

# 文档改进

- **WG-73005** 在 [Attenuation Editor](https://www.audiokinetic.com/en/library/edge/?source=Help&id=positioning_attenuation_editor) 中添加了之前缺失的界面元素。
- **WG-75586** 添加了关于 Parametric EQ Effect 插件新增与更新功能的文档内容。
- **WG-80343** 在所有示例代码中将 `AkModule.h` 替换为了 `AkMemoryMgrModule.h` 。