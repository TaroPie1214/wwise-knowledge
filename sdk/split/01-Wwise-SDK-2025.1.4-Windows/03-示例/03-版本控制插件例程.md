# 版本控制插件例程

|  |
| --- |
| Wwise SDK 2025.1.4 - Windows |

版本控制插件例程

# 基本版本控制插件示例

此版本控制插件通过一些基本操作演示简单配置对话框。它显示文件的状态和 Project Explorer 图标。注意，它并不以任何实际的版本控制系统为基础，仅用作了解 Wwise 中版本控制插件工作原理的基础工程和创建您自己插件的参考。

位置："samples\SourceControl\SourceControlSample"

实现导出函数的 DLL 接口的源代码和包含要导出的函数的定义文件可参见：

- SourceControlSample/DllInterface.cpp
- SourceControlSample/SourceControlSample.def

[AK::Wwise::ISourceControl](class_a_k_1_1_wwise_1_1_i_source_control.html) 实现可参见：

- SourceControlSample/SamplePlugin.cpp
- SourceControlSample/SamplePlugin.h

配置对话框的实现可参见：

- SourceControlSample/DlgConfiguration.cpp
- SourceControlSample/DlgConfiguration.h

# Perforce 版本控制插件示例

这是 Wwise 中默认包含的 Perforce 插件。它可以让您在 Wwise 设计工具中执行 Perforce 操作。其中包含完整的源代码，为您提供版本控制插件的完整示例，如果您愿意，还可用来自定义和增强此插件。

Location: `SDK/samples/SourceControl/Perforce`

## 如何创建 Perforce 版本控制插件示例

在为 Wwise 构建 Perforce 插件之前，必须安装 Perforce C++ API 和 OpenSSL 文件，并将其放在正确的位置：

1. Download the *Helix Core C/C++ API* for Windows (x64) libraries from the [Perforce FTP](https://ftp.perforce.com/perforce/r23.1/bin.ntx64/). The version used to build the plug-in included with Wwise is [p4api\_vs2019\_static\_openssl3.zip](https://ftp.perforce.com/perforce/r23.1/bin.ntx64/p4api_vs2019_static_openssl3.zip) (version `2023.1/2468153`).
2. Create the following directory: "[Wwise Installation Root]/Authoring/source/3rdParty/Perforce/windows"
3. Extract the content of `p4api-<version>-<configuration>/lib` to: `[Wwise Installation Root]/Authoring/source/3rdParty/Perforce/windows/lib`
4. Extract the content of `p4api-<version>-<configuration>/include` to: `[Wwise Installation Root]/Authoring/source/3rdParty/Perforce/windows/include`

   |  |  |
   | --- | --- |
   |  | **备注:** The Helix C/C++ API archive contains only release libraries. For this reason, a debug build of the plug-in uses the release CRT library and (`DEBUG`, `_DEBUG`) are not defined. |
5. Download the latest OpenSSL binaries and libraries for Windows (x64) from [FireDaemon OpenSSL Binaries for Microsoft Windows](https://www.firedaemon.com/firedaemon-openssl).
6. Extract the binaries (`libcrypto-3-x64.dll`, `libssl-3-x64.dll`) to: `[Wwise Installation Root]\Authoring\source\3rdParty\OpenSSL\bin`
7. Extract the libraries (`libcrypto.lib`, `libssl.lib`) to: `[Wwise Installation Root]\Authoring\source\3rdParty\OpenSSL\lib`

You should now be able to open the Perforce plug-in's project (`SDK/samples/SourceControl/Perforce/Perforce.vcxproj`) and build the plug-in. 请参阅 [版本控制插件](source_control.html) 了解有关 Wwise 版本控制插件 API 和安装的信息。

|  |  |
| --- | --- |
|  | **备注:** 为了使用不同版本的 Perforce 创建，可能需要对代码或工程进行一些修改。 |

# Subversion 版本控制插件示例

这是 Wwise 中默认包含 的 Subversion 插件。它可以让您在 Wwise 设计工具中执行 Subversion 操作。其中包含完整的源代码，可以为您提供版本控制插件的完整示例。如果您愿意，可以通过包含此源代码来自定义和增强此插件。

Location: `SDK/samples/SourceControl/Subversion`

## 如何创建 Subversion 版本控制插件示例

Open the Subversion plug-in's project (`SDK/samples/SourceControl/Subversion/Subversion.vcxproj`) and build the plug-in. 请参阅 [版本控制插件](source_control.html) 了解有关 Wwise 版本控制插件 API 和安装的信息。

|  |  |
| --- | --- |
|  | **备注:** Wwise 发行版中包含的 Subversion 插件是使用 Subversion 1.8.5 创建的。为了使用不同版本的 Subversion 创建，可能需要对代码或工程进行一些修改。 |

|  |  |
| --- | --- |
|  | **备注:** Subversion 插件的 Debug 版配置使用非 Debug 版运行时库，以避免 Subversion 库和插件之间存在内存分配问题。 |