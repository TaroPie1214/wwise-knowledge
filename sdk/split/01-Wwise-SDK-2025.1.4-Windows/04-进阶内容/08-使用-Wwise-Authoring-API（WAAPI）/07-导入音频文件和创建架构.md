# 导入音频文件和创建架构

|  |
| --- |
| Wwise SDK 2025.1.4 - Windows |

导入音频文件和创建架构

有好几种方式在 Wwise Authoring API 中创建 Wwise 对象。

- [创建 Wwise 对象](waapi_import.html#waapi_create_objects)
  - Create and modify Wwise objects with [ak.wwise.core.object.set](ak_wwise_core_object_set.html)
  - 使用 [ak.wwise.core.object.create](ak_wwise_core_object_create.html) 来创建 Wwise 对象
- [导入音频文件](waapi_import.html#waapi_import_audio_files)
  - 在使用 [ak.wwise.core.audio.import](ak_wwise_core_audio_import.html) 导入音频文件时创建 Wwise 对象
  - 在使用 [ak.wwise.core.audio.importTabDelimited](ak_wwise_core_audio_importtabdelimited.html) 导入制表符分割文件时创建 Wwise 对象

# 创建 Wwise 对象

It is possible to create most Wwise Objects using [ak.wwise.core.object.set](ak_wwise_core_object_set.html) and [ak.wwise.core.object.create](ak_wwise_core_object_create.html). To learn more about the limitations, refer to [ak.wwise.core.object.create 相关限制](waapi_import.html#waapi_create_limits) and [Limitations with ak.wwise.core.object.create and ak.wwise.core.object.set](waapi_import.html#waapi_create_set_limits).

|  |  |
| --- | --- |
|  | **备注:** [ak.wwise.core.object.set](ak_wwise_core_object_set.html) offers a superset of the functionalities offered in [ak.wwise.core.object.create](ak_wwise_core_object_create.html). We recommend using [ak.wwise.core.object.set](ak_wwise_core_object_set.html). |

Advantages of [ak.wwise.core.object.set](ak_wwise_core_object_set.html) over [ak.wwise.core.object.create](ak_wwise_core_object_create.html) :

- Support for creating and modifying objects
- Support for batch operations
- Support for importing audio files

## 理解名称冲突模式

在调用 [ak.wwise.core.object.create](ak_wwise_core_object_create.html) 或 [ak.wwise.core.object.set](ak_wwise_core_object_set.html) 时，可指定四种名称冲突模式之一。

如果在目标位置存在同名对象：

- **fail:** The create function returns an error. (default)
- **replace:** The object at destination is deleted (including its children), and a new object is created.
- **rename:** A new unique name is automatically assigned for the new object, appending numbers to it.
- **merge:** The object at destination is re-used, and the specified properties, references and children are merged to the destination leaving untouched the rest of the object.

## 了解列表和列表模式

列表是用于存储对象的通用容器。给定列表中的对象通常属于同一类型。列表方便通过 WAAPI 填充和检索被另一对象“拥有”的对象。比如，给定对象的 RTPC 包含在该对象的 RTPC 列表中。

在调用 [ak.wwise.core.object.set](ak_wwise_core_object_set.html) 时，可指定两种列表模式之一。

若列表已经包含对象：

- append：在可能的情况下将新的对象添加到列表，同时保留现有对象。有些列表可能不允许存在重复的同等对象：比如，RTPC 列表中的有些 RTPC 属性是排他性的，所以只能有一个 RTPC 具有此类属性。
- replaceAll：移除所有现有对象，并添加新的对象（对重复项有限制）。

对于空白列表，行为为 append。

## ak.wwise.core.object.create 相关限制

**Sound SFX**

利用 [ak.wwise.core.object.create](ak_wwise_core_object_create.html) ，可以创建 Sound SFX（音效）对象。不过存在很大的限制：

- 无法将原始 WAV 或 MIDI 文件关联到子级 Audio File Source 对象。
- 无法将语言关联到子级 Audio File Source 对象。

For this reason, we don't recommend using [ak.wwise.core.object.create](ak_wwise_core_object_create.html) to create Sound objects that use WAV or MIDI files.

Instead, refer to:

- [ak.wwise.core.object.set](ak_wwise_core_object_set.html), which supports importing audio files
- [导入音频文件](waapi_import.html#waapi_import_audio_files)
- [ak.wwise.core.audio.import](ak_wwise_core_audio_import.html)

**插件**

无法使用 [ak.wwise.core.object.create](ak_wwise_core_object_create.html) 创建源插件、效果器插件或元数据插件。 Use [ak.wwise.core.object.set](ak_wwise_core_object_set.html) instead.

## Limitations with ak.wwise.core.object.create and ak.wwise.core.object.set

**Work Unit**

在使用 [ak.wwise.core.object.create](ak_wwise_core_object_create.html) 和 [ak.wwise.core.object.set](ak_wwise_core_object_set.html) 创建 Work Unit 之前，需要先清理撤消/重做历史记录和剪贴板。 Work Unit 会在创建的同时保存，便于在工程中快速创建对应的 WWU 文件。

- `onNameConflict` 参数只能是 `'fail'` 、`'merge'` 或 `'rename'。不支持` `'replace'` 模式。

**Query**

It is possible to create Query objects with [ak.wwise.core.object.create](ak_wwise_core_object_create.html) and [ak.wwise.core.object.set](ak_wwise_core_object_set.html). However, the criteria objects need to be created with a specific GUID as the name. The name of the criteria must contain the GUID of the `SearchOperationID` attribute as found in the WWU files. Each criteria type has a unique GUID.

To find the correct GUID to use in the name, you will need to reverse engineer the WWU files:

- Create a Query object in the Query Editor
- Add the Criteria you wish from the Criteria Browser
- Modify the property fields in the Criteria Editor
- Save the project
- Open the Work Unit in a text editor
- Look for `SearchOperationID` and use it for the `SearchCriteria` `name` in [ak.wwise.core.object.set](ak_wwise_core_object_set.html).
- Look for the properties in the WWU file as examples and set them in [ak.wwise.core.object.set](ak_wwise_core_object_set.html).

**列表**

无法使用 [ak.wwise.core.object.set](ak_wwise_core_object_set.html) 创建对象来填充 Metadata 和 Clips 列表。

- 无法创建元数据插件。
- 片段需要 AudioSourceRef，但其无法指定。

考虑到以下限制，建议不要使用 [ak.wwise.core.object.set](ak_wwise_core_object_set.html) 在 Sequences 和 Stingers 列表中创建对象。

- 鉴于无法通过 WAAPI 将 Segment 指派给 Stinger，建议不要在 Stingers 列表中创建 Stinger。
- 鉴于无法通过 WAAPI 创建 MusicClip，建议不要在 Sequences 列表中创建 MusicSequence。

## Using ak.wwise.core.object.set to import audio files and create a hierarchy of objects

请参阅 [ak.wwise.core.object.set](ak_wwise_core_object_set.html) 了解更多信息。

{

"objects": [

{

"object": "\\Containers\\Default Work Unit",

"children": [

{

"type": "PropertyContainer",

"name": "FootSteps",

"@Volume": "-2",

"children": [

{

"type": "RandomSequenceContainer",

"name": "FootStep\_Concrete",

"@RandomOrSequence": "1",

"children": [

{

"type": "Sound",

"name": "FootStep\_Concrete\_01",

"import":{ "files":[ { "audioFile":"C:\\wave\\cues\\FootStep\_Concrete\_01.wav" } ],}

},

{

"type": "Sound",

"name": "FootStep\_Concrete\_02",

"import":{ "files":[ { "audioFile":"C:\\wave\\cues\\FootStep\_Concrete\_02.wav" } ],}

}

]

}

]

}

]

}

]

}

|  |  |
| --- | --- |
|  | **备注:** object 字段指示要在工程中的哪个位置创建对象。跟大多数 Wwise 对象字段一样，object 字段支持对象 ID (GUID) 和对象路径。想要获取对象 id，请参阅 [ak.wwise.core.object.get](ak_wwise_core_object_get.html) 。比如，您可以通过对象的工程路径来获取它的对象 id。 |

|  |  |
| --- | --- |
|  | **备注:** 若要从 Wwise 工程检索对象 ID，可在按住 Shift 的同时右键单击对象，然后选择 **Copy GUID(s) to clipboard**。 |

More examples using [ak.wwise.core.object.set](ak_wwise_core_object_set.html) to import audio files:

- [Creating multiple child hierarchies of objects in batch](ak_wwise_core_object_set_example_creating_multiple_child_hierarchies_of_objects_in_batch.html)
- [Creating new Source Plug-ins for a Voice](ak_wwise_core_object_set_example_creating_new_source_plug_ins_for_a_voice.html)
- [Importing a WAV file into a new Sound SFX and creating the associated Event](ak_wwise_core_object_set_example_importing_a_wav_file_into_a_new_sound_sfx_and_creating_the_associated_event.html)
- [Importing a WAV file to create a Sound SFX object](ak_wwise_core_object_set_example_importing_a_wav_file_to_create_a_sound_sfx_object.html)
- [Importing Base64 content to create a Sound SFX object](ak_wwise_core_object_set_example_importing_base64_content_to_create_a_sound_sfx_object.html)
- [Importing two WAV files to create two Sound SFX objects](ak_wwise_core_object_set_example_importing_two_wav_files_to_create_two_sound_sfx_objects.html)
- [Importing a WAV file into a Sound Voice](ak_wwise_core_object_set_example_importing_a_wav_file_into_a_sound_voice.html)
- [Importing a WAV file into an Audio File Source](ak_wwise_core_object_set_example_importing_a_wav_file_into_an_audio_file_source.html)
- [Importing a MIDI file into a Music Segment to create a Music Track](ak_wwise_core_object_set_example_importing_a_midi_file_into_a_music_segment_to_create_a_music_track.html)
- [Importing two WAV files into a Music Segment to create two Music Tracks](ak_wwise_core_object_set_example_importing_two_wav_files_into_a_music_segment_to_create_two_music_tracks.html)
- [Importing a WAV file into a Music Track to create a Music Clip](ak_wwise_core_object_set_example_importing_a_wav_file_into_a_music_track_to_create_a_music_clip.html)

# 导入音频文件

Audio files can be imported using the Wwise Authoring API by means of the same import processor available through the Tab Delimited import in the Audio File Importer.

Using the Wwise Authoring API allows complete automation of the import process and provides direct control in the programming language of your choice.

导入格式非常灵活。您可以导入：

- Using [ak.wwise.core.object.set](ak_wwise_core_object_set.html), along with the object structures
- Using [ak.wwise.core.audio.import](ak_wwise_core_audio_import.html) with JSON content
- Using [ak.wwise.core.audio.importTabDelimited](ak_wwise_core_audio_importtabdelimited.html) with Tab delimited TXT files

At a glance, the audio file importation allows:

- 导入和本地化音频文件
- Automatic creation of Containers hierarchies
- 创建 Event（事件）
- 指派属性值，如 Volume（音量）
- 指派引用，如 Output Bus（输出总线）

有关此功能的详情，请参阅 <https://www.audiokinetic.com/library/edge/?source=Help&id=importing_media_files_from_tab_delimited_text_file>。

|  |  |
| --- | --- |
|  | **备注:** [ak.wwise.core.audio.importTabDelimited](ak_wwise_core_audio_importtabdelimited.html) and [ak.wwise.core.audio.import](ak_wwise_core_audio_import.html) are the preferred ways to create Sound objects and import audio files at the same time. 目前无法将音频文件和语言关联到所创建的对象，所以建议不要使用 [ak.wwise.core.object.create](ak_wwise_core_object_create.html) 或 \ ref ak\_wwise\_core\_object\_set 。 |

**示例：**

- [Creating a new SFX with no file and setting a value to a property](ak_wwise_core_audio_import_example_creating_a_new_sfx_with_no_file_and_setting_a_value_to_a_property.html)
- [Importing audio files and creating multiple Sound SFX](ak_wwise_core_audio_import_example_importing_audio_files_and_creating_multiple_sound_sfx.html)
- [Importing an audio file to create a Sound SFX using a relative object path](ak_wwise_core_audio_import_example_importing_an_audio_file_to_create_a_sound_sfx_using_a_relative_object_path.html)
- [Importing an audio file to create a Sound SFX using an absolute object path](ak_wwise_core_audio_import_example_importing_an_audio_file_to_create_a_sound_sfx_using_an_absolute_object_path.html)
- [Importing audio files to create Sound SFX and Audio File Sources](ak_wwise_core_audio_import_example_importing_audio_files_to_create_sound_sfx_and_audio_file_sources.html)
- [Importing an audio file to create a Sound Voice for English](ak_wwise_core_audio_import_example_importing_an_audio_file_to_create_a_sound_voice_for_english.html)
- [Importing an audio file to create a Sound Voice for French](ak_wwise_core_audio_import_example_importing_an_audio_file_to_create_a_sound_voice_for_french.html)
- [Importing an audio files to create Sound Voices for English and French](ak_wwise_core_audio_import_example_importing_an_audio_files_to_create_sound_voices_for_english_and_french.html)

|  |  |
| --- | --- |
|  | **备注:** 确保工程中存在相应语言且大小写匹配。 |