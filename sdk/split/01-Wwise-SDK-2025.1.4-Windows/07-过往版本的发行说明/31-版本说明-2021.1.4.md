# 版本说明 2021.1.4

|  |
| --- |
| Wwise SDK 2025.1.4 - Windows |

版本说明 2021.1.4

以下各节列举并阐述了 2021.1.3 和 2021.1.4 版本之间针对 Wwise 所作的改进。  
此处提供了有关平台的特定信息：

[Windows 和 Windows UWP 2021.1.4](windows_releasenotes_2021_1_4.html)

有关早期版本的信息，请参阅 [过往版本的发行说明](previousreleases.html) 章节。

- [新增功能](whatsnew_2021_1_4.html#generic_feature_changes_2021_1_4)
- [行为改进](whatsnew_2021_1_4.html#generic_behavior_changes_2021_1_4)
- [性能改进](whatsnew_2021_1_4.html#generic_perf_changes_2021_1_4)
- [漏洞修复](whatsnew_2021_1_4.html#generic_bugs_2021_1_4)
- [社区报告的漏洞修复](whatsnew_2021_1_4.html#generic_community_bugs_2021_1_4)

# 新增功能

- **WG-29814** 添加了对离线渲染的支持。
- **WG-55607** 在 AkGeometry Details 面板中添加了自定义分区以控制表面属性的 Override 操作。
- **WG-55780** FilePackager：向命令行工具添加了 -verbosity 选项。现在可通过降低详细级别来加快大型工程的打包速度。
- **WG-56582** Wwise Audio Lab 现在允许使用 Audio Object、多点定位 Radial Emitter、Room Tone、Aux Bus 自动指派、动态 RTPC 属性和 System Audio Device 设置来体验 3D Audio 功能。

# 行为改进

- **WG-55266** `AK::SoundEngine::SetOutputDeviceEffect` 现在无法初始化已在效果器链上实例化的 Audio Device 效果器。这一新的限制可有效避免因同一时间存在多个活跃的 Mastering Suite 实例而导致产生杂音。

# 性能改进

- **WG-50250** 提升了由 RTPC 驱动的 Switch Container 的性能。
- **WG-55745** Spatial Audio：之前，为了能播放混响尾音，即便声音停止播放，也会继续计算路径。现在，在经过足够长的时间后会停止计算路径。

# 漏洞修复

- **WG-51294** 已修复：启用了 3D Audio 的音频设备插件无法使用管线处理过程中收集的 Audio Object 元数据。
- **WG-51714** 已修复：在选中多个不同颜色的对象时，Multi Editor 的色块标志显示灰色而非不确定值。
- **WG-54043** 已修复：使用 Music Event Cue 设置用于 Interactive Music 的 State/Switch 可能会引发崩溃。
- **WG-54291** 已修复：在使用多核渲染时，`AkPipelineBufferBase::GetCachedBuffer` 引发崩溃。
- **WG-54416** 已修复：Wwise Audio Lab 中的环境声区域行为存在异常。
- **WG-54448** 已修复：定位在默认听者位置的多声道 Audio Object 被下混为了单声道声音。
- **WG-55425** 已修复：在 File Manager 中跨磁盘移动文件时可能会留下遗留文件。
- **WG-55536** 已修复：在使用 `AK::SoundEngine::AddOutput` 添加辅助输出后使用 `AK::SoundEngine::ReplaceOutput` 替换了主输出，导致在主 Audio Device 重置时死机。
- **WG-55606** 已修复：在编辑 Brush Geometry 之后将 Acoustic Texture 指派给了 Spatial Audio Volume 中的错误表面。
- **WG-55667** 已修复：在针对超过 48 kHz 的输入文件选择或取消选择 Impact 和 Body 分层时会重复执行不必要的文件分析。
- **WG-55721** 已修复：在进行实时编辑时，Wwise 调试可能会触发断言。
- **WG-55740** 已修复：(Mac Authoring) 未找到相应文件，导致 Nuendo Game Audio Connect 导入失败。
- **WG-55744** 已修复：Nuendo Game Audio Connect 没有检测子目录下的对应文件。
- **WG-55794** 已修复：在处于不同文件夹时，SoundBank 生成操作没有删除之前存在的 .bnk 文件。
- **WG-55798** 已修复：(Spatial Audio) 存在未初始化的变量，导致源自 Portal 的路径不一致。
- **WG-55880** 已修复：在对 Convolution 媒体进行转码时，Wwise 设计工具发生轻微的内存泄漏。
- **WG-55901** 已修复：在连接到游戏时，State 值的同步出现问题。
- **WG-55915** 已修复：Factory Reflect 效果器与默认的 Reflect 效果器不一样。
- **WG-55981** 已修复：在 CAkWinDeviceCache 不可用时，AddOutput 引发崩溃。
- **WG-56048** 已修复：在重命名原始 wav 文件并尝试立即播放时，Wwise 可能会挂起。
- **WG-56074** 已修复：命令队列为空，Profiler 中的 Command Queue Size 却显示 100。
- **WG-56096** 已修复：在重新加载 Work Unit 时可能会发生崩溃。
- **WG-56110** 已修复：默认选择的 Wwise Motion 版本有时与 Wwise 不一致。
- **WG-56201** 已修复：在所有活跃输出均为二路输出的情况下，没有在调用 `AK::SoundEngine::WakeupFromSuspend` 之后发送 `AkGlobalCallbackLocation_WakeupFromSuspend` 回调。
- **WG-56454** 已修复：(wp.py) 在数据包创建过程中，数据包命令导致长文件路径被截断。

# 社区报告的漏洞修复

- **WG-54475** 已修复：(WAAPI) 允许删除 Master Audio Bus。
- **WG-55009** 已修复：在使用 Blend Container 时，`CAkRTPCMgr::AkRTPCSubscription::PushUpdate` 引发崩溃。
- **WG-55024** 已修复：播放文件头大于流播放 I/O 粒度的流媒体会导致发生 File header too large 错误。
- **WG-55265** 已修复：允许同时运行多个 Mastering Suite 实例。
- **WG-55353** 已修复：在添加二路输出之后替换主输出时，声音引擎挂起。
- **WG-55451** 已修复：在使用不支持 UTF-8 代码页的 Windows 区域设置构建声音引擎源插件时发生编译错误。
- **WG-55528** 已修复：Event Editor 和 Contents Editor 中的列宽在用户调节之后发生变化。
- **WG-55531** 已修复：有时会从 Work Unit 文件中移除 MIDI 文件源引用。
- **WG-55616** 已修复：在循环播放或对 WEM Opus 编码的特定源文件寻址时出现短促但可辨的噼啪噪声。
- **WG-55631** 已修复：(Mac Authoring) 在从 Launcher 的 Project 选项卡启动 Wwise 的情况下添加 Audio Input 源时发生崩溃。
- **WG-55678** 已修复：将无效的正则表达式传给了 WAAPI 查询 ak.wwise.core.object.get 中的 "where" : "name:matches"，导致 Wwise 发生崩溃。
- **WG-55691** 已修复：(Spatial Audio) Room 游戏对象会随着听者旋转而非保持固定在 Room 的朝向上。
- **WG-55710** 已修复：在加载大于 1 GB 的 SoundbanksInfo.xml 文件时，File Packager 引发崩溃。
- **WG-55723** 已修复：在 .wav 文件的 'fmt' 数据块中存在无效或不支持的数据且发生除数为零的情况时，Wwise 可能会发生崩溃。
- **WG-55795** 已修复：(Spatial Audio) 在听者超出范围再回到范围之内的情况下，不会计算静止发声体和 Portal 之间的衍射路径。
- **WG-55875** 已修复：`AK::SoundEngine::ExecuteActionOnPlayingID()` 会暂停并恢复全局 State 过渡。
- **WG-55929** 已修复：在输出到 System 以外的音频设备时，General Properties 页面中的 Master Bus Config 显示 Unknown。
- **WG-56180** 已修复：尽管实施了 WG-54349 行为改进，Wwise 还是允许连接到不兼容的版本。
- **WG-56209** 已修复：(Spatial Audio) 在慢慢通过 Portal 时，没有将内部 Room 的透射损失值应用于透射损失较低的外部 Room 的环境声和混响。
- **WG-56290** 已修复：在离线更新 Blend Container 的情况下连接 Wwise 会导致游戏发生崩溃。