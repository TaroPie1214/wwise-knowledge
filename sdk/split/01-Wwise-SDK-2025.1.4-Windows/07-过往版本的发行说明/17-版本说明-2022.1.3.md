# 版本说明 2022.1.3

|  |
| --- |
| Wwise SDK 2025.1.4 - Windows |

版本说明 2022.1.3

以下各节列举并阐述了 2022.1.2 和 2022.1.3 版本之间针对 Wwise 所作的改进。  
此处提供了有关平台的特定信息：

[Windows 和 Windows UWP 2022.1.3](windows_releasenotes_2022_1_3.html)

有关早期版本的信息，请参阅 [过往版本的发行说明](previousreleases.html) 章节。

- [行为改进](whatsnew_2022_1_3.html#generic_behavior_changes_2022_1_3)
- [性能改进](whatsnew_2022_1_3.html#generic_perf_changes_2022_1_3)
- [其他改进](whatsnew_2022_1_3.html#generic_misc_2022_1_3)
- [漏洞修复](whatsnew_2022_1_3.html#generic_bugs_2022_1_3)
- [社区报告的漏洞修复](whatsnew_2022_1_3.html#generic_community_bugs_2022_1_3)

# 行为改进

- **WG-64106** 现在会在启动 `AK::EventMgr` 线程或调用 `CAkAudioMgr::RenderAudio` 之前发出 [AkGlobalCallbackLocation\_Init](_ak_callback_types_8h_ae7a5e30e1402c7cf90d1b47420911676.html#ae7a5e30e1402c7cf90d1b47420911676a97caf890959d744c1c088d19c2d02e11) 回调。这样可确保在 [AkGlobalCallbackLocation\_Begin](_ak_callback_types_8h_ae7a5e30e1402c7cf90d1b47420911676.html#ae7a5e30e1402c7cf90d1b47420911676af13fd05bf61f00e37dde9b34e8e14a98) 及音频渲染过程中发出的其他回调之前发出 [AkGlobalCallbackLocation\_Init](_ak_callback_types_8h_ae7a5e30e1402c7cf90d1b47420911676.html#ae7a5e30e1402c7cf90d1b47420911676a97caf890959d744c1c088d19c2d02e11) 回调。

# 性能改进

- **WG-64297** 提升了在将 `AkInitSettings::bDebugOutOfRangeCheckEnabled` 设为 true 时的声音引擎运行性能（尤其是 3D Audio 场景下）。

# 其他改进

- **WG-60454** 向 Loudness Meter 视图添加了工具提示。

# 漏洞修复

- **WG-61068** 已修复：在 High DPI 模式下，Event Cue 上的文本被裁剪。
- **WG-61540** 已修复：在尝试对五阶 Ambisonics 输出使用 RegisterCaptureCallback 时，`AkDevice::BaseCaptureCallbackStruct::ConvertForCapture` 发生崩溃。注意，在捕获四阶或五阶 Ambisonics 输出时，仍然只会输出三阶 FuMa 编码的 Ambisonics。
- **WG-62494** 已修复：在保存 Wwise 工程时，LogCentralIgnoreList 字段的顺序长时间处于不确定状态，导致工程被不必要地标记为未同步状态。
- **WG-63202** 已修复：(Spatial Audio) 在靠近 Portal 边界时，散布声锥有可能会短暂朝向错误的方向。
- **WG-63741** 已修复：在所复制的对象包含未处理的 Metadata 引用时，Wwise 发生崩溃。
- **WG-63841** 已修复：有些 Wwise Unity Addressables Package 集成 C# 代码文件中缺少数据包定义。
- **WG-63859** 已修复：在 Unity 中使用 iZotope 插件时，链接时间符号发生冲突。
- **WG-63888** 已修复：在所安排的过渡涉及大量很短的 Music Segment 时，Music Switch Container 发生崩溃。
- **WG-63941** 已修复：在内存不足的情况下播放声音时可能会发生崩溃。
- **WG-63956** 已修复：在内存不足的情况下加载 "Init.bnk" SoundBank 时可能会发生崩溃。
- **WG-64143** 已修复：在有很多 SoundBank 处于版本控制之下时，工程加载得很慢。
- **WG-64152** 已修复：在选择 Auxiliary Bus 时，对象选项卡中没有显示 Load Preset 和 Save Preset 按钮。
- **WG-64158** 已修复：在使用默认和较大字体大小时，Blend Track Editor 坐标图的纵向空间不足。
- **WG-64172** 已修复：如果在终止时正在播放带有 3D User 定位选项的流播放声音，导致 `AK::SoundEngine::Term` 发生崩溃。
- **WG-64267** 已修复：(Spatial Audio) 在听者处于偏离中心的 Portal 时，散布声锥方向出错。
- **WG-64294** 已修复：在处理 Event 时出现内存不足后终止声音引擎时退出会导致内存泄漏。
- **WG-64331** 已修复：向源插件所用媒体的 SoundBank 元数据文件添加了错误的标记。
- **WG-64359** 已修复：(Perforce) 提交对话框中有时不显示所添加的文件。
- **WG-64360** 已修复：在没有为给定语言提供媒体源时，SoundBank 生成过程中不会从参考语言复制媒体文件。
- **WG-64365** 已修复：在内存不足的情况下播放设为 Random Continuous 或 Random Step 的 Random Container 或 Music Playlist 时发生崩溃或出现其他错误。
- **WG-64487** 已修复：在内存不足的情况下调试时断言失败。
- **WG-64503** 已修复：(Mac Authoring) WwiseConsole 无法正确处理 UNIX 绝对路径。
- **WG-64504** 已修复：在卸载 Work Unit 时没有删除 Music Clip 属性曲线。
- **WG-64512** 已修复：在内存不足的情况下，流播放管理器断言失败。
- **WG-64585** 已修复：在重新加载 Work Unit 后无意中更改了所指派的 Media ID。

# 社区报告的漏洞修复

- **WG-59752** 已修复：在内存不足的情况下，Reflect 发生崩溃或音频无效。
- **WG-62385** 已修复：WwiseConsole waapi-server 的以下参数不起作用：–wamp-max-clients 和 –http-max-clients。
- **WG-63559** 已修复：在启用 3D Audio 的情况下播放 3D 定位的纯 LFE 声源时，有时会发生崩溃。
- **WG-63852** 已修复：在五阶 Ambisonics 总线中为一些音频进行摆位时，`CAkSpeakerPan::ComputeSN3DphericalHarmonics` 出现堆栈溢出。
- **WG-64052** 已修复：在播放 akd 文件被设为只读模式的媒体时避免速度减慢。
- **WG-64110** 已修复：在 Game Sync Monitor 中选择未处理的条目时发生崩溃。
- **WG-64246** 已修复：倘若在使用当中终止，`AkXMLErrorMessageTranslator` 类会发生崩溃。
- **WG-64282** 已修复：在暂停音频渲染或在没有主输出设备的情况下运行时，`AK::JobMgr::Internal::JobPool_initEntry` 有时会发生死锁。
- **WG-64285** 已修复：Audio Bus 和 Auxiliary Bus 属性受上级对象上设置的 RTPC/State 影响。此漏洞仅出现在 Wwise 设计工具中。
- **WG-64287** 已修复：在将 Wwise Profiler 连接到游戏时发生崩溃或出现内存 stomp。
- **WG-64403** 已修复：带有调制器的声部 RTPC 导致音量突然增大。
- **WG-64449** 已修复：(WwiseConsole) 在 WAAPI 会话期间请求执行后台媒体转码时发生崩溃。
- **WG-64478** 已修复：在重新加载 Work Unit 的过程中意外重新指派了对象 ID。在将对象从某一 Work Unit 移到另一 Work Unit 时发生了所述更改。
- **WG-64494** 已修复：(Spatial Audio) 在移除 Geometry Instance 时发生崩溃。
- **WG-64502** 已修复：(Spatial Audio) 在将无效几何构造数据传给 Spatial Audio 时发生死锁。
- **WG-64584** 已修复：在内存不足的情况下，PlatformWaitForHwVoices 发生崩溃。