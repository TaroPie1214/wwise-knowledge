# 版本说明 2017.1

|  |
| --- |
| Wwise SDK 2025.1.4 - Windows |

版本说明 2017.1

以下各节列举并描述Wwise版本2016.2与版本2017.1之间的变化。有关早期版本的信息，请参阅 [过往版本的发行说明](previousreleases.html) 章节。如果使用联机帮助，您还可以从目录列的顶部选择别的 Wwise 版本。

- [平台 SDK 的变化](whatsnew_2017_1.html#platformsdk_changes_2017_1)
- [新功能](whatsnew_2017_1.html#feature_changes_2017_1)
- [API 变化](whatsnew_2017_1.html#api_changes_2017_1)
- [行为变化](whatsnew_2017_1.html#behavior_changes_2017_1)
- [其它更改](whatsnew_2017_1.html#misc_2017_1)
- [漏洞修复](whatsnew_2017_1.html#bugs_2017_1)

# 平台 SDK 的变化

- **PS4 SDK**：已更新至 SDK 4.508.041.
- **Metro：**Metro平台已重命名 **Universal Windows Platform**（UWP），并且支持 Visual Studio 2017。
- **Windows：**添加了对 Visual Studio 2017 的支持。

# 新功能

- **WG-19301** 对 `SetMultipleOcclusionAndObstruction` 的支持，用于指定每个位置上声障/声笼对的清单。
- **WG-31705** 在总线上的新声道设置 0.1 和 2.1。
- **WG-31753** Game Audio Connect 2 已集成，允许在 Nuendo 和 Wwise 之间传输完整音乐片段。
- **WG-31967** 我们的 API 已经通过添加功能 `AK::SoundEngine::CancelEventCallbackGameObject(AkGameObjectID in_gameObjectID)` 进行了增强，这个函数会取消特定已知对象的回调。
- **WG-31986** 现在可以在 Auto-ducking List 中鼠标拖放总线。
- **WG-32035** `AkMemSettings` 现在有启动内存溢出检测的选项。该内存溢出检测器只在 Debug（调试）模式下可用。

  请参阅 [新功能概述2017.1](whatsnew_2017_1_new_features.html) 了解更多详情。

# API 变化

- **WG-30778** `AkPlatformInitSettings::uSampleRate` 现在代替了 `AkPlatformInitSettings::eAudioQuality，将` Windows 平台上的采样率限制为 48,000 或 24,000 Hz。采样率现在可以设为自定义值。
- **WG-31985** `AK::SoundEngine::GetSourcePlayPositions` 函数有了新行为和参数验证：
  - 位置数组的条目数可以指定为 0，只有这种情况下会进行调整；位置数组不会更新。
  - 如果条目数指定为 0，则位置数组的指针可能为 NULL
- **WG-31988** UWP：`AK::ThreadEmulation` 已被移除：Sound Engine（声音引擎）现在使用本机线程。为理想处理器提供 `AkThreadProperties::processorNumber` 编程接口。
- **WG-32374** 、 `AK::SoundEngine::SendPluginCustomGameData` 不再需要效果器插槽号。另一方面，它会要求目标插件 ID。

# 行为变化

- **WG-30677**：不包含 HDR 总线的信号通路不再受 HDR 衰减的影响。之前，只要干声通路上存在 HDR 总线，这些通路就会受到影响。
- **WG-31842**: **需要用户修改工程的重大变更！**环绕 Ambisonic（声场立体声） 环境声（使用 3D 定位）现在需要设置为 100% Spread（散布）。如果是 0% Spread，它们的行为会和点声源一样。请参阅 [the Help documentation](https://www.audiokinetic.com/library/edge/?source=Help&id=positioning_illustrated_3d) 了解为 3D 环境声使用 Ambisonics 的更多细节。
- **WG-31971**：无需重新初始化声音引擎即可直接在主设备上合并二路输出的能力已被移除。为了将二路输出层级合并到主层级，现在您需要使用 `AkInitSettings::settingsMainOutput::outputHierarchy = AkBusHierarchy_Primary | AkBusHierarchy_Secondary` 初始化声音引擎。但是，这一动作只能在初始化时执行。直接在主设备上合并二路输出层级的功能将在未来的版本中重新激活。
- **WG-32235**：0 Spread 的 3D 定位 ambisonics 现在的行为和点声源一样（本应如此）。之前，它们的行为类似于环绕声场。
- **WG-33084**：移除了 Random 和 Sequence Containers 的 Trigger Rate 过渡时间上的数值越界保护。在 Wwise 2017.1 之前，声音引擎会对 Random 和 Sequence Containers 的 Trigger Rate 的 Transition Time 做值域限制，使这个时间不可能小于 22 ms。我们移除了这一限制来鼓励更有创意的内容。请注意当迁移到 Wwise 2017.1 时，如果您的工程指定了小于 22 毫秒的值，那么这个值现在会起作用了，结果会是声音会按指定的频率播放。
- **WG-33584**：当将标准多声道声音在 3D 中进行声像摆位时，声道首先将根据发声体和听者的相对位置进行旋转，然后再被声像摆位到输出声道上。而且，虚拟声源散布的形状已相应变更为支持有高度扬声器的设置（如 7.1.4）：它们现在是球形帽的形状，而不是像切开的馅饼状。请参阅 Wwise Help 来了解更多 3D 定位的信息。
- **WG-34022**：在发声体游戏对象的作用域下暂停或停止总线，现在将只会暂停或停止之前在同一范围内播放的发声体。之前，暂停或停止在一个游戏对象作用域下的总线时，会导致所有该总线上对象的暂停或停止。

# 其它更改

- **WG-25943** （Mac）设计工具现在是 64 位应用了。
- **WG-30735** 在 Visual Studio 工程中启动了多处理器编译。
- **WG-32262** （Mac）已解决在 OS X Sierra 上工程载入卡死的问题。
- **WG-32977** 将最低插件版本变更为 2017.1。用老版本 Wwise SDK 构建的插件无法在 2017.1 上运行，需要重新构建。

# 漏洞修复

- **WG-30590** 优化了当工程包含大型控制器会话时的 WObject 选择。
- **WG-30787** 已解决：“Duck”图标一直保持活跃状态。
- **WG-30940** 已解决：Xbox One 的（Mac）XMA 编码器在 Mac 上无法使用。
- **WG-31175** 已解决：当对流播放进行性能分析时，在 `AkPerf::PostStreamingStats` 发生罕见崩溃。
- **WG-31200** 已解决：Mixing Desk：更改 State 不显示对象的相关数值。
- **WG-31479** 在 SoundCaster 会话中的负音高值现在可以调低到 4 位数。
- **WG-31875** 已解决：Wwise 对象的 Solo/Mute 状态在断开连接/重新连接时不清空。
- **WG-32133** 已解决：Wwise Audio 允许对目前暂不可用的平台添加 Sink 设备。
- **WG-32252** 已解决：当 Blend Container 的子级覆盖到同一总线时，总线 Voice Properties（声部属性）翻倍。
- **WG-32344** 已解决：当多个线程向 Sound Engine 发送消息，并且消息队列满时，发生高争用问题。
- **WG-32400** 已解决：当使用工程默认转码设置生成 SoundBanks 时发生错误报告。
- **WG-32454** 已解决：Wwise Connect 上的声音停止。
- **WG-32652** 已解决： 验证 REV 是否支持 Media Relocation。
- **WG-32942** 已解决：当添加 Music Switch Container 时会在连接时崩溃。
- **WG-33298** 已解决：Wwise 错误地显示调制器和基于包络的 Game Parameter 图形的可编辑游标。
- **WG-33405** 已解决：在 Android 平台上没有设置 jNativeActivity 时，平台可能发生崩溃。
- **WG-33406** 已解决：在互动音乐切换开关过渡涉及过渡段和 Same Time As Playing Segment（与播放段同时）规则时，发生罕见断言。
- **WG-33413** 已解决：Query（查询）：Override 的 Source 损坏。
- **WG-33324** 已解决：文档：BGM 示例代码片段不正确，无法编译。
- **WG-33393** 已解决：当 Blend container 子级被覆盖到同一总线时，它的属性值会被加到总线数值上。
- **WG-33603** 已解决：（iOS）当调用 suspend 时，初始化过程中发生崩溃。
- **WG-33732** 已解决：音乐的 Switch 子音轨在所有游戏对象上进行全局切换。
- **WG-33816** 已解决：（Android）被 0 除导致的崩溃。

参见
:   - [新功能概述2017.1](whatsnew_2017_1_new_features.html)
    - [重要迁移说明 2017.1](whatsnew_2017_1_migration.html)
    - [平台要求 2017.1](reference_platform_2017_1.html)