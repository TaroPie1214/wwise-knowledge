# 版本说明 2021.1.1

|  |
| --- |
| Wwise SDK 2025.1.4 - Windows |

版本说明 2021.1.1

以下各节列举并阐述了 2021.1 和 2021.1.1 版本之间针对 Wwise 所作的改进。  
此处提供了有关平台的特定信息：

[Windows 和 Windows UWP 2021.1.1](windows_releasenotes_2021_1_1.html)

有关早期版本的信息，请参阅 [过往版本的发行说明](previousreleases.html) 章节。

- [新增功能](whatsnew_2021_1_1.html#generic_feature_changes_2021_1_1)
- [API 改进](whatsnew_2021_1_1.html#generic_api_changes_2021_1_1)
- [行为改进](whatsnew_2021_1_1.html#generic_behavior_changes_2021_1_1)
- [性能改进](whatsnew_2021_1_1.html#generic_perf_changes_2021_1_1)
- [其他改进](whatsnew_2021_1_1.html#generic_misc_2021_1_1)
- [漏洞修复](whatsnew_2021_1_1.html#generic_bugs_2021_1_1)
- [社区报告的漏洞修复](whatsnew_2021_1_1.html#generic_community_bugs_2021_1_1)

# 新增功能

- **WG-53068** Profiler Filter – 除 Game Object 名称外，go 前缀现在还可与数值 Game Object 匹配。
- **WG-53834** Profiler：现在可打开快捷菜单并使用 Game Object ID 来筛选 Game Object。

# API 改进

- **WG-53308** (WAAPI) 新增了 [ak.wwise.core.profiler.captureLog.itemAdded](ak_wwise_core_profiler_capturelog_itemadded.html) 订阅主题，会在将条目添加到 Capture Log 时发送。

# 行为改进

- **WG-53829** 对于游戏控制器输出，必须使用特定听者来调用 `AddOutput()`。现在日志中会显示相应错误。

# 性能改进

- **WG-53673** 提升了 Wwise 设计工具中 3D 视图的性能。
- **WG-53849** 在启用 Channel Link 的情况下，大幅提升了 CompressorFX 处理超宽声道配置的性能。比如，将处理三阶 Ambisonics 时的吞吐量性能提了升 4 倍，将处理五阶 Ambisonics 时的吞吐量性能提升了 20 倍。

# 其他改进

- **WG-51974** 提升了在 Spatial Audio Volume 中放置 Texture 标签的效率。
- **WG-53798** 向 Performance Monitor 添加了以下可选计数器：
  - Spatial Audio - Computed Edges
  - Spatial Audio - Diffraction Edges
  - Spatial Audio - Path Validation CPU
  - Spatial Audio - Portal Path Validation CPU
  - Spatial Audio - Portal Raytracing CPU
  - Spatial Audio - Raytracing CPU
  - Spatial Audio - Triangles

# 漏洞修复

- **WG-45950** 已修复：3D Meter 无法对多个音频源作出正确反应。
- **WG-48324** 已修复：有可能在 Wwise 设计工具中播放平台弃用了的 Music Segment。
- **WG-51624** 已修复：在结合 DirectInput 控制器使用 Wwise Motion 插件时发生轻微的内存泄漏。
- **WG-52037** 已修复：对于文件结尾附近设有标记点的音频源，在使用精确到采样点的过渡时发生释放后使用 (Use After Free) 错误。
- **WG-53070** 已修复：性能分析器错误消息中未使用提供给 `AK::SoundEngine::UnloadBank()` 的 SoundBank 名称。
- **WG-53246** 已修复：针对某些文件重复进行不必要的分析，导致 SoundBank 数据产生不必要的更改。
- **WG-53259** 已修复：在暂停后仍继续播放包含子级 Continuous Container 的 Continuous Blend Container。
- **WG-53409** 已修复：在某些情况下会多次对 Spatial Audio Room 的内部对象进行不必要的更新。
- **WG-53437** 已修复：在加载包含部分已加载媒体的 SoundBank 且 I/O 设备块大小大于 1 时，BankReader 可能会发生无限循环。
- **WG-53451** 已修复：在将 Motion Source 用在启用了 Trigger Rate 的容器中时发生堆叠问题。
- **WG-53495** 已修复：在采用 Play From Elapsed Time 行为的 Vorbis 声部由虚声部恢复为实声部时寻址偏置可能会出现细微偏差。
- **WG-53513** 已修复：在删除与 Contents Editor 中某行对应的节点时 Wwise 发生崩溃。
- **WG-53528** 已修复：在调节文本大小时，Notes 字段无法正常自动换行。
- **WG-53536** 已修复：在使用 Convolution Reverb 的情况下加载或卸载音频素材时发生崩溃。
- **WG-53556** 已修复：在结合硬件解码器（如 Opus、Vorbis、ATRAC9）使用精确到采样点的过渡时，源插件无法播放声音。
- **WG-53590** 已修复：在显示多个 3D 视图时无法正常实施声像摆位。
- **WG-53628** 已修复：(WAAPI) 无法在 Music Segment 上创建 Custom Cue。
- **WG-53631** 已修复：Voice Inspector 针对 Time Modulator 和 Envelope Modulator 报告了错误的音量和补偿增益值。
- **WG-53632** 已修复：在 SetBusEffect 无法加载指定的效果器时，Profiler 中没有显示任何错误消息。
- **WG-53675** 已修复：在往回拖动性能分析会话光标时，3D Meter 无法正确显示信息。
- **WG-53677** 已修复：在打开 Voices Graph 时可能会发生崩溃。
- **WG-53691** 已修复：低频 LFO 调制器的首帧音量有误。
- **WG-53738** 已修复：在 Impacter 内存分配失败时发生崩溃。
- **WG-53741** 已修复：在内存故障时，`CAkSpatialAudioComponent::GetActiveRoom` 引发崩溃。
- **WG-53742** 已修复：在内存不足的情况下，`AK::SoundEngine::DecodeBank` 可能会引发内存泄漏。
- **WG-53743** 已修复：在内存不足的情况下，iZotope Trash Box Modeler 插件非法读取内存。
- **WG-53749** 已修复：在内存故障时，`AkAcousticRoom::AddTransmissionRay()` 触发断言。
- **WG-53776** 已修复：(Spatial Audio) 射线-三角形相交检测可能会返回无效的碰撞点。
- **WG-53792** 已修复：Wwise 在启动时可能会发生崩溃。
- **WG-53801** 已修复：即便版本匹配，Connection Dialog 也会将 v2021.1.0 显示为 Different version。
- **WG-53802** 已修复：在保存工程时，Work Unit 文件中给定对象的 ObjectLists 顺序可能会发生改变。
- **WG-53965** 已修复：在使用混音器插件且各个平台具有不同的总线处理状态时，无法正确生成与附件属性相关的 SoundBank 数据。
- **WG-54005** 已修复：在声音引擎初始化后，Total Reserved 内存量偏高。
- **WG-54070** 已修复：在打开 Metadata 选项卡的情况下滚动浏览 Project Explorer 时，Wwise 可能会发生崩溃。

# 社区报告的漏洞修复

- **WG-52990** 已修复：在特定情况下打开工程时可能会发生崩溃。
- **WG-53508** 已修复：GetSourcePlayPositions 针对在采样率低于 48 KHz 的情况下编码的 ATRAC9 音频源报告了错误的位置。
- **WG-53539** 已修复：在通过 Modulator 驱动很多个 Blend Container 时性能出现下降。
- **WG-53587** 已修复：在转码过程中生成 SoundBank 会发生死锁并可能出现数据损坏。
- **WG-53878** 已修复：在引用的 Metadata Shareset 不再存在于工程中时，Wwise 可能会发生崩溃。
- **WG-54072** 已修复：(Spatial Audio) Room/Portal 遍历算法可能会生成通过听者所在 Room 环回的路径。这些路径不产生可闻音频，但尝试计算它们可能会导致性能下降。
- **WG-54109** 已修复：在播放 Blend Container 并设有 Limiter 时连接性能分析器会引发崩溃。