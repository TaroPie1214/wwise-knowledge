# 版本说明 2018.1

|  |
| --- |
| Wwise SDK 2025.1.4 - Windows |

版本说明 2018.1

以下各节列举并描述 Wwise 版本 2017.2 和版本 2018.1 之间的变化。有关早期版本的信息，请参阅 [过往版本的发行说明](previousreleases.html) 章节。如果使用联机帮助，您还可以从目录列的顶部选择别的 Wwise 版本。

|  |  |
| --- | --- |
|  | **备注:** **插件开发人员：** 此 Wwise 版本支持通过 Wwise 2018 构建的插件。对于通过旧版 Wwise 构建的插件，开发人员必须使用兼容版本重新编译并重新打包。 |

- [平台 SDK 的变化](whatsnew_2018_1.html#sdk_changes_2018_1)
- [新功能](whatsnew_2018_1.html#feature_changes_2018_1)
- [API 变化](whatsnew_2018_1.html#api_changes_2018_1)
- [行为变化](whatsnew_2018_1.html#behavior_changes_2018_1)
- [性能变化](whatsnew_2018_1.html#perf_changes_2018_1)
- [其它更改](whatsnew_2018_1.html#misc_2018_1)
- [漏洞修复](whatsnew_2018_1.html#bugs_2018_1)

# 平台 SDK 的变化

- 移除对 Visual Studio 2010 和 2012 的支持
- **Perforce**：已更新至 2018.1 (2018.1.1637071).

# 新功能

- **WG-15220** 现在可调整 Contents Editor 的列标题宽度。
- **WG-18255** 现在支持在各个视图中使用键盘 Tab 键。
- **WG-19121** 现在支持在 Property Editor 的 Effects 选项卡中复制 Effect。
- **WG-19255** 在快捷菜单中添加了 Convert to Sound SFX/Voice 选项。
- **WG-33754** 现在支持在所有平台上使用 Opus 编解码器。在文件大小存在严格限制时，可使用 Opus 完美替代 Wwise Vorbis。这样只需多占用一些 CPU 资源，便可提高压缩性能，并获得更高的感知品质。这两个编解码器各有所长，可满足不同的文件大小和 CPU 资源要求。
- **WG-33869** 将 Event Action 属性 Fade Curve 拆分成了 Fade-in Curve 和 Fade-out Curve；曲线列表现在显示曲线图像。
- **WG-34847** 为 Reflect 添加了相应控件，方便用户微调或减少运动发声体或听者所应用的多普勒移调效果器。
- **WG-34918** 新增了 Wwise Motion Source 插件，替代原来的 Wwise Motion Generator。该插件允许使用 RTPC 来调整促动器曲线。
- **WG-34940** (WAAPI) 添加了 SoundBank 函数和主题：[ak.wwise.core.log.get](ak_wwise_core_log_get.html) 、[ak.wwise.core.log.itemAdded](ak_wwise_core_log_itemadded.html) 和 [ak.wwise.core.soundbank.generated](ak_wwise_core_soundbank_generated.html) 。
- **WG-35325** 创建了可自定义主题，并内置 Classic 和 Dark 选项。
- **WG-35327** 在 Custom Object 对话框中添加了 Create ShareSet，方便将 Effect 的模式由 *Define custom* 改为 *Use ShareSets*，且不会产生任何冲突。
- **WG-35329** 在 Property Editor 顶部添加了分隔器，方便调整 Notes 字段的相对宽度。
- **WG-35330** 在 Game Sync Monitor 两侧添加了分隔器，方便单独调整 Game Sync Watches 和 Game Syncs 列表的窗格大小。
- **WG-35331** 在 Mixing Desk 顶部添加了相应控件且可调整其尺寸。
- **WG-35332** 添加了可自定义快捷方式，方便在 Project Explorer 中进行展开/折叠。
- **WG-35336** 改进了 States 选项卡，可保持展开/折叠状态。
- **WG-35471** 在 Project Explorer 的上下文子菜单中添加了快捷方式标识。
- **WG-36008** (实验功能) 利用几何构造数据为直通路径和早期反射添加了衍射功能。**API 变化**：为 Spatial Audio 三角形网格添加了新的 API。
- **WG-36184** 添加了可自定义主题颜色设置：色调、饱和度、亮度和对比度。
- **WG-36320** 添加了 Property Help 视图，方便针对选定属性显示 Wwise Help 条目。
- **WG-36460** 现在可利用 RTPC 曲线来设置属性值随时间变化的特性。
- **WG-36487** [Wwise Recorder](https://www.audiokinetic.com/library/edge/?source=Help&id=wwise_recorder_plug_in_effect) 插件为 Ambisonics 文件添加了 AmbiX 格式支持。
- **WG-36607** 在 Meter 视图中添加了 3D Meter 模式。3D Meter 中显示 Ambisonics 总线的方向数据。
- **WG-36647** 添加了相应控制按钮，方便将选项卡分区横向或纵向分隔为独立窗格。
- **WG-36650** 在多个列表的 Object Property Settings (Configure Columns) 对话框中添加了 **Reset to Default** 按钮，包括 List View、Query Editor、Reference View 和 Contents Editor。
- **WG-36687** 在相应 Project Explorer 子菜单中添加了源插件创建选项。
- **WG-36969** (WAAPI) 添加了 [ak.wwise.debug.enableAutomationMode](ak_wwise_debug_enableautomationmode.html) ，可减少自动化任务过程中由消息框和对话框造成的潜在中断。
- **WG-37161** 改进了 Capture Log，可在连接时列出连接至游戏前出现的错误。
- **WG-37205** 加宽了 Hardware Device 列，可显示 ShareSet 的完整名称。
- **WG-37284** 添加了相应快捷方式，只需在 Voices Graph 中双击 Effect 便可直接打开 Effect Editor。
- **WG-37913** 为 Audio Bus 和 Auxiliary Bus 添加了 Preset 及复制/粘贴选项。
- **WG-38071** 为 Game Object 3D Viewer 添加两个新的射灯（共有三个），可更加精确地设置环境。
- **WG-38127** 为 `AK::IAkGlobalPluginContext` 添加了新的服务，方便插件通过全局回调来发送 Event 和 MIDI。
- **WG-38349** 为 Motion Effect 添加了新的 Motion Factory Preset。
- **WG-38508** Crankcase Audio 开发的 REV 插件已更新为最新版本。
- **WG-38588** 在 Advanced Profiler 的 Plug-ins 选项卡中添加了 Spatial Audio 和 Interactive Music 的 CPU 用量，并将该值计入 Performance Monitor 中的 Total Plug-in CPU 用量。

# API 变化

- **WG-33741** 更改了几何构造 API。请参阅 [在 2018.1 版本中使用几何构造 API](whatsnew_2018_1_migration.html#geometry_api) 了解更多详情。
- **WG-36398** 从 `AkRoomParams` 中移除了弃用字段 Priority。
- **WG-36741** 在设备不兼容时，Motion sink 插件改用假输出。修复后将显示新的错误代码：Ak\_DeviceNotCompatible。若在 sink 插件初始化过程中返回此错误代码，则将强制使用假 sink。
- **WG-36986** `SetPortalObstruction()` 和 `SetEmitterObstruction()` 已分别重命名为 `SetPortalObstructionAndOcclusion()` 和 `SetEmitterObstructionAndOcclusion()`。新的声笼值将传给声音引擎，并同时影响湿声和干声路径（方式类似于 `SetObjectObstructionAndOcclusion()`）。
- **WG-37745** 添加了 `AkInitSettings::eFloorPlane，允许` Wwise 设计工具在连接至游戏时使用指定的平面。可能值包括 `AkFloorPlane_X-Z（默认值）、AkFloorPlane_X-Y 和` `AkFloorPlane_Y-Z。对于不使用` Audiokinetic 集成的 Unreal Engine 用户，请考虑在调用 `AK::SoundEngine::Init` 前将此值设为 `AkFloorPlane_XY` 。
- **WG-38367** `AK::IAkGlobalPluginContext::RegisterGlobalCallback()` 现在需要使用插件 ID（Type、Company、Plug-in）在插件计时器内注册回调性能。`AK::SoundEngine::RegisterGlobalCallback()` 可选择性使用插件 ID 来注册插件。
- **WG-38844** Spatial Audio 的 `QueryIndirectPaths` 和 `AkSoundPathInfo` 已分别重命名为 [QueryReflectionPaths](namespace_a_k_1_1_spatial_audio_a6788472cabeb8911c60559a1f06addb0.html#a6788472cabeb8911c60559a1f06addb0) 和 `AkReflectionPathInfo` 。

# 行为变化

- **WG-35918** 对于 Blend Container 和 Switch Container，Wwise 将按照 Contents Editor 中显示的 Blend Track、Switch 和 State 名称进行排序。
- **WG-36327** 在没有寻址表时寻址 Vorbis 声音仍会失败，但不再停止声音。
- **WG-36399** 在 Interactive Music Hierarchy 内移动或复制对象时，Wwise 不再复制上级对象的插播乐句。
- **WG-36689** Scope 和 Delay 不再是 Event Editor 中 Action 列表的默认列。
- **WG-36762** Project Explorer 中的弃用对象现在会显示禁用图标。
- **WG-36787** 修改了 Randomizer 的打开位置，现在离光标更近。
- **WG-37227** 对于新创建的 Wwise 工程，将默认禁用 Remove DC Offset。
- **WG-37243** 对于多项选择，现在同样可在 Project Explorer 中使用 + 和 - 键展开和折叠节点。
- **WG-37454** 在加载音频包时，Wwise 将验证用户自建内存池的内存对齐数据。
- **WG-38197** (WAAPI) 在调用 WAAPI 函数 `ak.wwise.ui.project.open` 或在 UI 中打开工程时，将阻止调用其他 WAAPI，直至完成工程打开操作。您可以调用 `ak.wwise.core.project.loaded，以便在成功加载工程后显示通知。`
- **WG-38207** Game Object 3D Viewer 和内置衍射 RTPC 之前按度显示衍射角度。为了与衍射所设声障值保持一致，我们已统一更改单位并将取值范围设为 0-100。与衍射绑定的 RTPC 的刻度范围为 0-100，Game Object Profiler 中将显示 ，就像 Reflect 插件内显示的衍射反射一样。
- **WG-38443** 多个 Portal 的衍射值将汇总在一起，生成最终衍射值，并发送至声音引擎（通过声障或 RTPC 值）。若结果值大于 100，则将该值限制在有效范围内。此前都是取最大值。
- **WG-38456** 现在支持音频包部份向后兼容。自 2017.2.7 和 2018.1 起，将兼容通过 2016.1 及更高版本生成的音频包，前提是其仅包含媒体内容。注意，若媒体为插件媒体，则无法保证向后兼容性。

# 性能变化

- **WG-33966** (实验性) 添加了在主机任务计划程序系统中并行执行声部和总线处理任务的可能性。See [Parallel Execution of Audio Rendering Tasks](https://www.audiokinetic.com/library/2018.1.11_6987/?source=SDK&id=goingfurther_eventmgrthread.html#eventmgrthread_taskscheduling) for details.
- **WG-35741** 将 EQ、LPF 和 HPF 优化了 20% ~ 200（具体取决于平台和配置）。
- **WG-36180** 减少了执行游戏性能分析时发送至 Game Object 3D Viewer 的几何构造数据。
- **WG-37344** 取消了针对 Mac OS 的 i386 支持。
- **WG-37750** 改进了 Vorbis 解码器内存分配器使用模式。

# 其它更改

- **WG-18397** 为 Query Editor 的 Start From 字段和 Capture Log Filter 的 Wwise Objects 字段添加了对象拖放功能。
- **WG-26840** 修改了快速搜索功能，允许在浏览并选中结果时继续显示列表。同时，自动显示高亮结果详情。
- **WG-35072** 为了方便访问，将对象快捷菜单条目浏览信息移到了顶部菜单。
- **WG-35278** 将 SoundBank Manager 的 Generate 按钮改成了 Generate Selected 和 Generate All。
- **WG-35604** 重新调整了 Property Editor 的顶部。
- **WG-36014** 将选项卡浏览快捷方式改成了浏览器标准快捷方式 `Ctrl+#`（ `其中 # = 1 ~ 9` ）。为此，同时将平台切换快捷方式改成了 `Alt+#`。
- **WG-36155** 对视图进行了改动，即便在缩小窗口时也会继续显示选项卡。为了避免选项卡滚动，将根据视图需要在选项卡中显示单独的行。
- **WG-36166** 简化了 Wwise 工具栏：移除 Capture Time 标识，并将标有文本的大号按钮（Stop Capture、Follow Capture Time、Remote... 和 Reconnect）替换为更加直观的小号图标按钮。
- **WG-36435** Wwise Help 现在提供 Korean 版本。
- **WG-36573** 在激活状态下将 Mute 和 Solo 的颜色分别设置成了黄色和蓝色。
- **WG-36575** 从 Help 菜单中移除了 Quick Reference Card。
- **WG-36606** Ambisonics 总线声道配置 Ambisonics 1\_1、Ambisonics 2\_2 和 Ambisonics 3\_3 已分别重命名为 Ambisonics 1st order、Ambisonics 2nd order 和 Ambisonics 3rd order。
- **WG-36660** 将 Documentation Source 和 Documentation Language 选项从 User Preferences 移到了 Help 菜单。
- **WG-36755** 将 Performance Monitor 的默认设置改成了 Audio Thread CPU、Number of Voices (Total)、Number of Voices (Physical) 和 Output Peak。
- **WG-37011** 更改了视图标题栏中的标准图标（Load Preset、Save Preset、Close 和 Help）。
- **WG-37296** 在 Capture Log 中添加了更多 Unknown Game Object 错误信息。
- **WG-37413** 更改了布局配置，使其与先前版本 Wwise 不再兼容。
- **WG-37427** 更改了 Capture Log 界面，便于使用 Wwise 列表控件。这样可以进行一些非常有用的调整，包括多个完全可配置列和更多快捷菜单选项。不过，无法再进行排序。
- **WG-37647** 更新了 Wwise 设计工具任务栏图标的外观。
- **WG-37694** 改进了 Wwise 设计工具（包括所有插件），便于使用 Visual Studio 2015 进行编译。
- **WG-38384** 针对 Integration Demo 的 Spatial Audio - Portals 演示添加了有关如何使用 Spatial Audio Rooms 创建环境声的示例。
- **WG-38504** 将最低插件版本变更为 2018.1。用老版本 Wwise SDK 构建的插件无法在 2018.1 上运行，需要重新构建。
- **WG-38770** 从 Auro 插件包中移除了 Auro Panner。将使用默认的 Wwise 声像器来完成相同操作。
- **WG-38899** 对 Advanced Profiler 设置的 Spatial Audio 选项进行了分组。

# 漏洞修复

- **WG-14241** 已修复：Project Explorer 和 Sequence Container Playlist Editor 中的自动垂直滚动条失效。
- **WG-26272** 已修复：无法在 Notes 字段中使用 Select All (Ctrl+A)。
- **WG-35007** 已修复：无法正常更新 Schematic View 中的定位图标。
- **WG-35027** 已修复：在文件扩展名无效时，Wwise Recorder 插件完成录制后仍显示 *Recording* 状态。
- **WG-35460** 已修复： `StopAll` 性能问题。
- **WG-35615** 已修复：在连接至 Unreal 时，Game Object 3D Viewer 中的地平面与 Unreal 不匹配。
- **WG-36156** 已修复：在选中 Master Audio Bus 时按下 Shift 无法启用总线图标。
- **WG-36407** 已修复：Source 和 Conversion 视图中的 Original Size 和 Duration 列无法反映音频文件的修剪区域。
- **WG-36424** 已修复：(WAAPI) `ak.wwise.waapi.getSchema` 调用缺少所需参数。
- **WG-36693** 已修复：在卸载/重新加载目标 Work Unit 后，播放 MIDI 片段时没有声音。
- **WG-36751** 已修复：(WAAPI) 在通过 `ak.wwise.ui.commands.execute` 打开视图时，即便已经打开也不显示视图。
- **WG-36998** 已修复：在顶层 Physical Folder 和紧邻的 Default Work Unit 下选择 All Parents 时，Multi Editor 发生崩溃。
- **WG-37300** 已修复：(WAAPI) 在 Mac 上连接失败。
- **WG-37346** 已修复：在针对弃用平台生成 SoundBank 时触发 Wwise 断言。
- **WG-37426** 已修复：Profiler Statistics 中的 Value Distribution 表格滚动条失效。
- **WG-37491** 已修复：Master-Mixer Console 无法将 Auxiliary Bus 上被旁通的效果器显示为灰色。
- **WG-37531** 已修复：(iOS) 在中断 sink 时触发断言 (AkSinkApple.cpp)。
- **WG-37577** 已修复：在所指派 RTPC 的范围发生变化时，无法立即更新 Blend Container 的 X 轴。
- **WG-37621** 已修复：在同一 C++ 文件中同时包含 Wwise SDK 头文件和 AkAutobahn 头文件时出现编译错误。
- **WG-37637** 已修复：Mixing Desk 的快捷菜单不使用选中对象。
- **WG-37679** 已修复：在使用滑杆时，States 选项卡中部分属性的取值范围无效。
- **WG-37695** 已修复：Integration Demo 中显示警告消息。
- **WG-37878** 已修复：在使用匿名声道配置时，Reflect 输出乱码。
- **WG-37997** 已修复：在撤消/重做从调制器到 RTPC 的切换操作时，Wwise 发生崩溃。
- **WG-38021** 已修复：在将鼠标悬停于树视图和列表中的控件上时不显示工具提示。
- **WG-38118** 已修复：(WAAPI) 在 Mac 上加载工程时，多项调用失败。
- **WG-38144** 已修复：(WAAPI) 在 Mac 上同时运行客户端和服务器时，若重新启动服务器（关闭并重新打开 Wwise），则即便客户端已经重启也无法重新连接。
- **WG-38170** 已修复： [AK::SoundEngine::SetScalingFactor](namespace_a_k_1_1_sound_engine_a9b71daa02c5d398d08c9eb0643d52555.html#a9b71daa02c5d398d08c9eb0643d52555) 反向影响 Spread 和 Focus。在将值调至 1 以上时，感知距离应减小而非增大。
- **WG-38337** 已修复：(Mac) 在某一未停靠视图上单击时无法将其显示在另一未停靠视图之上。
- **WG-38340** 已修复：(Mac) 在 Project Explorer 中重命名对象时，即便输入无效字符也不提示重新编辑字段。
- **WG-38359** 已修复：(WAAPI) `audioSource:maxDurationSource` 无法用于 Sound Voice 对象。
- **WG-38412** 已修复：(WAAPI) `ak.wwise.core.audio.importTabDelimited` 在错误中返回的详情字段不标准。有关详细信息，请参阅 [WAAPI ak.wwise.core.audio.importTabDelimited 错误，格式已更改](whatsnew_2018_1_migration.html#waapi_migration_error) 。
- **WG-38422** 已修复：Peak Limiter 允许输出超出指定电平。
- **WG-38449** 已修复：在 Event Editor 内使用键盘快捷命令（比如在 Project Explorer 查找对象）时，会转至 Event 而非 Action 的 Target。
- **WG-38451** 已修复：在进行流播放时，无法播放较长的多声道 ADPCM 文件（10 分钟或更长）。
- **WG-38455** 已修复：Wwise Project Zipper 没有包含必要的工程文件（如 WCUSTOMPROPERTIES）。
- **WG-38580** 已修复：在听者进入 Portal 区域时，通过 Portal 衍射的声音瞬间跳变为 0 衍射。
- **WG-38582** 已修复：在设置旁通并取消设置后无法旁通 Output Bus 滤波器。
- **WG-38619** 已修复：在内存不足时，Vorbis 解码器出现内存泄漏。
- **WG-38678** 已修复：States 选项卡上下文菜单 Clear States 发生崩溃。
- **WG-38726** 已修复：无法清楚辨认 Game Object 3D Viewer 的位置数值。
- **WG-38734** 已修复：在通过 SoundFrame 播放空的 Event 时发生崩溃。
- **WG-38780** 已修复：在监控游戏的空间音频数据时监控池内存不足，导致 Wwise 设计工具发生崩溃。
- **WG-38783** 已修复：Spatial Audio 库内存不足，导致发生崩溃。
- **WG-38824** 已修复：在 Xbox One 上调用 `AkMotionSink::Init` 时引发异常。
- **WG-38859** 已修复：Release 配置的 Lumin 库中的符号被移除。
- **WG-38904** 已修复：在保存工程时，Game Object 3D Viewer 发生崩溃。
- **WG-38933** 已修复：在听者位于 Portal 正中位置时，定位系统意外插入了 NaN 值（在 Obs/Occ 选项卡中显示为 *-nan(ind)*）。

参见
:   - [新功能概述 2018.1](whatsnew_2018_1_new_features.html)
    - [重要的迁移说明2018.1](whatsnew_2018_1_migration.html)
    - [平台要求 2018.1](reference_platform_2018_1.html)