# 版本说明 2021.1.13

|  |
| --- |
| Wwise SDK 2025.1.4 - Windows |

版本说明 2021.1.13

以下各节列举并阐述了 2021.1.12 和 2021.1.13 版本之间针对 Wwise 所作的改进。  
此处提供了有关平台的特定信息：

[Windows 和 Windows UWP 2021.1.13](windows_releasenotes_2021_1_13.html)

有关早期版本的信息，请参阅 [过往版本的发行说明](previousreleases.html) 章节。

- [新增功能](whatsnew_2021_1_13.html#generic_feature_changes_2021_1_13)
- [行为改进](whatsnew_2021_1_13.html#generic_behavior_changes_2021_1_13)
- [漏洞修复](whatsnew_2021_1_13.html#generic_bugs_2021_1_13)
- [社区报告的漏洞修复](whatsnew_2021_1_13.html#generic_community_bugs_2021_1_13)
- [文档改进](whatsnew_2021_1_13.html#generic_documentation_improvements_2021_1_13)

# 新增功能

- **WG-65199** (wp.py) 为设计工具插件部分添加了 Visual Studio 2022 目标支持。

# 行为改进

- **WG-64106** 现在会在启动 `AK::EventMgr` 线程或调用 `CAkAudioMgr::RenderAudio` 之前发出 [AkGlobalCallbackLocation\_Init](_ak_callback_types_8h_ae7a5e30e1402c7cf90d1b47420911676.html#ae7a5e30e1402c7cf90d1b47420911676a97caf890959d744c1c088d19c2d02e11) 回调。这样可确保在 [AkGlobalCallbackLocation\_Begin](_ak_callback_types_8h_ae7a5e30e1402c7cf90d1b47420911676.html#ae7a5e30e1402c7cf90d1b47420911676af13fd05bf61f00e37dde9b34e8e14a98) 及音频渲染过程中发出的其他回调之前发出 [AkGlobalCallbackLocation\_Init](_ak_callback_types_8h_ae7a5e30e1402c7cf90d1b47420911676.html#ae7a5e30e1402c7cf90d1b47420911676a97caf890959d744c1c088d19c2d02e11) 回调。

# 漏洞修复

- **WG-61540** 已修复：在尝试对五阶 Ambisonics 输出使用 RegisterCaptureCallback 时，`AkDevice::BaseCaptureCallbackStruct::ConvertForCapture` 发生崩溃。注意，在捕获四阶或五阶 Ambisonics 输出时，仍然只会输出三阶 FuMa 编码的 Ambisonics。
- **WG-61974** 已修复：在 Timeline 中拖动光标时，Voice Inspector 有时无法显示影响衰减的因素。
- **WG-63879** 已修复：在以小于音频帧的分辨率拖动时间线光标时，Voice Inspector 的 Contribution List 中的数据不准确。
- **WG-63880** 已修复：在放大时间线的情况下向后移动时间光标时，Voice Inspector 无法对齐到恰当的时间点。
- **WG-63882** 已修复：在内存不足的情况下终止引擎会导致 AkPath.cpp 发生崩溃。
- **WG-63956** 已修复：在内存不足的情况下加载 "Init.bnk" SoundBank 时可能会发生崩溃。
- **WG-64172** 已修复：如果在终止时正在播放带有 3D User 定位选项的流播放声音，导致 `AK::SoundEngine::Term` 发生崩溃。
- **WG-64365** 已修复：在内存不足的情况下播放设为 Random Continuous 或 Random Step 的 Random Container 或 Music Playlist 时发生崩溃或出现其他错误。
- **WG-64503** 已修复：(Mac Authoring) WwiseConsole 无法正确处理 UNIX 绝对路径。
- **WG-64504** 已修复：在卸载 Work Unit 时没有删除 Music Clip 属性曲线。
- **WG-64585** 已修复：在重新加载 Work Unit 后无意中更改了所指派的 Media ID。
- **WG-64781** 已修复：在音乐对象的上级对象指定了 MIDI Target 时，SoundBank 没有包含音乐对象的 MIDI Target 层级结构。
- **WG-64839** 已修复：无法在没有 MFC 的情况下构建设计工具插件。
- **WG-64957** 已修复：在工程加载过程中，Media ID 验证不够及时。这只会影响 Wwise 设计工具中的本地播放。
- **WG-64982** 已修复：在将鼠标悬停于列表标题上时没有显示工具提示。

# 社区报告的漏洞修复

- **WG-61704** 已修复：在将 Meter 插件用在 Actor-Mixer Hierarchy 下的对象上时无法正确进行计量。
- **WG-61946** 已修复：有些内存地址没有充分对齐。
- **WG-63559** 已修复：在启用 3D Audio 的情况下播放 3D 定位的纯 LFE 声源时，有时会发生崩溃。
- **WG-63588** 已修复：在打开的工程包含 Music Event Cue 和 Event 之间的循环引用时可能会发生崩溃。
- **WG-63817** 已修复：在没有引入新的文件时，工程文件 `AutoDetectedSampleRates.cache` 还是会变大。
- **WG-63852** 已修复：在五阶 Ambisonics 总线中为一些音频进行摆位时，`CAkSpeakerPan::ComputeSN3DphericalHarmonics` 出现堆栈溢出。
- **WG-64285** 已修复：Audio Bus 和 Auxiliary Bus 属性受上级对象上设置的 RTPC/State 影响。此漏洞仅出现在 Wwise 设计工具中。
- **WG-64287** 已修复：在将 Wwise Profiler 连接到游戏时发生崩溃或出现内存 stomp。
- **WG-64478** 已修复：在重新加载 Work Unit 的过程中意外重新指派了对象 ID。在将对象从某一 Work Unit 移到另一 Work Unit 时发生了所述更改。
- **WG-64495** 已修复：在内存不足的情况下执行 `Ak3DAudioMixer::TriageAndMix` 会引发崩溃。
- **WG-64496** 已修复：在 Music Switch Container 包含的 Switch 目标并非前者在工程层级结构下的子对象时，没有将 Music Switch Container 正确打包到 SoundBank 中。
- **WG-64669** 已修复：在 Music Playlist Container 的 Transition 没有验证关键属性值时发生死锁。
- **WG-64683** 已修复：SoundBank 中的 GameSync 弃用设置对 Interactive Music 对象不起作用。
- **WG-64842** 已修复：在 Project Load Log 包含特定消息时，Wwise 发生崩溃。
- **WG-64849** 已修复：对于有些带有 Listener Relative Routing 的总线结构，有时会一次将两条 Master Audio Bus 错误地发送到同一 Output Device 两次，导致出现音频丢失或其他错误。
- **WG-64898** 已修复：没有将 Music Stinger 父对象打包到 SoundBank 中。

# 文档改进

- **WG-64404** 明确了与内置参数绑定的 Game Parameter 的行为。Refer to [Binding Game Parameters to built-in parameters](https://www.audiokinetic.com/library/edge/?source=Help&id=managing_game_parameters_used_in_rtpcs#binding_game_parameter_to_built_in_parameter).
- **WG-65140** 明确了有关使用 [Multi Editor](https://www.audiokinetic.com/library/edge/?source=Help&id=multi_editor_multi_editor) 添加 RTPC 的限制。