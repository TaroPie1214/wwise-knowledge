# 版本说明 2024.1.1

|  |
| --- |
| Wwise SDK 2025.1.4 - Windows |

版本说明 2024.1.1

以下各节列举并阐述了 2024.1.0 和 2024.1.1 版本之间针对 Wwise 所作的改进。   
此处提供了有关平台的特定信息：

[Windows 2024.1.1](windows_releasenotes_2024_1_1.html)

有关早期版本的信息，请参阅 [过往版本的发行说明](previousreleases.html) 章节。

- [新增功能](whatsnew_2024_1_1.html#generic_feature_changes_2024_1_1)
- [API 改进](whatsnew_2024_1_1.html#generic_api_changes_2024_1_1)
- [行为改进](whatsnew_2024_1_1.html#generic_behavior_changes_2024_1_1)
- [性能改进](whatsnew_2024_1_1.html#generic_perf_changes_2024_1_1)
- [其他改进](whatsnew_2024_1_1.html#generic_misc_2024_1_1)
- [漏洞修复](whatsnew_2024_1_1.html#generic_bugs_2024_1_1)
- [社区报告的漏洞修复](whatsnew_2024_1_1.html#generic_community_bugs_2024_1_1)
- [文档改进](whatsnew_2024_1_1.html#generic_documentation_improvements_2024_1_1)

# 新增功能

- **WG-68236** 现在允许选择在 SoundBank Info 文件中包含工程内不同类型对象的颜色。
- **WG-71911** 在 Wwise 因版本不兼容而无法打开 PROF 文件时，现在会在错误消息中指明创建所述文件所用的 Wwise 版本。
- **WG-74127** (WAAPI) 添加了新的函数 `ak.wwise.core.ping` 以便确认 WAAPI 是否可用（即未被锁定）。

# API 改进

- **WG-74850** 对 `AkSpeakerVolumeMatrixCallbackInfo` 进行了更新，以恢复 Wwise 2023.1.0 中移除的 `IAkMixerInputContext`。Wwise 2022.1 及更早版本中为 Speaker Matrix Callback 编写的大部分代码不用修改就能直接使用。

# 行为改进

- **WG-70141** 对有些 Ambisonics 解码操作的音量做了修正，以便提升将各种 Ambisonics 输入混音为多声道输出时响度在整体上的一致性。在对 3D 定位的 1 阶、2 阶和 3 阶 Ambisonics 输入进行解码时，现在会将音量降低 3 dB。在将非 3D 定位的 1 阶、2 阶和 3 阶 Ambisonics 输入解码为带高度声道的多声道输出时，也会将音量降低 3 dB。在将所有非 3D 定位的 Ambisonics 输入解码为不带高度声道的多声道输出时，都会将音量降低 1 dB。

# 性能改进

- **WG-75153** 现在使用 `AK::SoundEngine::StartOutputCapture` 或 `AK::SoundEngine::StartProfilerCapture` 时导致音频处理线程出现几毫秒的延迟概率更低。

# 其他改进

- **WG-70687** 对 Spatial Audio Gym 的声音设计做了改进。

# 漏洞修复

- **WG-70769** 已修复：在播放过程中，播放光标可能会擦除循环标记。
- **WG-72728** 已修复：在 Object Tab 的编辑器选择区右键单击时，有时不显示快捷菜单。
- **WG-73613** 已修复：有关流播放配置不一致的 SoundBank 警告消息中没有在文件名称前后加引号。
- **WG-74043** 已修复：在所加载 SoundBank 中的 Music Switch Container 引用被删除的 State 时可能会出现内存访问冲突。
- **WG-74205** 已修复：在选择新的 Attenuation 时总是选中 Attenuation Editor 中的 Distance Dry Volume 曲线。
- **WG-74292** 已修复：在播放过程中操控 Blend Container 时出现各种问题。
- **WG-74691** 已修复：在选择播放列表项时，矩形选择框太宽了。
- **WG-74809** 已修复：AK ASIO Output 插件会将设备的采样率重置为 48 kHz，而忽略 `AkPlatformInitSettings::uSampleRate` 的值是多少。
- **WG-74854** 已修复：在第一列很窄时无法展开 Random Container 和 Sequence Container 中的行。
- **WG-74885** 已修复：在对媒体素材进行实时编辑后终止 Comm 时发生死锁。
- **WG-74887** 已修复：在对列进行排序后，Random-Sequence Editor 中的播放光标变得不同步。
- **WG-74895** 已修复：在播放应用有 RTPC 的声音时连接 Profiler 导致 `GetRtpcCurveValue` 触发断言。
- **WG-74929** 已修复：倘若指定的节点没有覆盖其父节点的定位，`AK::SoundEngine::Query::GetPositioningInfo` 会无法获取定位信息。
- **WG-74964** 已修复：在结束播放长的非流播放声音时，Vorbis 和 Opus 解码器出现故障。
- **WG-75036** 已修复：**Game Units To Meters** 设置的取值范围有误。
- **WG-75038** 已修复：相较于之前的版本，Game Object 3D Viewer 中存在 Camera Persistence 冲突。
- **WG-75048** 已修复：Integration Demo Wwise 工程在完成加载后显示存在修改。
- **WG-75199** 已修复：在使用上下箭头按钮时，Property Editor 中的 Bus Configuration 下拉列表马上关闭。
- **WG-75204** 已修复：更改工程颜色会导致 Project Settings 不再是模式对话框。
- **WG-75219** 已修复：在更改对象颜色时使用键盘快捷方式可能会引发崩溃。
- **WG-75282** 已修复：在加载以 Blend Container 和 Random Container 作为子对象的 SoundBank 时，显示 "Selected node (0) not available" 消息。
- **WG-75290** 已修复：在拖动标记点的同时右键单击时发生崩溃。
- **WG-75341** 已修复：错误地发出关于 "Unknown Json field: PrintObjectColor" 的警告。
- **WG-75491** 已修复：错误地发出关于 "Unknown Json field: Color" 的警告。

# 社区报告的漏洞修复

- **WG-61228** 已修复：在更改 SoundBank 的 Inclusion 设置时可能会发生崩溃。
- **WG-71614** 已修复：在使用 NULL 回调句柄调用 `RegisterBusMeteringCallback` 或 `RegisterOutputDeviceMeteringCallback` 时没有注销电平测量回调。
- **WG-74466** 已修复：(Spatial Audio) 只要有几何构造或几何构造实例发生变化，就会更新场景中的所有 Portal，即便其距离很远或毫不相关。这可能会导致 % CPU 用量在 1 帧内突然增加。
- **WG-74498** 已修复：在察看原始声音文件已被删除的源时发生崩溃。
- **WG-74773** 已修复：在将两个或多个 Loudness Meter 指派给同一总线时，Loudness Meter 会报告错误的值。
- **WG-74891** 已修复：(WAAPI) 无法播放在订阅主题 `ak.wwise.core.object.created` 时通过复制粘贴创建的带有 return 访问器 "duration" 的新对象。
- **WG-74927** 已修复：在 CPU 用量很高的情况下使用 `AK::SoundEngine::StartProfilerCapture` 可能会导致游戏出现卡顿。
- **WG-74957** 已修复：(Spatial Audio) 在使用 Distance Probe 时，从 Portal 到不带几何构造的 Room 的路径距离不正确。
- **WG-75183** 已修复：无法构建所在路径包含空格的 Integration Demo Visual Studio 解决方案。
- **WG-75207** 已修复：在使用 `AK::SoundEngine::StartProfilerCapture` 时终止声音引擎可能会发生死锁。
- **WG-75305** 已修复：在使用 `clang-cl` 编译时，`AkBitFuncs.h` 出现编译错误。
- **WG-75348** 已修复：在使用 `/W4` 警告级别时，无法在 Visual Studio 上编译有些公用 SDK 头文件。

# 文档改进

- **WG-73468** 在 [External Source](https://www.audiokinetic.com/library/edge/?source=Help&id=wwise_external_source_plug_in_overview) 中添加了有关优缺点的信息。
- **WG-74313** 在聚焦于 Property Editor 的情况下单击 **Help** (F1) 时，现在会打开特定于当前对象类型和所选类别的参考主题。
- **WG-74599** (WAAPI) 明确了用于 Auto-defined SoundBank 的 wwise.core.soundbank.generate 函数以及 soundbanks 和 soundbank.name 参数。
- **WG-75082** 在 [Music Playlist Editor](https://www.audiokinetic.com/library/edge/?source=Help&id=music_playlist_editor) 中添加了有关快捷菜单的信息。