# 版本说明 2023.1.1

|  |
| --- |
| Wwise SDK 2025.1.4 - Windows |

版本说明 2023.1.1

The following sections list and describe the changes to Wwise between version 2023.1.0 and version 2023.1.1.  
此处提供了有关平台的特定信息：

[Windows 2023.1.1](windows_releasenotes_2023_1_1.html)

有关早期版本的信息，请参阅 [过往版本的发行说明](previousreleases.html) 章节。

- [新增功能](whatsnew_2023_1_1.html#generic_feature_changes_2023_1_1)
- [行为改进](whatsnew_2023_1_1.html#generic_behavior_changes_2023_1_1)
- [性能改进](whatsnew_2023_1_1.html#generic_perf_changes_2023_1_1)
- [其他改进](whatsnew_2023_1_1.html#generic_misc_2023_1_1)
- [漏洞修复](whatsnew_2023_1_1.html#generic_bugs_2023_1_1)
- [社区报告的漏洞修复](whatsnew_2023_1_1.html#generic_community_bugs_2023_1_1)
- [文档改进](whatsnew_2023_1_1.html#generic_documentation_improvements_2023_1_1)

# 新增功能

- **WG-66885** 在 Meter Settings 对话框中添加了 **Meter Minimum** 滑杆，并将默认最小音量由 -48 dB 改为了 -72 dB。
- **WG-67361** 现在可通过 AK\_OUTPUT\_REDIRECT 环境变量启用主机输出。
- **WG-68992** 增添了以下声音引擎集成设置，以便使用 Wwise 中 rpmalloc 的默认实现来管理内存：AkMemSettings::uVMSpanCount 和 AkMemSettings::uDeviceSpanCount。藉此，可进一步调节 rpmalloc 在映射和取消映射内存块时的行为，以减少 Wwise 预留的内存。据测试观察，总体上可节省多达 50-100 MiB 的预留内存。
- **WG-69110** 在 Project Explorer 的 Selection Channel 菜单中添加了 **Follow Object Selection** 选项。

# 行为改进

- **WG-69641** 将 `AkJobMgrSettings.uMemorySlabSize` 的默认设置由 8 KiB 改为了 4 KiB，以避免有些内存系统因无法保证大于 4 KiB 的对齐而导致不稳定。

# 性能改进

- **WG-67235** 在处理大量 Audio Object 的情况下，针对 System Audio Device 大幅提升了 3D Audio Bed Mixer 效果器插件和 3D Audio 分类流程的性能。
- **WG-68277** 在处理大量 Audio Object 的情况下，大幅提升了总线在音频渲染过程中的性能。
- **WG-69025** 在处理 AK\_NoMoreData 状态的传入 Audio Object 时，带有独占传入连接的 Audio Objects 总线不会再导致 Temp Alloc 内存用量突然增加。
- **WG-69026** 在多个线程同时请求使用内存块时，减少了 Temp Alloc 内存系统的锁争用。
- **WG-69501** 移除了源自 `CAkVolumeRayComponent::GetRayVolumeData` 的 Object 类别中的短时内存分配。

# 其他改进

- **WG-67387** 在 Integration Demo 中增添了 Channels Demo 环节。
- **WG-69249** 在 Mastering Suite 出厂预设中添加了两个新的预设：Night Mode Strong – 比 Night Mode 预设还要有冲击力；Home Cinema Height Boost – 对 Home Cinema 的增强，旨在突显高度声道中的音频。若要重新导入 Mastering Suite 预设，请先将所有曾经修改过的 ShareSet 从现有的 **Factory Mastering Suite** Work Unit 复制到单独的 Work Unit。接着删除 **Factory Mastering Suite** Work Unit，然后重新导入 Mastering Suite Factory Presets。
- **WG-69387** 在 AK ASIO 插件的声道配置列表中添加了四阶和五阶 Ambisonics 选项。

# 漏洞修复

- **WG-63963** 已修复：在有些情况下，Advanced Profiler 的 CPU 选项卡中报告的计时值出现很大偏差。
- **WG-67683** 已修复：在多核执行情况下运行声音引擎时，`AK::JobMgr::WorkUntilDone` 可能会无限挂起。
- **WG-67849** 已修复：在 Conversion Settings Editor 中，有时无法正常启用或禁用按钮。
- **WG-68183** 已修复：(Spatial Audio) 在取消选中 **Show Active Voices Only** 时，Game Object 3D Viewer 中有时仍会显示通往无法抵达的 Room 的路径。
- **WG-68211** 已修复：在有些情况下，Voice Inspector 影响因素图标不正确。
- **WG-68218** 已修复：在尝试针对特定 Playing ID 停止播放处于 "Continuous" Play Mode 的 Switch Container 时，可能会停止播放同一游戏对象上播放的此声音的其他实例。
- **WG-68299** 已修复：在移除平台后保存工程可能会损坏取消链接的 Object List（如 Effects 列表）。
- **WG-68344** 已修复：(Spatial Audio) 当 Listener 在两个过渡区表面之间移动时，来自 Reverb Zone 的房间底噪有时会突然摆位到一侧。
- **WG-68367** 已修复：(Spatial Audio) 多个连续的衍射点有时完全相同。
- **WG-68387** 已修复：Advanced Profiler 的 Streams 选项卡中的 Stream Name 只能显示 16 个字符。
- **WG-68462** 已修复：(Spatial Audio) 对于包含透明表面但不是 Reverb Zone 的 Room，透射路径的散布和位置不正确。
- **WG-68511** 已修复：在将 Convolution Reverb IR 文件替换为另一具有相同长度的文件时被视为没有更改。
- **WG-68515** 已修复：在 AK Convolution Reverb 中使用很短的 IR (< 10 ms) 时发生崩溃。
- **WG-68629** 已修复：在 Unity 中显示声音引擎错误时发生崩溃。
- **WG-68644** 已修复：现在可以在 Multi Editor 的效果器插槽中取消链接 Render 和 Bypass。
- **WG-68674** 已修复：(Spatial Audio) 在加载特定类型的 Mesh 时触发断言（包括带有大型边缘或边缘远离局部原点的 Mesh）。
- **WG-68717** 已修复：(Spatial Audio) 在传给 Spatial Audio 的几何构造具有同时与透明和不透明表面关联的共线边缘时触发断言。
- **WG-68741** 已修复：Advanced Profiler 的 CPU 选项卡中可能会显示偏小的值。
- **WG-68756** 已修复：Advanced Profiler 中的 Streams 选项卡显示数字而非文件名称。
- **WG-68775** 已修复：Audio Bus 对应 Property Editor 的 HDR 选项卡中没有更新窗口电平表。
- **WG-68794** 已修复：错误地将响度归一化计入 Voice Inspector 中的 Voice Volume。
- **WG-68882** 已修复：(WAAPI) [ak.soundengine.postMsgMonitor](ak_soundengine_postmsgmonitor.html) 将错误而非消息写入到了 Capture Log 中。
- **WG-69059** 已修复：在 Debug 版本的 Wwise 设计工具中打开 Meter 和 Loudness Meter 设置面板时触发断言。
- **WG-69117** 已修复：在单个线程中多次初始化声音引擎时没有重置 Audio Object ID。
- **WG-69190** 已修复：在拖动源的修剪点导致创建无效的修剪区域时发生崩溃。
- **WG-69201** 已修复：(Spatial Audio) 在穿过 Portal 时，由于到同一 Room 的路径距离不同，导致音量突然发生变化。
- **WG-69220** 已修复：如果 Sequence Container 和 Random Container 包含流播放声音但没有设置零延迟预取数据，在启用多核渲染的情况下采用精确到采样点的过渡时将发生崩溃。
- **WG-69230** 已修复：在终止声音引擎的过程中，`AK::JobMgr::Internal::JobManager_workerFunction` 可能会引发崩溃。
- **WG-69290** 已修复：在修改嵌套 Sequence Container 的内容时可能会发生崩溃。
- **WG-69405** 已修复：(Spatial Audio) 在 Portal 两侧动态移动 Reverb Zone 时可能会发生崩溃。
- **WG-69596** 已修复：(Spatial Audio) 在 Reverb Zone 与 Portal 绑定时无法更新 Transition Region Width。
- **WG-69624** 已修复：插件媒体的 SoundBank Metadata 文件中没有 Align 字段。
- **WG-69638** 已修复：(Spatial Audio) 有可能会创建循环往复的 Reverb Zone 层级结构，进而导致无限循环。
- **WG-69644** 已修复：在 Play Originals 模式下察看音乐层级结构时会评估并创建转码后的文件。
- **WG-69895** 已修复：(Spatial Audio) 在所更新的 Reverb Zone 具有新的父级 Room 时可能会触发断言。

# 社区报告的漏洞修复

- **WG-52007** 已修复：在 Music Segment Editor 中，在弃用所有音轨或没有任何音轨时无法对齐到 Beat/Bar 或 Cue。
- **WG-65485** 已修复：(WAAPI) [ak.wwise.core.object.setLinked](ak_wwise_core_object_setlinked.html) 能处理引用但不能处理属性。
- **WG-66902** 已修复：在已经卸载容器的子节点时，`CAkParameterNode::IsOrIsChildOf()` 发生崩溃。
- **WG-67373** 已修复：Source Editor 在 Channel Config Override 列表中显示重复的 Channel Configuration 7.1.4。
- **WG-67691** 已修复：若 SoundBank 已存在于其他地方，便无法使用 `WwiseConsole generate-soundbank` 的 `–soundbank-path` 选项来生成 SoundBank。
- **WG-68291** 已修复：若已经连接了 Wwise Profiler，函数 `StartProfilerCapture` 可能会引发崩溃。
- **WG-68330** 已修复：(WAAPI) 在某些情况下不会发布 [ak.wwise.core.audio.imported](ak_wwise_core_audio_imported.html) 主题。
- **WG-68342** 已修复：WAAPI/WAQL 中的 `isIncluded` 访问器均没有考虑上级对象的 Inclusion 属性。
- **WG-68391** 已修复：在层级结构包含 Blend Container 或 Switch Container 且两个节点将总线输出写入到同一输出时，向非混音总线应用了错误的音量。
- **WG-68719** 已修复：没有将对 Playback Speed 属性所作的 RTPC 更改正确地应用于 MIDI 片段。
- **WG-68803** 已修复：在通过 VS 2022 17.7 或更高版本构建 Vorbis 解码器库时输出产生失真。
- **WG-68832** 已修复：在切换零延迟流播放 PCM 媒体时发生崩溃。
- **WG-68953** 已修复：在安排逆转的音乐过渡时发生崩溃。
- **WG-69000** 已修复：在更改 State Group 的 Custom Transition Time 时没有任何作用。
- **WG-69005** 已修复：插件将运行时字符串参数作为 Pascal 字符串而非以空字符结尾的 C 字符串来接收。
- **WG-69126** 已修复：在复制粘贴将 **Track Type** 设为 **Switch** 的 Music Track 时发生崩溃。
- **WG-69334** 已修复：在 Audio Objects 总线上运行仅处理一个多声道 Audio Object 的 Compressor 或 Expander 效果器时，其只对 Audio Object 的第一个声道实施压缩或扩展。
- **WG-69404** 已修复：从代码中移除了不恰当的断言。
- **WG-69444** 已修复：在使用采用多核处理的硬件编解码器（如 Opus）时，`CAkModulatorData::IsEmpty` 引发崩溃。
- **WG-69481** 已修复：Premake 脚本中对 C++20 的支持不完整。
- **WG-69666** 已修复：在使用键盘快捷方式添加 Sub-Track 时可能会发生崩溃。
- **WG-69675** 已修复：在从硬件 Opus 解码器的硬件故障恢复时发生崩溃。
- **WG-69769** 已修复：List View 和 Multi Editor 没有为 Game-defined Auxiliary Send 显示继承的值。

# 文档改进

- **WG-65258** 添加了有关如何解决 Capture Log 错误 [Plug-in media unavailable](https://www.audiokinetic.com/library/edge/?source=Help&id=ErrorCode_PluginMediaUnavailable) 的信息。
- **WG-65265** 在 [声障、声笼及 Game-defined Auxiliary Sends](soundengine_obsocc.html) 、 [Spatial Audio](spatial_audio.html) 和 [Spatial Audio 概念](spatial_audio_concepts.html) 中详细阐述了声障、声笼、衍射和透射之间的关系。
- **WG-66865** 在 [集成详情——3D 位置](soundengine_3dpositions.html) 中添加了有关 `AK::SoundEngine::SetMultipleObstructionAndOcclusion` 的注释。
- **WG-67350** 明确了[在工程中启用 HDR](https://www.audiokinetic.com/library/edge/?source=Help&id=using_hdr#enabling_hdr_in_project) 时的 HDR 用法。
- **WG-67355** 对 [集成 External Source](integrating_external_sources.html) 进行了更新，添加了对 Wwise Unreal 集成文档 External Source 章节的交叉引用。
- **WG-68088** 在[使用 3D 空间化对象](https://www.audiokinetic.com/library/edge/?source=Help&id=working_with_3d_objects)中添加了有关如何对总线进行空间化处理的信息。
- **WG-68290** 添加了新的有关 [Radial Emitters](spatial_audio_radial_emitters.html) 的页面。
- **WG-68517** 更正了[容器类型](https://www.audiokinetic.com/library/edge/?source=Help&id=grouping_sound_and_motion_objects_to_create_actor_mixer_hierarchy_types_of_containers)表格中的 Sequence Container 图标。
- **WG-69100** 在 [向音频插件中添加媒体](effectplugin_media.html) 页面添加了详细信息并更新了示例代码。
- **WG-69105** 明确了 [Mastering Suite](https://www.audiokinetic.com/library/edge/?source=Help&id=mastering_suite_plug_in) 插件的用法。
- **WG-69106** 添加了有关如何访问 [Transport Control](https://www.audiokinetic.com/library/edge/?source=Help&id=playback_controls_transport_control) 的信息。
- **WG-69332** (WAAPI) 不再提及已经不存在的引用（如 Effect0）。
- **WG-69343** 添加了语音合成源插件开发相关便捷功能的信息。