# 重要的迁移说明 (2011.2)

|  |
| --- |
| Wwise SDK 2025.1.4 - Windows |

重要的迁移说明 (2011.2)

# All Streamed and Converted Files Have a New File Extension (WEM)

All streamed and converted files now have the .wem file extension (Wwise Encoded Media). Wwise does not generate anymore files with the ogg, xma or wav extensions. All streamed or converted files now have the .wem extension, whatever their encoding format is. The External Source files are also all converted to .wem files.

You may have to modify your tools or installers to manipulate wem files instead of ogg, xma or wav files.

# SDK Function SetLanguageNameDir(...) Replaced by SetCurrentLanguage(...)

When using the default Stream Manager, the language name used for localized sounds is now set using [AK::StreamMgr::SetCurrentLanguage()](namespace_a_k_1_1_stream_mgr_ae4820886baae734dd90177a49a2be1eb.html#ae4820886baae734dd90177a49a2be1eb), instead of setting a directory name on all low-level I/O devices. Note that the directory separator ("/" or "\") must not be appended to the language name anymore. See [AK::StreamMgr::SetCurrentLanguage()](namespace_a_k_1_1_stream_mgr_ae4820886baae734dd90177a49a2be1eb.html#ae4820886baae734dd90177a49a2be1eb) for more details.

# SoundBanksInfo.xml Version Was Changed to 9

The SoundbanksInfo.xml version was updated to 9 and has the following changes:

- Now has reference to .wem files
- Includes a reference to the project directory (ProjectRoot element)
- Includes a reference to the external source input file (ExternalSourcesInputFile element)
- Includes a reference to the external source output path (ExternalSourcesOutputRoot element)
- Optional RSX attribute was added to the File element for RSX streamed files

# File Packager Projects Version Was Changed to 6

- Now support 64 bit ids for external sources references (name hash)
- Now support automatic assignation of external sources files to package
- Added RSX support to packages

# Low-Level I/O Samples Were Modified

Although the Low-Level I/O API has not changed, most Low-Level I/O samples included in the SDK were modified in order to conform to the following new features:

- New .wem file extension (see [All Streamed and Converted Files Have a New File Extension (WEM)](whatsnew_2011_2_migration.html#migration_2011_2_wem_files))
- New, simplified way of setting the current language for localized assets (see [SDK Function SetLanguageNameDir(...) Replaced by SetCurrentLanguage(...)](whatsnew_2011_2_migration.html#migration_2011_2_setlanguagenamedir))
- New file packager version (see [File Packager Projects Version Was Changed to 6](whatsnew_2011_2_migration.html#migration_2011_2_file_packager_version))

Also, the Low-Level I/O hook used for streaming from RSX (PS3 only) was completely rewritten ([Native Support for RSX(tm) Streaming (PS3(tm) only)](whatsnew_2011_2_new_features.html#whatsnew_2011_2_rsx)).

You should adapt your implementation of the Low-Level I/O to support these new features. You should merge or replace the following files into your project if you were using them with little or no modifications.

CAkFileLocationBase (in SDK/samples/SoundEngine/Common/AkFileLocationBase.h and AkFileLocationBase.cpp):

- Uses the new .wem file extension
- Deduces the name of the localized assets directory by calling [AK::StreamMgr::GetCurrentLanguage()](namespace_a_k_1_1_stream_mgr_ae24e1f8b35b501eaa97599d5d6e48cc1.html#ae24e1f8b35b501eaa97599d5d6e48cc1)
- Does not provide function SetLanguageNameDir() anymore

File package low-level I/O layer (in SDK/samples/SoundEngine/Common/AkFilePackageLowLevelIO.h, AkFilePackageLowLevelIO.inl, AkFilePackage.h, AkFilePackage.cpp, AkFilePackageLUT.h and AkFilePackageLUT.cpp):

- Supports the new file package format

New RSX I/O hook (PS3 only):

- The device CAkRSXIOHook (in SDK/samples/SoundEngine/PS3/AkRSXIOHook.h and AkRSXIOHook.cpp) was completely rewritten. Other files were added in order to complement it. Please refer to [流播放/流管理器](streamingdevicemanager.html) and subpages for more details.
- If you are satisfied with your own implementation of audio streaming from RSX, you are not required to use the new CAkRSXIOHook and its related classes. However, in order to load file packages generated by the File Packager tool that is shipped with Wwise 2011.2, and to conform to the new language management, you should replace the underlying file package low-level I/O layer and file location services (explained above).

请参阅《安装与迁移指南》了解有关将工程迁移到 Wwise 新版本的一般建议。