# 终止声音引擎的不同模块

|  |
| --- |
| Wwise SDK 2025.1.4 - Windows |

终止声音引擎的不同模块

# 简介

When your game is ready to exit and does not require audio anymore, terminate the modules that were initialized earlier except Spatial Audio, which does not require manual termination. 我们的示例程序使用以下函数，来将所有终止代码重新组合：

void TermSoundEngine()

{

... 以下是模块终止代码 ...

}

终止各模块时，将按初始化的相反顺序进行。

# 终止通信模块

如果通信模块已经初始化，就要首先被终止：

void TermSoundEngine()

{

#ifndef AK\_OPTIMIZED

//

// 终止通信服务

//

[AK::Comm::Term](namespace_a_k_1_1_comm_a94e307d2974b89cc4fbc8ab0fef20d2f.html#a94e307d2974b89cc4fbc8ab0fef20d2f)();

#endif // AK\_OPTIMIZED

(...)

}

|  |  |
| --- | --- |
|  | **注意:** 在其他模块 *之前先终止通信模块非常重要。* |

# 终止声音引擎

然后终止声音引擎本身：

void TermSoundEngine()

{

(...)

//

// Terminate the sound engine

//

[AK::SoundEngine::Term](namespace_a_k_1_1_sound_engine_a90f8c91937038615480db2b57ce2279e.html#a90f8c91937038615480db2b57ce2279e)();

(...)

}

# 终止 Streaming Manager （流播放管理器）

接下来终止 Streaming Manager 和 Low-Level I/O：

void TermSoundEngine()

{

(...)

// Terminate the streaming device and streaming manager

// CAkFilePackageLowLevelIODeferred::Term() destroys its associated streaming device

// that lives in the Stream Manager, and unregisters itself as the File Location Resolver.

g\_lowLevelIO.Term();

if ( [AK::IAkStreamMgr::Get](class_a_k_1_1_i_ak_stream_mgr_ac650db9915bd06d5eebc1852e0d0cd6e.html#ac650db9915bd06d5eebc1852e0d0cd6e)() )

[AK::IAkStreamMgr::Get](class_a_k_1_1_i_ak_stream_mgr_ac650db9915bd06d5eebc1852e0d0cd6e.html#ac650db9915bd06d5eebc1852e0d0cd6e)()->[Destroy](class_a_k_1_1_i_ak_stream_mgr_ab846904b7ad95752193cf0e9a288ea8a.html#ab846904b7ad95752193cf0e9a288ea8a)();

(...)

}

# 终止 Memory Manager（内存管理器）

现在 Memory Manager 的所有使用者都已终止，到了终止 Memory Manager 本身的时候了：

void TermSoundEngine()

{

(...)

// Terminate the Memory Manager

[AK::MemoryMgr::Term](namespace_a_k_1_1_memory_mgr_a3ec018c61b5dc7428cf51f35f290739e.html#a3ec018c61b5dc7428cf51f35f290739e)();

}

与声音引擎相关的一切模块都已终止，已经可以退出程序了。请继续参阅 [将 Wwise 元素集成到游戏中](workingwithsdks_integratingelements.html) 。

[AK::IAkStreamMgr::Get](class_a_k_1_1_i_ak_stream_mgr_ac650db9915bd06d5eebc1852e0d0cd6e.html#ac650db9915bd06d5eebc1852e0d0cd6e)

static IAkStreamMgr \* Get()

**Definition:** [IAkStreamMgr.h:698](_i_ak_stream_mgr_8h_source.html#l00698)

[AK::MemoryMgr::Term](namespace_a_k_1_1_memory_mgr_a3ec018c61b5dc7428cf51f35f290739e.html#a3ec018c61b5dc7428cf51f35f290739e)

AKSOUNDENGINE\_API void Term()

[AK::Comm::Term](namespace_a_k_1_1_comm_a94e307d2974b89cc4fbc8ab0fef20d2f.html#a94e307d2974b89cc4fbc8ab0fef20d2f)

AKSOUNDENGINE\_API void Term()

[AK::IAkStreamMgr::Destroy](class_a_k_1_1_i_ak_stream_mgr_ab846904b7ad95752193cf0e9a288ea8a.html#ab846904b7ad95752193cf0e9a288ea8a)

virtual void Destroy()=0

[AK::SoundEngine::Term](namespace_a_k_1_1_sound_engine_a90f8c91937038615480db2b57ce2279e.html#a90f8c91937038615480db2b57ce2279e)

AKSOUNDENGINE\_API void Term()