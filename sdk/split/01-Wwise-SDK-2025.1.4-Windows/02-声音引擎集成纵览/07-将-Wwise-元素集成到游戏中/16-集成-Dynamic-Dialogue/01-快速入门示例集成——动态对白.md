# 快速入门示例集成——动态对白

|  |
| --- |
| Wwise SDK 2025.1.4 - Windows |

快速入门示例集成——动态对白

# 动态对白示例

以下代码播放动态序列（Dynamic Sequence）中的一个对白事件：

#include <[AK/SoundEngine/Common/AkDynamicDialogue.h](_ak_dynamic_dialogue_8h.html)>

#include <[AK/SoundEngine/Common/AkDynamicSequence.h](_ak_dynamic_sequence_8h.html)>

(...)

{

// 使用适合的游戏对象打开动态序列。

[AkPlayingID](_ak_typedefs_8h_a9270609771369ea575443fe080bbe9c3.html#a9270609771369ea575443fe080bbe9c3) sequenceID = [AK::SoundEngine::DynamicSequence::Open](namespace_a_k_1_1_sound_engine_1_1_dynamic_sequence_ab6daddd96e109dc7669889733ce4f2cc.html#ab6daddd96e109dc7669889733ce4f2cc)( GAME\_OBJECT\_ID\_HUMAN );

// Add a single dialogue event to the playlist of the dynamic sequence.

{

// 根据指定的变量路径将对白事件解析到音频节点 ID 中。

const char \* argPath[3] = { // Following the order of Arguments:

"Unit\_A", // "Units"

"RescueHostage", // "Objectives"

"Completed" }; // "ObjectiveStatus"

[AkUniqueID](_ak_typedefs_8h_a8341fa4d01d2fa852c3cc410401b04dc.html#a8341fa4d01d2fa852c3cc410401b04dc) nodeID =

[AK::SoundEngine::DynamicDialogue::ResolveDialogueEvent](namespace_a_k_1_1_sound_engine_1_1_dynamic_dialogue_a18385d0523eb14ff57bd4ea9f18c08f6.html#a18385d0523eb14ff57bd4ea9f18c08f6)( "Objective\_Status", argPath, 3 );

// 将音频节点 ID 添加到动态序列播放列表中。

[AK::SoundEngine::DynamicSequence::Playlist](class_a_k_1_1_sound_engine_1_1_dynamic_sequence_1_1_playlist.html) \* pPlaylist =

[AK::SoundEngine::DynamicSequence::LockPlaylist](namespace_a_k_1_1_sound_engine_1_1_dynamic_sequence_af72d304486f19cc81d24c4488c6ea652.html#af72d304486f19cc81d24c4488c6ea652)( sequenceID );

pPlaylist->[Enqueue](class_a_k_1_1_sound_engine_1_1_dynamic_sequence_1_1_playlist_a9155f633c7fdda4283d318d89c2cd4bb.html#a9155f633c7fdda4283d318d89c2cd4bb)( nodeID );

[AK::SoundEngine::DynamicSequence::UnlockPlaylist](namespace_a_k_1_1_sound_engine_1_1_dynamic_sequence_aa7b7bbc2b6158423a0006682b44b40c5.html#aa7b7bbc2b6158423a0006682b44b40c5)( sequenceID );

}

// Play the dynamic sequence.

[AK::SoundEngine::DynamicSequence::Play](namespace_a_k_1_1_sound_engine_1_1_dynamic_sequence_ae2ac4c400d0145c6c25e050d752064bd.html#ae2ac4c400d0145c6c25e050d752064bd)( sequenceID );

// Close the dynamic sequence. 动态序列一直播放到结束，然后

// 自动取消内存分配。

[AK::SoundEngine::DynamicSequence::Close](namespace_a_k_1_1_sound_engine_1_1_dynamic_sequence_ab204d963f6b81abc102a6d6b8272b591.html#ab204d963f6b81abc102a6d6b8272b591)( sequenceID );

}

请参阅 [集成详情——动态对白](soundengine_dynamicdialogue.html) 了解更多信息。

[AK::SoundEngine::DynamicDialogue::ResolveDialogueEvent](namespace_a_k_1_1_sound_engine_1_1_dynamic_dialogue_a18385d0523eb14ff57bd4ea9f18c08f6.html#a18385d0523eb14ff57bd4ea9f18c08f6)

AKSOUNDENGINE\_API AkUniqueID ResolveDialogueEvent(AkUniqueID in\_eventID, AkArgumentValueID \*in\_aArgumentValues, AkUInt32 in\_uNumArguments, AkPlayingID in\_idSequence=AK\_INVALID\_PLAYING\_ID, AkCandidateCallbackFunc in\_candidateCallbackFunc=NULL, void \*in\_pCookie=NULL)

[AkUniqueID](_ak_typedefs_8h_a8341fa4d01d2fa852c3cc410401b04dc.html#a8341fa4d01d2fa852c3cc410401b04dc)

AkUInt32 AkUniqueID

Unique 32-bit ID

**Definition:** [AkTypedefs.h:31](_ak_typedefs_8h_source.html#l00031)

[AK::SoundEngine::DynamicSequence::LockPlaylist](namespace_a_k_1_1_sound_engine_1_1_dynamic_sequence_af72d304486f19cc81d24c4488c6ea652.html#af72d304486f19cc81d24c4488c6ea652)

AKSOUNDENGINE\_API Playlist \* LockPlaylist(AkPlayingID in\_playingID)

[AK::SoundEngine::DynamicSequence::Play](namespace_a_k_1_1_sound_engine_1_1_dynamic_sequence_ae2ac4c400d0145c6c25e050d752064bd.html#ae2ac4c400d0145c6c25e050d752064bd)

AKSOUNDENGINE\_API AKRESULT Play(AkPlayingID in\_playingID, AkTimeMs in\_uTransitionDuration=0, AkCurveInterpolation in\_eFadeCurve=AkCurveInterpolation\_Linear)

[AK::SoundEngine::DynamicSequence::Open](namespace_a_k_1_1_sound_engine_1_1_dynamic_sequence_ab6daddd96e109dc7669889733ce4f2cc.html#ab6daddd96e109dc7669889733ce4f2cc)

AKSOUNDENGINE\_API AkPlayingID Open(AkGameObjectID in\_gameObjectID, AkUInt32 in\_uFlags=0, AkCallbackFunc in\_pfnCallback=NULL, void \*in\_pCookie=NULL, AkDynamicSequenceType in\_eDynamicSequenceType=AkDynamicSequenceType\_SampleAccurate)

[AK::SoundEngine::DynamicSequence::Playlist::Enqueue](class_a_k_1_1_sound_engine_1_1_dynamic_sequence_1_1_playlist_a9155f633c7fdda4283d318d89c2cd4bb.html#a9155f633c7fdda4283d318d89c2cd4bb)

AkForceInline AKRESULT Enqueue(AkUniqueID in\_audioNodeID, AkTimeMs in\_msDelay=0, void \*in\_pCustomInfo=NULL, AkUInt32 in\_cExternals=0, AkExternalSourceInfo \*in\_pExternalSources=NULL)

**Definition:** [AkDynamicSequence.h:83](_ak_dynamic_sequence_8h_source.html#l00083)

[AkDynamicDialogue.h](_ak_dynamic_dialogue_8h.html)

[AkDynamicSequence.h](_ak_dynamic_sequence_8h.html)

[AK::SoundEngine::DynamicSequence::Playlist](class_a_k_1_1_sound_engine_1_1_dynamic_sequence_1_1_playlist.html)

**Definition:** [AkDynamicSequence.h:79](_ak_dynamic_sequence_8h_source.html#l00077)

[AK::SoundEngine::DynamicSequence::UnlockPlaylist](namespace_a_k_1_1_sound_engine_1_1_dynamic_sequence_aa7b7bbc2b6158423a0006682b44b40c5.html#aa7b7bbc2b6158423a0006682b44b40c5)

AKSOUNDENGINE\_API AKRESULT UnlockPlaylist(AkPlayingID in\_playingID)

[AkPlayingID](_ak_typedefs_8h_a9270609771369ea575443fe080bbe9c3.html#a9270609771369ea575443fe080bbe9c3)

AkUInt32 AkPlayingID

A unique identifier generated whenever a PostEvent is called (or when a Dynamic Sequence is created)....

**Definition:** [AkTypedefs.h:34](_ak_typedefs_8h_source.html#l00034)

[AK::SoundEngine::DynamicSequence::Close](namespace_a_k_1_1_sound_engine_1_1_dynamic_sequence_ab204d963f6b81abc102a6d6b8272b591.html#ab204d963f6b81abc102a6d6b8272b591)

AKSOUNDENGINE\_API AKRESULT Close(AkPlayingID in\_playingID)