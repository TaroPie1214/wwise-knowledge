# 集成详情——游戏对象

|  |
| --- |
| Wwise SDK 2025.1.4 - Windows |

集成详情——游戏对象

游戏对象是可与界面、声音和触发器等元素关联的实体。

游戏对象被定义为 `AkGameObjectID（无符号的` 64 位字段）。您可以自由选择 ID，范围为 0 ~ 0x?FFFFFFFFFFFFFFDF（作为有符号整数时为 -33）。 游戏对象 ID 范围 0x?FFFFFFFFFFFFFFE0?（-32）到 0x?FFFFFFFFFFFFFFFF (-1) 是保留给内部使用的。transport 游戏对象，由设计工具注册，现在使用的游戏对象 ID 是 0x?FFFFFFFFFFFFFFFE?（-2）。

# 游戏对象关联

声音引擎中触发的每个 Event 都与游戏对象关联。Event Action 只要指向特定游戏对象就会与作为 `AK::SoundEngine::PostEvent()` 函数的参数传递的游戏对象关联。若 Event Action 不指向游戏对象，则其会忽略所指定的游戏对象。若 Action 影响单个游戏对象，但 `AK::SoundEngine::PostEvent()` 中指定的游戏对象无效，则不会执行该 Action。

Every game object can have an associated 3D position, a Switch for every existing Switch Group, an RTPC value for each RTPC, and multiple values (for example, a volume) that can be set on a specific item (Sound SFX, Property Container, bus, and so on) for a specific game object. 声音引擎一直存储着这些信息，直到与这些值相关的游戏对象被注销。

# 注册游戏对象

在使用游戏对象前，必须先进行注册。若不再需要游戏对象，请将其注销。虽然保持注册状态并不会造成错误，但是存储这些信息（3D 位置、RTPC、Switch 等）会浪费内存。

`AK::SoundEngine::RegisterGameObj()` 函数存在两个版本：

[AK::SoundEngine::RegisterGameObj](namespace_a_k_1_1_sound_engine_a895ed0f83a0dea8fc284491c0ee0152c.html#a895ed0f83a0dea8fc284491c0ee0152c)( [AkGameObjectID](_ak_typedefs_8h_a352a1eb6955fa208062e40a9ccdd2560.html#a352a1eb6955fa208062e40a9ccdd2560) in\_gameObjectID );

以及

[AK::SoundEngine::RegisterGameObj](namespace_a_k_1_1_sound_engine_a895ed0f83a0dea8fc284491c0ee0152c.html#a895ed0f83a0dea8fc284491c0ee0152c)( [AkGameObjectID](_ak_typedefs_8h_a352a1eb6955fa208062e40a9ccdd2560.html#a352a1eb6955fa208062e40a9ccdd2560) in\_gameObjectID, const char \* in\_pszObjName );

此函数的第二个版本用于监控目的。它会显示与在播对象关联的真实名称。在 `AK_OPTIMIZED` 模式下，第二个版本忽略对象名称。

您可以根据需要选用以下两个函数来注销游戏对象：

[AK::SoundEngine::UnregisterGameObj](namespace_a_k_1_1_sound_engine_af53445c959103c84ea50c17d665f254a.html#af53445c959103c84ea50c17d665f254a)( [AkGameObjectID](_ak_typedefs_8h_a352a1eb6955fa208062e40a9ccdd2560.html#a352a1eb6955fa208062e40a9ccdd2560) in\_gameObjectID );

以及

[AK::SoundEngine::UnregisterAllGameObj](namespace_a_k_1_1_sound_engine_a60be51486f9221e38962232911ef190a.html#a60be51486f9221e38962232911ef190a)();

`AK::SoundEngine::UnregisterAllGameObj()` 会全面清理当前为各个游戏对象设置的所有参数并移除所有游戏对象关联。`UnregisterGameObj()` 的功能与之相同，只不过针对的是单个游戏对象。在注销游戏对象后，必须重新注册才能再次使用。

|  |  |
| --- | --- |
|  | **备注:** 重复使用游戏对象 ID 可能会导致 Wwise Profiler 中游戏对象和名称之间的关联不可靠（参见[性能分析](https://www.audiokinetic.com/library/edge/?source=Help&id=profiling)），因为 Profiler 在刷新视图时只会显示最近使用的名称。 |

有关游戏对象集成的示例，请参阅 [游戏对象示例](quickstart_sample_integration_gameobjects.html#soundengine_integration_gameobj) 章节。

参见
:   - [设置游戏对象的位置](soundengine_3dpositions.html#soundengine_3dpositions_realworld)

[AkGameObjectID](_ak_typedefs_8h_a352a1eb6955fa208062e40a9ccdd2560.html#a352a1eb6955fa208062e40a9ccdd2560)

AkUInt64 AkGameObjectID

Game object ID

**Definition:** [AkTypedefs.h:39](_ak_typedefs_8h_source.html#l00039)

[AK::SoundEngine::UnregisterAllGameObj](namespace_a_k_1_1_sound_engine_a60be51486f9221e38962232911ef190a.html#a60be51486f9221e38962232911ef190a)

AKSOUNDENGINE\_API AKRESULT UnregisterAllGameObj()

[AK::SoundEngine::RegisterGameObj](namespace_a_k_1_1_sound_engine_a895ed0f83a0dea8fc284491c0ee0152c.html#a895ed0f83a0dea8fc284491c0ee0152c)

AKSOUNDENGINE\_API AKRESULT RegisterGameObj(AkGameObjectID in\_gameObjectID)

[AK::SoundEngine::UnregisterGameObj](namespace_a_k_1_1_sound_engine_af53445c959103c84ea50c17d665f254a.html#af53445c959103c84ea50c17d665f254a)

AKSOUNDENGINE\_API AKRESULT UnregisterGameObj(AkGameObjectID in\_gameObjectID)