# 快速入门示例集成——语言和语音

|  |
| --- |
| Wwise SDK 2025.1.4 - Windows |

快速入门示例集成——语言和语音

# 语音和语言示例

如 [文件位置解析](streamingmanager_lowlevel.html#streamingmanager_lowlevel_location) 中所解释，语言相关文件（ SoundBank 和流播放音频文件）由 Low-Level I/O（底层 I/O）系统管理。如果您通过调用 [AK::StreamMgr::SetCurrentLanguage()](namespace_a_k_1_1_stream_mgr_ae4820886baae734dd90177a49a2be1eb.html#ae4820886baae734dd90177a49a2be1eb) 来设置语言相关子目录名称，默认底层 I/O 系统 CAkDefaultLowLevelIO 将支持它。

Before using the code to change the current language:

1. Ensure sounds that use localized assets will stop.
2. Get confirmation that the sounds have ended.

以下代码通过以下方式更改当前语言：

1. 卸载当前加载的语言相关 SoundBank
2. Setting the new Current Language directory by changing the language-specific path with a call to [AK::StreamMgr::SetCurrentLanguage()](namespace_a_k_1_1_stream_mgr_ae4820886baae734dd90177a49a2be1eb.html#ae4820886baae734dd90177a49a2be1eb)
3. 重新加载语言相关 SoundBank

#define BANKNAME\_HUMAN L"Human.bnk"

(...)

// 卸载当前加载的语言相关 SoundBank

[AK::SoundEngine::UnloadBank](namespace_a_k_1_1_sound_engine_ac91406bc2fe061e4248cb448207b5a64.html#ac91406bc2fe061e4248cb448207b5a64)( BANKNAME\_HUMAN, NULL );

// 更改语言相关路径

[AK::StreamMgr::SetCurrentLanguage](namespace_a_k_1_1_stream_mgr_ae4820886baae734dd90177a49a2be1eb.html#ae4820886baae734dd90177a49a2be1eb)( [AKTEXT](_platforms_2_windows_2_ak_types_8h_ab37c4500d1c5377b3f54077b8222dde7.html#ab37c4500d1c5377b3f54077b8222dde7)("French(Canada)/") );

// 重新加载我们刚才卸载的 SoundBank，此次是为一种新语言而做。

[AkBankID](_ak_typedefs_8h_a472a3d18cbb0c4f081b3b619e4a2f349.html#a472a3d18cbb0c4f081b3b619e4a2f349) bankID;

[AK::SoundEngine::LoadBank](namespace_a_k_1_1_sound_engine_a95f8f6841a618ec3d5e51a30a1614e13.html#a95f8f6841a618ec3d5e51a30a1614e13)( BANKNAME\_HUMAN, bankID );

您可以在示例程序中用"Current language"下拉列表试验此功能。

请参阅 [默认底层 I/O 实现](samplecode.html#samplecode_integration_defaultlowlevelio) 了解有关默认底层 I/O 模块的更多信息，并参阅 [文件位置解析](streamingmanager_lowlevel.html#streamingmanager_lowlevel_location) 了解文件本地化。

请参阅 [标识 SoundBank](soundengine_banks_general.html#soundengine_banks_general_identification) 了解有关 SoundBank 标识的更多信息。

|  |  |
| --- | --- |
|  | **备注:** 此例程摘自 [示例](samplecode.html) 一节中的“声音引擎集成工程示例”部分。请参阅 [Integration Demo 示例](soundengine_integration_samplecode.html) 了解更多信息。 |

[AkBankID](_ak_typedefs_8h_a472a3d18cbb0c4f081b3b619e4a2f349.html#a472a3d18cbb0c4f081b3b619e4a2f349)

AkUInt32 AkBankID

Run time bank ID

**Definition:** [AkTypedefs.h:54](_ak_typedefs_8h_source.html#l00054)

[AK::StreamMgr::SetCurrentLanguage](namespace_a_k_1_1_stream_mgr_ae4820886baae734dd90177a49a2be1eb.html#ae4820886baae734dd90177a49a2be1eb)

AKSOUNDENGINE\_API AKRESULT SetCurrentLanguage(const AkOSChar \*in\_pszLanguageName)

[AK::SoundEngine::LoadBank](namespace_a_k_1_1_sound_engine_a95f8f6841a618ec3d5e51a30a1614e13.html#a95f8f6841a618ec3d5e51a30a1614e13)

AKSOUNDENGINE\_API AKRESULT LoadBank(const char \*in\_pszString, AkBankID &out\_bankID, AkBankType in\_bankType=AkBankType\_User)

[AKTEXT](_platforms_2_windows_2_ak_types_8h_ab37c4500d1c5377b3f54077b8222dde7.html#ab37c4500d1c5377b3f54077b8222dde7)

#define AKTEXT(x)

**Definition:** [AkTypes.h:159](_platforms_2_windows_2_ak_types_8h_source.html#l00159)

[AK::SoundEngine::UnloadBank](namespace_a_k_1_1_sound_engine_ac91406bc2fe061e4248cb448207b5a64.html#ac91406bc2fe061e4248cb448207b5a64)

AKSOUNDENGINE\_API AKRESULT UnloadBank(const char \*in\_pszString, const void \*in\_pInMemoryBankPtr, AkBankType in\_bankType=AkBankType\_User)