# 已知问题和限制

|  |
| --- |
| Wwise SDK 2025.1.4 - Windows |

已知问题和限制

Audiokinetic 一直致力于提供品质出众的软件。不过，用户也要了解此 Wwise 版本中存在的限制和已知问题。

# Wwise 限制

以下列表描述本版 Wwise 中存在的限制。

- 3D Spatialization
  - 在对标准多声道声音实施 3D 空间化处理时，所有给定数量的声道（不包括 LFE）都应采用硬编码声道布局。硬编码声道布局如下：

|  |  |
| --- | --- |
| **声道数** | 布局 |
| 1 | FC |
| 2 | FL-FR |
| 3 | FL-FR-FC |
| 4 | FL-FR-SL-SR |
| 5 | FL-FR-FC-SL-SR |
| 6 | FL-FR-BL-BR-SL-SR |
| 7 | FL-FR-FC-BL-BR-SL-SR |
| 8 | FL-FR-FC-BL-BR-SL-SR-T |
| 9 | FL-FR-FC-BL-BR-SL-SR-HFL-HFR |
| 10 | FL-FR-FC-BL-BR-SL-SR-HFL-HFC-HFR |
| 11 | FL-FR-FC-BL-BR-SL-SR-HFL-HFR-HBL-HBR |
| 12 | FL-FR-FC-BL-BR-SL-SR-HFL-HFC-HFR-HBL-HBR |
| 13 | FL-FR-FC-BL-BR-SL-SR-T-HFL-HFC-HFR-HBL-HBR |

- 环绕立体声
  - Speaker Panning 对 Ambisonics 声部/总线不起作用。
  - 在以 Ambisonics 格式编码时，标准声道配置（单声道、立体声、5.1 等）的声部/总线的 Balance-Fade 声像摆位不起作用。
  - Matrix Reverb 不支持 Ambisonics 配置。
  - 在处理环绕立体声时，对于后期混响，忽略 RoomVerb 混响器的前置、后置和中置电平，而对于早期反射，忽略中置电平。
- 音频总线   
  - 如果您在设为 Continuous 的循环序列容器中闪避播放一系列短声音的总线，则在短声音之间或者容器循环点处闪避可能失效。为了避免这一行为，您可以在容器内的声音之间添加精确到采样点的过渡段，或者将闪避恢复时间设为除零外的任何值。
  - 在 Android 8.0 及更高版本的移动平台上，若 Wwise 应用运行时另一应用以 Picture-in-Picture 模式播放音乐，并且关闭该应用时 Wwise 应用没有失去焦点，则不会将带有 Mute for Background Music 属性的总线取消静音。只有 Wwise 应用失去焦点后，再继续时才能正常恢复 BGM 音乐。
- 音频设备
  - **WG-50870** 在使用 Spatial Sound 输出到与 Xbox 控制器相连的耳机时，Windows 上出现音频卡顿。
- 音频文件管理   
  - 当播放不同于平台自有采样速率（Windows 为 48 kHz）的声音时，音频管线使用实时采样率转换节点。为了防止可能发生的转码率混叠噪声，应转换不需要移调的内容（例如音乐）来匹配自带平台的转码率。对于 Windows，还可以通过使用 SDK 中提供的音频品质选项，获得 24 kHz 的内建格式。
  - Vorbis 编码器库可导致采样率低于 16 kHz 的声音的音频质量低下。Vorbis 编解码器特别适用于更高的采样率，在高于 16 kHz 的频率上表现卓越。然而，采样率低于 16 kHz 的音频质量根据所用的编码设置和音频素材本身，可能大不相同。
  - 当应用某些格式的转码设置中指定的 Wwise 循环修复算法时，可能导致轻微噪声。这些噪声由算法中的轻微时间伸缩或移调造成，对于时长长的声源来说不太明显。
  - 在音频转码过程期间，移除了短于采样边界（特定于格式）的循环区域。
  - 每当循环点因为循环修复而交叉时，循环的音频片段可能会失去时间精度。然而，段落中的 Play 和 Stop 位置始终是精确到采样点的。
  - **WG-30292** Init SoundBank 的声音包定义文件（‘Init.txt’）包含一个 State Groups（状态组）的清单，这个清单是针对工程所包括的每一个 State（状态）的。但是，除非 State Group 关联了过渡时间，否则 Init.bnk 不会也不需要包含任何 State Group 的信息。添加或重命名 State Group 不会改变 Init.bnk 的内容，所以也不需要重新生成 Init.bnk。‘Init.txt’的生成是和‘Init.bnk’的生成相关联的。为了强制让‘Init.txt’反应添加的或重命名的State Group，并且在‘Init.bnk’内容没有改变时重新生成，‘Init.bnk’必须被手动删除。
- 容器   
  - 虽然您可以将切换容器用作带有精确到采样点级过渡的随机或序列容器的子代，但如果切换容器同时播放多个声音，则过渡也不会是精确到采样点的。
  - 从定义上来说，如果容器采用精确到触发率的过渡，是无法同时精确到采样点的。因此，若其父容器采用精确到采样点的过渡，在播放时就可能会出现不同步问题。
  - 任何类型容器中的子代最大数量是 65,535。虽然 Wwise 可让您在设计工具中创建 65,535 多个子代，但是父代与超出此限制的子代之间不可创建父子链接。没有链接，这些子代对象就无法在播放期间收到任何更新通知，包括音量、位置等的改变。
  - 在结合随机和序列容器使用交叉淡变、精确到采样点和触发率过渡段时，当前存在一些规定和局限。有关如何使用交叉淡变过渡的详细信息，请参阅《Wwise 用户指南》中的[使用交叉淡变过渡的注意事项](https://www.audiokinetic.com/library/?source=Help&id=managing_crossfades#using_caution_with_crossfade_transitions)。
  - 如果使用触发率作为过渡段类型的随机或序列容器达到播放实例限制，则将终止当前正在播放的声音和容器本身。
  - 对于触发类型为 Trigger Rate 的 Random Container 或 Sequence Container，将忽略为其应用 Resume 动作后产生的淡变过渡。
- 效果器
  - 由于在旁通或不旁通效果器时都不能应用交叉淡变，因此在使用 Enable/Disable Bypass 事件动作时可能遇到咔哒声。
  - 如果想要有振动效果器，那么扳机键电机（默认值和Xbox One上）不能在Wwise设计工具中激活。只有PC UWP应用能使用它们。
- 互动音乐   
  - 音乐切换过渡规则不可使用**Sync To - Same Time as Playing Segment**和**Use transition segment**这两个选项。当启用**Use transition segment**时，应使用**Sync To - Entry Cue**。
  - "Break" Event Action 对互动音乐对象（Music Segment、Music Switch Container 和 Music Playlist Container）不起作用。在音乐切换容器的帮助下可复制它的功能。
  - 片段之前声轨空白将视为片段的前导段，可能导致音乐过渡段延迟发生。
  - 运行时采样率转换将使声音每秒大约多 12 个采样，导致音乐对象之间略微不一致。以下采样率的声源受到影响：44100 Hz、22050 Hz、11025 Hz。
  - Music Segment Editor 中为转码结果文件显示的波形数据代表原始文件，而不是转码结果文件。
  - 在将 Music Event Cue 的动作设为 SetState 时可能会产生未知的结果。
- 实时编辑
  - 在播放期间或连接到游戏时不允许某些操作，但使用 List View 或 Multi-Edit 功能可以错误地进行编辑。这些操作包括：
    - 修改 Output 总线或 Override 总线选项。
    - 启用/禁用声部限制系统。
  - 在播放期间编辑它们可能导致游戏不稳定，需要重新启动声音引擎来恢复稳定。
- 定位
  - 如果您在播放期间沿路径添加或移除点，则声音将继续播放，但不会传播。在下次播放声音时，将应用您所做的更改。
- 项目   
  - 当项目保存到映射网络驱动器时，性能可能受到严重影响。如果您决定将工程保存到映射网络驱动器中，则请注意 Audiokinetic 不会支持这些工程。
- 远程连接
  - 如果在 Remote Connections 对话框处于打开的状态下计算机的 IP 地址发生变化，则计算机将把 LAN IP 地址显示在 Available 列表中，而非通常的“Local Host”IP 地址。如果您连接到此计算机，则此计算机将使用 LAN IP 地址添加到 History 列表中，即使它已经使用“Local Host”IP 地址位于列表中。Wwise 不能识别出这两个条目位于同一远程计算机上。下次您使用 Wwise 时，两个条目将保留在 History 列表中。尽管存在重复，但您仍可使用任一条目连接此计算机。
  - 有关排除远程连接故障的信息，请参阅在“Profiling Tips and Best Practices”页面中找到的名为“Troubleshooting Remote Connection Issues”的 Wwise Help 列表。
- SDK   
  - Wwise SDK 效果器示例和源插件的 Debug 版本不可用于 Wwise 设计工具。
- 流播放   
  - 流播放外部源被缓存系统忽略。
  - 在执行性能分析期间，当 Stream Manager 池中内存不足时可能发生软死锁，因为 I/O 线程可能不停地向性能分析队列发送内存不足通知。
- 视频驱动程序
  - 在打开/创建工程时，旧版本的 AMD Radeon 驱动程序可能会导致 Wwise 崩溃。为此，请务必安装最新的驱动程序。
- 声部行为
  - 为了节省性能，在启动声部前将计算总体声部音量的预估值。（启动声部包括流播放、实现效果器和实现混音总线层级结构。）预估值不考虑混音总线或辅助发送的音量。因此，即使在播放时输出总线上的总线音量将导致声部超过阈值，虚声部行为设为 Kill Voice 的声部也可能当即被终止。同样，当输出总线音量低于阈值，但有一个辅助发送时，声部一旦播放就会立即被终止。然而，如果在声音播放时，输出总线音量降到阈值以下，那么声音则不会被终止，与预期相符。

# Wwise 已知问题

以下列表描述本版 Wwise 中无法解决的相关遗留问题。

- 音频文件   
  - **WG-11260**：带有太多标记的文件中的音频无法播放。如果文件头中的标记数据块大于文件流播放的粒度，则代码将无法读取文件头。
  - **WG-54888**：音频文件路径不区分大小写：并未限定必须在输出文件中引用哪种表示方式。
  - **WG-68171**：声音引擎有时无法处理设在音频文件末尾的标记点（取决于转码音频文件的采样率）。
- Contents Editor
  - **WG-14785**：Contents Editor 中显示的对象不是按字母顺序排序的，这使得快速 查找对象变得困难。
- Conversion Settings ShareSet
  - **WG-67907**：目前没有用于 Opus 音频文件格式的 Factory Conversion Settings ShareSet。若需要使用 Opus，则须在 Wwise 设计工具中自行创建 Conversion Settings ShareSet。
- 解码的 SoundBank
  - **WG-30133**：（仅限 tvOS）不可保存本地解码 SoundBank。
- Game Object 3D Viewer
  - **WG-16246**：Game Sync Monitor 在您添加或从 Watches 列表中移除监视时才按预期更新。
  - **WG-45998**：倘若在设为辅助监视器的 HIDPI 监视器上将设计工具最大化，会导致 Game Object 3D Viewer 黑屏。通过将 HIDPI 监视器设为主监视器，可以避免出现此问题。
- 互动音乐   
  - **WG-14711**：在段落同步点处，可以连续发送两个“bar”、“beat”或“grid”通知。
  - **WG-15728**：当过渡段落添加到 Any to Any 过渡段后被移除时，音频段落及相应的媒体文件仍错误地包含在 SoundBank 中。
  - **WG-16269**：在将效果器插入到互动音乐对象（Music Segment、Music Switch Container 和 Music Playlist Container）中时会把效果器尾音剪掉。
- Integration Demo
  - **WG-40445**：假如将 Android Gradle 工程放在包含空格的路径（如 Program Files）下，IntegrationDemo 会构建失败。
- 键盘快捷方式管理器
  - **WG-19947**：使用“Windows”键的 OS 键盘快捷方式在 Wwise 中不可重新映射。
- 振动
  - **WG-14852**：在对白事件中，振动效果对象没有按预期工作。
  - **WG-38787**：由于 Xbox One 控制器和 Windows 驱动程序之间存在兼容性问题，导致这种控制器无法在设计工具中正常运行。在这种情况下，建议改用 Xbox 360 控制器。
  - **WG-69519**：在基于 macOS 和 iOS 的设备上，Motion 输出设备会丢掉前几个音频帧的非零振动数据来降低 CPU 用量。
  - **WG-69092**：在 Windows 上，在通过 Bluetooth 连接的 XInput 控制器上使用 Motion 输出可能会导致性能严重下降或因声部匮乏而出现噼啪噪声（不同用户的情况可能有很大不同）。您可以在 CPU Timeline 或其他性能分析工具中察看这一问题。其中可能会显示需要很长时间来执行 CAkLEngine::SoftwarePerformEpilogue。具体的一些表现包括：
    - 每个时钟周期要多花 2 毫秒的时间来执行所述函数。
    - 在将 [AkInitSettings::uNumSamplesPerFrame](struct_ak_init_settings_a2438a18ece872c83175f70d7f70d659b.html#a2438a18ece872c83175f70d7f70d659b "Number of samples per audio frame (256, 512, 1024, or 2048).") 设为低于 400 的值时，若每秒调用 120 次以上，最多可能要花 8 毫秒的时间来执行所述函数。
- Multi-Channel Creator
  - **WG-16302**：源文件中的循环标记示例在 Multi-Channel Creator 生成的多声道文件中无保留。
- 声障/声笼
  - **WG-15678**：在连接到游戏的同时更新 Wwise 中的声障/声笼曲线，曲线信息不会像预期那样在游戏中生效。
- 离线渲染
  - **WG-57383**：若在进入 Play 模式前启用离线渲染示例脚本，则不会听到任何声音。若在进入 Play 模式后启用，能听到渲染的音频但会断断续续。
  - **WG-57403**：若在禁用离线渲染后没有重新启动声音引擎，则主输出设备保持静音状态。
- 播放限制   
  - **WG-15124**：在 Wwise 应用程序中，即使涉及振动总线的播放限制为灰色，也可继续应用它。
  - **WG-43108**：在以下情况下会针对同一游戏对象重复播放相同的声音：
    - 使用 offset priority by `<X>` at max distance
    - 游戏对象在移动
    - 声音实例数已经超出指定的限值。最终可能会错误地终止最新或最早的声音实例。这是优化系统的副作用。它会阻止用户触发的新声音实例不断累积，以免系统中存留大量并不会播放的实例。
- Profiler   
  - **WG-15476**：当 Wwise 检测到两个相似的媒体文件大小不相同时，profiler 中不会发出错误消息。
  - **WG-15617**：当 profiler 中出错时，Wwise 显示事件 ID，但不显示事件名称。
- Property Editor
  - **WG-41324**：在更改属性导致总线在非混音总线和混音总线之间转换时，假如正在通过其播放声音，可能会导致无法正确更新音量。重新开始播放后，音量是正确的。
- RTPC
  - **WG-14506**：当使用峰值限幅器和输出级别由 RTPC 驱动的参数均衡器时可能发生音频故障。
  - **WG-43798**：在音量从多个控制点向不同方向过渡（降低或增高）时可能会出现毛刺噪声；可能会导致增益产生瞬时波动。比如，若声音受 2 个阶段的音量过渡影响（在几秒内由 0 dB 增到 +50 dB 或由 0 dB 降到 -50 dB），则过渡帧的增益可能并不会刚好落在 0 dB。
- SDK/声音引擎   
  - **WG-15501**：在游戏对象注销后，切换容器可能重复使用内存地址，导致 Wwise 播放预期之外的其它声音。
  - **WG-16185**：对于 IsInitiallyUnderThreshold 中的 2D 声音，不会调用扬声器音量矩阵回调。
- 源插件
  - **WG-16232**：当在 Soundseed Air Woosh 源插件中使用 Pink 或 Red 声噪颜色设置时，可能发生限幅。
- 版本控制
  - **WG-15558**：当使用 Perforce 插件时，文件历史记录在收到信息时没有必要地进行滚动。
  - **WG-15559**：当使用 Perforce 插件时，P4 返回的历史记录截断描述，删除了有用的信息。
  - **WG-16257**：当加载的工作单元包含文件名开头含有空格的音频源时，Wwise 可能会崩溃。
  - **WG-20587**：当创建磁盘路径大于 MAX\_PATH (255) 个字符的嵌套式工作单元时，可能发生问题。

以下列表描述这一版本 Mac® Wwise 设计工具特有的限制。

- Audio File Importer：
  - **WG-23920**：Mac 设计工具：使用 CTRL 加拖放/CTRL-SHIFT 加拖放操作无法在 Wwise 中导入 WAV 文件。
- 音频文件管理：
  - **WG-24779**：Mac 设计工具：阻止将 WAV 文件移出“Originals”文件夹，并发出错误消息。
- Crankcase Audio REV：
  - **WG-29775**: Mac 设计工具：用户不能使用Crankcase Audio REV。
- 自定义命令：
  - **WG-58714**：Mac 设计工具：无法重定向 Unix 程序的输出。
- 键盘快捷方式：
  - **WG-25129**：Mac 设计工具：当使用日语“Romaji”和“Katakana”输入源时，Wwise 键盘快捷方式受损。
- 布局/工具栏/视图：
  - **WG-22214**：Mac 设计工具：当使用 Mac OS X 窗口管理按钮时，Wwise 布局将变得混乱。
  - **WG-22217**：Mac 设计工具：当显示/调整浮动视图时会显示白色边框。
- Mac OS X 版本特性：
  - **WG-25990**：Mac 设计工具：当连接蓝牙或 HDMI 音频设备时，音频不会自动切换到新设备。
- 振动：
  - **WG-22220**：Mac 设计工具：当关闭 Wwise Motion Generator Source Editor 时 Wwise 崩溃。
- 平台：
  - **WG-22234**：Mac 设计工具：在 Mac OS X 中，选择“Mac”作为默认平台。
- 项目：
  - **WG-22237**：Mac 设计工具：通过双击 \*.WPROJ 文件无法打开 Wwise 工程。
- 工程浏览器：
  - **WG-24807**：Mac 设计工具：当您在 MacOS Finder 中删除 WAV 文件时，在工程浏览器中，对象名称颜色不会自动更新。
- 工程设置：
  - **WG-22244**：Mac 设计工具：不支持版本控制插件（Perforce 和 Subversion）。
- RTPC：
  - **WG-22231**：Mac 设计工具：RTPC 曲线上无抗锯齿功能。
- SoundBank：
  - **WG-24974**：Mac 设计工具：当您编辑 SoundBank 路径或/生成前/生成后步骤时，编辑框内容无法正常更新。
  - **WG-26291**：Mac 设计工具：Mac 中不支持 File Packager。
  - **WG-60466**：Mac 设计工具：不支持在生成前/生成后操作中嵌入 Unix 程序。
  - **WG-65713**：Auto-defined SoundBank 不支持 Dynamic Dialogue Event。Dynamic Dialogue Event 必须放在 User-defined SoundBank 中。
- SoundBank Manager：
  - **WG-22243**：Mac 设计工具：在 SoundBank Manager User Settings对话框中按 ESC 键将清空其内容，而不会关闭它。
- Audio Definition Model 支持（实验功能）
  - Bed 声道顺序必须遵从 Dolby Atmos Master 配置文件（参见 [Dolby Atmos ADM 配置文件规格](https://professionalsupport.dolby.com/s/article/Dolby-Atmos-ADM-Profile-specification?language=en_US)）。7.0.2 和 7.1.2 Bed 配置下的高度声道会被解释为 Front 高度声道。
  - Wwise 声音引擎中 3D 定位所用声像摆位算法会产生跟 Dolby Atmos 中所用 Cartesian Point Source Panner 不同的结果（尤其是在声源靠近听者时）。
  - Width、Height 和 Depth 会以线性方式映射到 Spread。Spread 对应于三个分量均为 1.0 的对象。
  - ADM 音频数据会被 Sound 或 Clip 上插入的效果器视为 Anonymous 多声道配置。
  - 以下元数据不受支持：
    - Screen Scaling
    - Screen Edge Lock
    - Channel Lock
    - Divergence
    - Zone Exclusion
    - Gain
    - Diffuse