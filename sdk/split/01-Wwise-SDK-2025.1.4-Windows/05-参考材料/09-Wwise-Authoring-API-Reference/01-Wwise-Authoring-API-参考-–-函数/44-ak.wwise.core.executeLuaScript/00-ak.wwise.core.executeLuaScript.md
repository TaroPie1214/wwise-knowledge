# ak.wwise.core.executeLuaScript

|  |
| --- |
| Wwise SDK 2025.1.4 - Windows |

ak.wwise.core.executeLuaScript

Execute Lua code from a file path (using `luaScript`) or directly as a string (using `luaString`). Optionally, specify additional Lua search paths, additional modules, and additional Lua scripts to load prior to the main script. The script can return a value, which can be any of the Lua types, including tables. All WAAPI arguments will be passed to the Lua script in the `wa_args` global variable, as a Lua table. Define your own key-values in the WAAPI arguments and access them from the Lua code. Use `wa_call` to call a WAAPI function from the Lua script. See [ak.wwise.waapi.getFunctions](ak_wwise_waapi_getfunctions.html) and [ak.wwise.waapi.getSchema](ak_wwise_waapi_getschema.html) to learn more about the functions available and their schema before using `wa_call`. If both `luaScript` and `luaString` are provided, the script file will be executed first, followed by the string code. Note that the Lua environment is reset at each call to this function.

# Arguments

| 名称 | 类型 | 说明 |
| --- | --- | --- |
| **luaScript** | string | Defines the main Lua file path to load and execute. Use this when your Lua code is stored in a file. Use an absolute file path. When this is used, the directory containing the script is automatically added to the Lua module search path, allowing the script to use `require` to load additional modules from that directory. |
| **luaString** | string | Defines the main Lua code to execute as a string. Use this when you want to execute Lua code directly without creating a file, which is useful for simple scripts, dynamic code generation, or inline execution. The code can span multiple lines and can use `require` to load modules from the configured Lua paths. This parameter is mutually optional with `luaScript` - you can use either one or both. Note: Unlike `luaScript`, using `luaString` does not automatically modify the Lua module search path (`package.path`). If you need to load modules relative to a specific directory, use `luaPaths` to explicitly add search paths. |
| **luaPaths** | array | Defines an array of paths to be used to search additional Lua modules using the `require` system. Each path should contain a ? placeholder that will be replaced with the module name. Example: `'C:/path_to_folder/`?.lua'. These paths are added to the Lua `package.path` before the main script or string is executed.  Several values provided for the option. |
| luaPaths **[...]** | string | A value for the option. |
| **requires** | array | Defines additional modules to be loaded at runtime using the `require` system. Each module will be loaded before the main script or string is executed. Note that the following folders are automatically added to the Lua module search path: `PROJECT/Add-ons/Lua`, `APPDATA/Audiokinetic/Wwise/Add-ons/Lua`, `INSTALLDIR/Authoring/Data/Add-ons/Lua`. You can place custom modules in these directories and reference them here by name.  Several values provided for the option. |
| requires **[...]** | string | A value for the option. |
| **doFiles** | array | Defines additional Lua files or directories to load before the main Lua script or string is executed. If a file path is provided, that specific file will be executed. If a directory path is provided, all .lua files in that directory and its subdirectories will be loaded recursively. This is useful for loading helper functions, configuration, or setup code that the main script depends on.  Several values provided for the option. |
| doFiles **[...]** | string | A value for the option. |

[参数架构](ak_wwise_core_executeluascript_args_schema.html)

# Result

| 名称 | 类型 | 说明 |
| --- | --- | --- |
| **return** \* | boolean, object, array, number, string | Result returned by the Lua script. Use a return statement at the end of the script. In the case of a script that does not return any value, this field will be false. |

(必填 \*)

[结果架构](ak_wwise_core_executeluascript_result_schema.html)

# Examples

- [Execute a simple Lua string](ak_wwise_core_executeluascript_example_execute_a_simple_lua_string.html)
- [Execute Lua string with arguments](ak_wwise_core_executeluascript_example_execute_lua_string_with_arguments.html)
- [Execute Lua string with wa\_call](ak_wwise_core_executeluascript_example_execute_lua_string_with_wa_call.html)
- [Execute Lua string with conditional logic](ak_wwise_core_executeluascript_example_execute_lua_string_with_conditional_logic.html)
- [Execute Lua file from path](ak_wwise_core_executeluascript_example_execute_lua_file_from_path.html)

有关 Wwise Authoring API 的详细信息，请参阅 [使用 Wwise Authoring API（WAAPI）](waapi.html) 章节。